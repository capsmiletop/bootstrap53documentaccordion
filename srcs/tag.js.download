//15.174.2-es2019 2026-01-30T09:09:31.008Z (617585dbd4173)
var CS_CONF={"isSMB":true,"status":1,"visitorCookieTimeout":33164000000,"sampleRate":100,"replayRecordingRate":100,"validationRate":10,"trackerDomain":"c.ba.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":1,"triggerSessionReplayEnabled":0,"dynamicIdRegex":"","replayRecordingUnmaskedUrlRegex":"","replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"tagDeploymentMode":"CONTENTSQUARE","iframesTracking":1,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":null,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":0,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":1,"smbConfig":{"useCSTC":true,"useSentry":false},"malkaQuotaServiceDomain":"q.ba.contentsquare.net","malkaRecordingDomain":"k.ba.contentsquare.net","voc":{"siteId":0,"enabled":1},"dynamicConfDomain":"t.contentsquare.net/settings","tagDomain":"t.contentsquare.net"};
if(window.CS_CONF_BASE) for(let p in CS_CONF_BASE) CS_CONF[p] = CS_CONF_BASE[p];
(()=>{var Rp=Object.defineProperty;var Cp=(s,r,t)=>r in s?Rp(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t;var Ms=(s,r,t)=>Cp(s,typeof r!="symbol"?r+"":r,t);var ds={};ds.d=(s,r)=>{for(var t in r)ds.o(r,t)&&!ds.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:r[t]})};ds.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();ds.o=(s,r)=>Object.prototype.hasOwnProperty.call(s,r);ds.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var Jc={};ds.r(Jc);ds.d(Jc,{getRequestParameters:()=>gE});function Vi(s,r){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(r)]),t!=null?t:s[r]}var Ot=(()=>{let s;return function(r){r.debug="debug",r.warn="warn",r.implementation="implementation",r.error="error",r.critical="critical"}(s||(s={})),s})();function Bt(s){return mt(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function fs(s){return s===parseInt(s,10)}function U(s){return mt(s)&&(typeof s=="string"||s instanceof csString)}function en(s){return typeof s=="boolean"}function qe(s){return typeof s=="object"}function mt(s){return typeof s!="undefined"}function Nt(s){return mt(s)&&s!==null}function ut(s){return typeof s=="object"&&s!==null}function Ip(s,r,t){return fs(s)&&s>=r&&s<=t}function oc(s){for(let r in s)return!1;return!0}function Ce(s){return typeof s=="function"}function pi(s){return s instanceof Element}function Gs(s){return s instanceof Error}function wo(s){let r=s.length;for(let t=0;t<r;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var Aa={[Ot.debug]:0,[Ot.warn]:1,[Ot.implementation]:1,[Ot.error]:2,[Ot.critical]:3},Tt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function Pp(s){Tt=s}var G=s=>(r,t,e)=>{let i=(t==null?void 0:t.toString())||"",n=s||`${r.constructor&&r.constructor.name}.${i}`;if(e){let o=e.value;e.value=function(...c){return gi(n,o.bind(this))(...c)}}};function gi(s,r){return function(...t){try{let e=r.apply(this,t);return mt(self.Promise)&&e instanceof self.Promise?e.then(i=>i,i=>Tt.error(Gs(i)?i:new Error(i),s)):e}catch(e){try{Tt.error(Gs(e)?e:new Error(e),s)}catch{}}}}function St(s,r,t,e){var i=arguments.length,n=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,r,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(n=(i<3?o(n):i>3?o(r,t,n):o(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n}var ln=typeof window=="undefined";function Op(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof ds.g!="undefined"?ds.g:typeof process!="undefined"?process:Function("return this")()}var wt=Op();function Qc(s){let r=new ArrayBuffer(s.length),t=new Uint8Array(r);for(let e=0,i=s.length;e<i;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return r}function zl(s){let r=new Uint8Array(s),t="";for(let e=0;e<r.byteLength;e+=1)t+=csString.fromCodePoint(r[e]);return t}function _u(s){let r=wt.atob(s);return Qc(r)}function ac(s){let r=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(r,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}function Gl(s){let r=csString.prototype.indexOf.call(s,";base64,")!==-1,t=csString.prototype.indexOf.call(s,","),e=r?[csString.prototype.substring.call(s,0,t-7),csString.prototype.substring.call(s,t+1)]:[csString.prototype.substring.call(s,0,t),csString.prototype.substring.call(s,t+1)];if(!r&&/^%3Csvg/i.test(e[1]))try{e[1]=decodeURIComponent(e[1])}catch(o){Tt.warn(`${o}, calling decodeURIComponent on: ${e[1]}`)}let n=r?_u(e[1]):Qc(e[1]);return new Blob([n],{type:csString.prototype.replace.call(e[0],"data:","")})}var wu=typeof performance!="undefined"&&!!performance.now,ql=wu?()=>performance.now():()=>csDate.now(),Np=(()=>{var s,r;return wu?(r=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&r!==void 0?r:Math.floor(performance.timeOrigin):0})(),Zc=34164e6,K={now(){return Math.round(ql()+Np)},elapsed(){return ql()}};function Wl(){return Math.floor(K.now()/1e3)}function Mp(){return typeof wt.Promise=="function"}function Dp(){var s;return typeof crypto!="undefined"&&Ce((s=crypto.subtle)===null||s===void 0?void 0:s.digest)}function Yl(){var s,r;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((r=window.navigation)===null||r===void 0?void 0:r.removeEventListener)=="function"}function ce(s,r){return csString.prototype.lastIndexOf.call(s,r,0)===0}function vr(s,r){return csString.prototype.indexOf.call(s,r,s.length-r.length)!==-1}var kp=Number.MAX_SAFE_INTEGER||9007199254740991,ps={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=kp){return Math.floor(Math.random()*s)}};function so(s,r){let t,e,i,n,o,c=null,h=f=>{let g=K.elapsed();if(!f&&c!==null){let _=r-(g-c);if(_>=1){i=wt.csSetTimeout(h,_);return}}let v=g-n;i=null,c=null,n=null,o=s.apply(t,[v,...e])},d=function(){if(t=this,e=arguments,n){c=K.elapsed();return}return n=K.elapsed(),i=wt.csSetTimeout(h,r),o};return d.flushPending=()=>{i&&(wt.csClearTimeout(i),h(!0))},d.cancel=()=>{c=null,n=null,i&&(wt.csClearTimeout(i),i=null)},d}var Ge=(()=>{class s{static setGlobalService(t){s.globalService=t}static WE(t){this.YE.test(t)||Tt.error(`Invalid metric name: "${t}". Must contain only letters with optional hyphens or dots between words.`)}static validateParameterName(t){!/^https?:\/\/.+/.test(t)&&!this.XE.test(t)&&Tt.error(`Invalid parameter name: "${t}". Must start with letters and can contain letters or numbers after hyphens, dots, or colons.`)}constructor(t){this.name=t,this.values={},s.WE(t)}reset(){this.values={}}flush(t=""){if(!s.globalService)return!1;let e=this.values,i=Object.keys(e);if(!i.length)return!1;let n=csArray.prototype.map.call(i,o=>({name:this.name,parameter:`${t===""?"":`${t}.`}${o}`,value:Math.round(e[o])}));return s.globalService.push(n),this.reset(),n.length>0}}return s.globalService=null,s.YE=/^[a-zA-Z]+([-.][a-zA-Z]+)*$/,s.XE=/^[a-zA-Z]+([-.:_][a-zA-Z0-9]+)*$/,St([G()],s.prototype,"flush",null),s})(),ne=(()=>{class s extends Ge{constructor(t,e=100){super(t),this.KE=e,this.values={},e&&(this.debouncedFlush=so(()=>this.flush(),this.KE))}count(t,e=1){Ge.globalService&&(this.values[t]||Ge.validateParameterName(t),this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),Hn=(()=>{class s extends Ge{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e,this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}flush(t=""){if(this.count===0)return!1;let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,i=>!csArray.prototype.some.call(this.collecting,n=>i===n)),i=>{delete this.values[i]}),super.flush(t)}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),Bn=(()=>{class s extends Ge{constructor(t,e=["max","average","total","count"]){super(t),this.collecting=e}flush(t=""){let e=Object.keys(this.values);return csArray.prototype.forEach.call(csArray.prototype.filter.call(e,i=>!csArray.prototype.some.call(this.collecting,n=>csString.prototype.endsWith.call(i,`.${n}`))),i=>{delete this.values[i]}),super.flush(t)}add(t,e){var i,n,o,c,h,d,f;if(!Ge.globalService)return;this.values[`${t}.count`]||Ge.validateParameterName(t);let g=v=>this.values[`${t}.${v}`];(i=(c=this.values)[h=`${t}.count`])!==null&&i!==void 0||(c[h]=0),(n=(d=this.values)[f=`${t}.total`])!==null&&n!==void 0||(d[f]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((o=g("max"))!==null&&o!==void 0?o:0,e),this.values[`${t}.average`]=g("total")/g("count")}}return s})(),xp=(()=>{class s extends Ge{constructor(){super(...arguments),this.values={}}set(t,e="flags"){var i,n;Ge.globalService&&(this.values[e]||Ge.validateParameterName(e),(i=(n=this.values)[e])!==null&&i!==void 0||(n[e]=0),this.values[e]|=t,this.flush())}}return s})(),Lp=(()=>{class s extends Ge{constructor(t,e={iterations:10,interval:2e3}){super(t),this.lf=e,this.na=0,this.Ve=null,this.oa=[],this.values={}}push(t){document.visibilityState!=="hidden"&&(this.na+=t,this.Ve||this.JE())}JE(){this.Ve=window.csSetInterval(()=>{csArray.prototype.push.call(this.oa,this.na),this.na=0,this.oa.length>=this.lf.iterations&&this.Ve&&csClearInterval(this.Ve)},this.lf.interval)}flush(t){return this.Ve&&(csClearInterval(this.Ve),this.Ve=null),csArray.prototype.forEach.call(this.oa,(e,i)=>{this.values[`interval.${i+1}`]=e}),this.oa=[],this.na=0,super.flush(t)}}return s})(),rt={counters:{commandsFromIntegrations:new ne("commands-from-integrations"),commandsFromCSTC:new ne("commands-from-cstc"),commandsFromIframe:new ne("commands-from-iframe"),commandApplied:new ne("command-applied"),commandError:new ne("command-error"),commandMisuse:new ne("command-misuse"),CSTCSnippetUsed:new ne("cstc-snippet-used"),redactedPII:new ne("redacted-pii"),pageAnonymisation:new ne("page-anonymisation"),patchedNativeFunctions:new ne("patched-native-functions"),pureWindowState:new ne("pure-window-state"),sensitiveElements:new ne("sensitive-elements"),cspErrors:new ne("csp-errors"),networkRequests:new ne("network-requests"),webVitalsErrors:new ne("web-vitals-errors"),trackedFeatures:new ne("tracked-features"),longTasks:new Hn("long-tasks"),errors:new ne("errors"),methodPerformance:new Bn("perf"),transferSize:new Hn("transfer-size",["max","average"]),downloadTime:new Hn("download-time",["average"]),blockingTime:new Hn("blocking-time"),inpContribution:new Bn("inp-contribution"),tasks:new Bn("tasks"),availableFeatures:new xp("available-features"),dom:new Bn("dom",["total"]),mutations:new Lp("mutations"),requestTimeouts:new ne("request-timeouts")},setService(s){Ge.setGlobalService(s)}},hn=(()=>{class s{constructor(){this.aa=0}get length(){return this.aa}get isEmpty(){return!this.Qs}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.aa++,this._n?this._n=this._n[1]=[t,void 0]:this._n=this.Qs=[t,void 0]}pop(){if(!this.Qs)return null;this.aa--;let t=this.Qs[0];return this.Qs=this.Qs[1],this.Qs||(this._n=void 0),t}forEach(t){let e=this.Qs;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.aa=0,this.Qs=this._n=void 0}}return s})(),cc=0,tl=s=>{cc++,csQueueMicrotask(()=>Ui(()=>{try{s()}finally{cc--}},[gs.MicroTask,"queueMicrotask"]))},io=new hn,ro=new hn;function be(s,r="high"){io.isEmpty&&ro.isEmpty&&Au(Vp),r==="high"?ro.push(Xl(s)):io.push(Xl(s))}function Au(s,r=10){r===0?tl(s):csQueueMicrotask(()=>Au(s,r-1))}function Vp(){for(;!ro.isEmpty;)ro.pop()();for(;!io.isEmpty;)io.pop()()}async function Tu(s=1){for(let r=0;r<s;r++)await new Promise(t=>be(t))}function Xl(s){return function(){try{s.apply(window,arguments)}catch(r){Tt.critical(r)}}}var Zn="null",ci=null,bu=[],Up=()=>{var s;return ln||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!ln&&Up()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],ci=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{lc({type:"UXA_EVENT",event:s.detail})}),ci.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===Zn)return;Zn=s.data.sessionId,csArray.prototype.forEach.call(bu,r=>r()),ci==null||ci.postMessage({type:"CONNECTED",sessionId:Zn})}}));function jp(s){ln||(Zn!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(bu,s)))}function lc(s){ci==null||ci.postMessage(s)}function sn(s){var r;let t=(r=s.length)!==null&&r!==void 0?r:0,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=s[i];return e}function ns(s,r){let t=s.length,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=r(s[i]);return e}function Hp(s,r,t){let e=[],i=0;for(let n=0;n<s.length;n+=1){let o=r(s[n]);for(let c=0;c<o.length;c++)t(o[c],i++)}return e}function el(s,r){let t=[];return Hp(s,r,e=>csArray.prototype.push.call(t,e)),t}function dt(s,r){if(Bp(s)){let t=s.length;for(let e=0;e<t;e++)r(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)r(e.value,t++),e=s.next()}}function Bp(s){return s.length>=0}function Sr(s,r){let t=s.length;for(let e=0;e<t;e++)if(r(s[e],e))return s[e]}function Ru(s,r){let t=s.length;for(let e=0;e<t;e++)if(r(s[e],e))return!0;return!1}function Cu(s,r){let t=s.length;for(let e=0;e<t;e++)if(!r(s[e],e))return!1;return!0}function no(s,r){let t=s.length,e=[];for(let i=0;i<t;i+=1){let n=s[i];r(n)&&csArray.prototype.push.call(e,n)}return e}function Fp(s,r,t){let e=s.length+r.length+((t==null?void 0:t.length)||0),i=new csArray(e),n=0;for(let o=0;o<s.length;o++)i[n++]=s[o];for(let o=0;o<r.length;o++)i[n++]=r[o];if(!t)return i;for(let o=0;o<t.length;o++)i[n++]=t[o];return i}function Kl(s,r){for(let t=0;t<s.length;t++)csArray.prototype.push.call(r,s[t])}function qs(s){let r=s instanceof Map,t=[];return s.forEach((e,i)=>csArray.prototype.push.call(t,r?[i,e]:e)),t}function $p(s){return csArray.isArray(s)&&s.length>0}var un=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),Ds=(()=>{class s extends un{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var Jl=(()=>{class s extends un{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),ks=(()=>{class s extends un{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=K.elapsed();t(),this.count++;let i=K.elapsed()-e;return this.max=Math.max(this.max,i),this.total+=i,i}asyncMeasure(){let t=K.elapsed();return()=>{this.count++;let e=K.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),zp=(()=>{class s extends un{constructor(){super("INP","Value: {value}")}getData(){return{value:qt.tasks.eventListener.max}}}return s})(),qt={general:{category:"General",nbEvents:new Ds("Nb of Events"),pendingTasks:new Ds("Pending Tasks"),pendingEvents:new Ds("Pending Tasks"),nbOfMutationObservers:new Jl("Nb of Mutation Observers"),inp:new zp},mutations:{category:"Mutations",initialDOM:new ks("Initial DOM"),pendingMutations:new Ds("Nb of Mutations scheduled"),serializedMutations:new ks("Serialized Mutations"),count:new Ds("Mutation Count"),elementMutationObserved:new Jl("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new ks("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new Ds("Nb of Hidden Elements "),nbElements:new Ds("Nb of  Elements")},tasks:{category:"Tasks",tasks:new Ds("Tasks"),errors:new Ds("Errors"),timer:new ks("Timers"),microtask:new ks("Microtasks"),mutationObserver:new ks("MutationObserver"),monkeyPatch:new ks("MonkeyPatch"),eventListener:new ks("EventListener"),intersectionObserver:new ks("Intersection")}};function Gp(){let s=null;jp(()=>{let r=n=>Object.keys(n),t=csArray.prototype.map.call(r(qt),n=>qt[n]),e=csArray.prototype.map.call(t,n=>csArray.prototype.filter.call(csArray.prototype.map.call(r(n),o=>n[o]),o=>o instanceof un));lc({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(n,o)=>({category:n.category,performanceCounters:csArray.prototype.map.call(e[o],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{Ui(()=>{let n=el(ns(e,o=>ns(o,c=>c.getData())),o=>o);lc({type:"UXA_PERFORMANCE_COUNTER",event:n})},[gs.Timer,"performance-counter-interval"])},1e3))})}var gs=(()=>{let s;return function(r){r.Timer="timer",r.MonkeyPatch="monkeyPatch",r.MutationObserver="mutationObserver",r.EventListener="eventListener",r.IntersectionObserver="intersectionObserver",r.MicroTask="microtask"}(s||(s={})),s})(),Te=null,qp=["click","tap","keyup","keydown","pointerup","pointerdown"];async function Ui(s,r,t=null){if(Te&&r[0]!==gs.MicroTask)return s();t&&(Te=t),Te||(Te={type:r[0],elapsed:0},qt.tasks.tasks.increase());try{Te.elapsed+=Wp(s)}catch(e){qt.tasks.errors.increase(),Tt.critical(new Error(`Task error:  ${r}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{cc<=0&&(qt.tasks[Te.type].elapsed(Te.elapsed),Te.elapsed>50&&(rt.counters.longTasks.push(Te.elapsed),rt.counters.blockingTime.push(Te.elapsed-50)),rt.counters.tasks.add(r[0],Te.elapsed),csArray.prototype.includes.call(qp,r[1])&&rt.counters.inpContribution.add(r[1],Te.elapsed),Te=null)}}function Wp(s){let r=K.elapsed();return s(),K.elapsed()-r}var Ta,Iu="cs-native-frame";var ei={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild","nodeType"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function Pu(s,r){let t=Vi(window,s);return function(e,i){return t(()=>Ui(e,[r,s]),i)}}window.csSetTimeout=Pu("setTimeout",gs.Timer);window.csSetInterval=Pu("setInterval",gs.Timer);window.csQueueMicrotask=(Ta=Vi(window,"queueMicrotask"))!==null&&Ta!==void 0?Ta:setTimeout;window.csClearTimeout=Vi(window,"clearTimeout");window.csClearInterval=Vi(window,"clearInterval");window.csFileReader=Vi(window,"FileReader");(()=>{var s;let r=0;function t(i){return"cs$Symbol_"+i}function e(i){return t(i)+ ++r}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function Yp(){let s=document.createElement("iframe");s.id=Iu,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let r=document.createElement("cs-native-frame-holder");if(r.setAttribute("hidden",""),document.body.appendChild(r),!!Element.prototype.attachShadow){let e=r.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return r.innerHTML=s.outerHTML,r.firstElementChild.contentWindow}function Xp(s,r){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,r));)e=Object.getPrototypeOf(e);return t}function Kp(s,r,t){let e=Xp(s,r);if(!e)return function(){return this[r]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Ou(s){var r,t;Object.keys(ei.constructors).forEach(i=>{window[ei.constructors[i]]=s[i]instanceof Function&&s[i].prototype==null?s[i].bind(window):s[i]}),Zp(s);let e=s.MutationObserver;("Prototype"in window||Qp())&&(e=(t=(r=Vi(window,"MutationObserver"))!==null&&r!==void 0?r:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=Ql(window.IntersectionObserver,gs.IntersectionObserver),window.csMutationObserver=Ql(e,gs.MutationObserver),rr("csNode",ei.nodeProperties,s.Node.prototype,"get"),rr("csElement",ei.elementProperties,s.Element.prototype,"get"),rr("csElement",ei.elementPropertiesValues,s.Element.prototype,"value",!1),rr("csHTMLImageElement",ei.imageProperties,s.HTMLImageElement.prototype,"set"),rr("csEvent",ei.eventProperties,s.Event.prototype,"get"),rr("csNavigator",ei.navigatorProperties,s.navigator,"value")}function rr(s,r,t,e,i=!0){r.forEach(n=>{let o=typeof n!="string"&&"binding"in n,c=o?n.propertyName:n;(i||c in t)&&(window[`${s+c}`]=Kp(t,c,e),o&&(window[`${s+c}`]=window[`${s+c}`].bind(n.binding)))})}function sl(s,r){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=r}function Jp(){try{let s=Yp();return s?(window.CSPureWindow=s,Ou(window.CSPureWindow),!0):!1}catch(s){return sl("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!Jp())try{Ou(wt)}catch(s){sl("Critical",`failed to copy references from window: ${s.message}`)}function Qp(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Zp(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function Ql(s,r){try{let t=function(e,i){return new s((o,c)=>{Ui(()=>e(o,c),[r,s.name])},i)};return t.base=s,t}catch{return sl("Warning",`failed to extends ${s.name}`),s}}var ae=(()=>{let s;return function(r){r.ELLIPSIS="\u2026";function t(o){return csString.prototype.replace.call(o,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(o){return csString.prototype.replace.call(o,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}r.escapeInvalidCharacters=e;function i(o,c,h){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(o,c,h);let d=new csRegExp(t(c),"g");return csString.prototype.replace.call(o,d,h)}r.stringReplaceAll=i;function n(o,c,h=""){return o.length<=c?o:csString.prototype.slice.call(o,0,c-h.length)+h}r.truncate=n}(s||(s={})),s})();function hc(s){return ae.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function tg(s){let r=s.getAttribute("id");return r&&ae.escapeInvalidCharacters(r)}function Lt(s){return csNodenodeType.apply(s)===1}function oo(s){return csNodenodeType.apply(s)===3}function eg(s){return csNodenodeType.apply(s)===8}function Nu(s){return Lt(s)&&s.localName==="link"}function sg(s){return Lt(s)&&s.localName==="source"}function Mu(s){return Lt(s)&&s.localName==="a"}function il(s){return Nu(s)&&csString.prototype.indexOf.call(s.rel,"stylesheet")!==-1}function ig(s){return Lt(s)&&s.localName==="img"}function Ao(s){return Lt(s)&&s.localName==="style"}function To(s){return Lt(s)&&s.localName==="input"}function rl(s){return Lt(s)&&s.localName==="textarea"}function bo(s){return Lt(s)&&s.localName==="script"}function rg(s){return Lt(s)&&s.localName==="button"}function ji(s){return Lt(s)&&"ownerSVGElement"in s}function nl(s){return Lt(s)&&s.localName==="select"}function ng(s){return Lt(s)&&s.localName==="details"}function og(s){return Lt(s)&&s.localName==="summary"}function ag(s){return ji(s)&&s.localName==="image"}function cg(s){return ji(s)&&s.localName==="use"}function lg(s){return ji(s)&&s.localName==="feImage"}function hg(s){switch(csNodenodeType.apply(s)){case 9:case 11:return!0;default:return!1}}function ug(s){switch(csNodenodeType.apply(s)){case 9:case 11:case 1:return!0;default:return!1}}function ao(s){return csNodenodeType.apply(s)===9}function fr(s){return hg(s)&&"host"in s&&"mode"in s}function Du(s){return Lt(s)&&!!csElementshadowRoot.apply(s)&&fr(csElementshadowRoot.apply(s))}var dg=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function fg(s){return Lt(s)&&Nt(s.tagName)&&csString.prototype.indexOf.call(s.tagName,"-")>0&&csString.prototype.indexOf.call(s.tagName,":")===-1&&csString.prototype.indexOf.call(s.tagName,'"')===-1&&csString.prototype.indexOf.call(s.tagName,",")===-1&&csArray.prototype.indexOf.call(dg,csString.prototype.toLocaleLowerCase.call(s.tagName))<0}var dn="detached";function ku(s){let r=s,t=[r];for(;csNodeparentNode.apply(r)!==null;)r=csNodeparentNode.apply(r),csArray.prototype.push.call(t,r);return co(r)&&csArray.prototype.push.call(t,dn),{ancestors:t,selectionRoot:r}}function pg(s){let r=s,t=[r],e=null;for(;csNodeparentNode.apply(r)!==null;)e===null&&Mu(r)&&(e=r),csArray.prototype.push.call(t,csNodeparentNode.apply(r)),r=csNodeparentNode.apply(r);return co(r)&&csArray.prototype.push.call(t,dn),{firstAnchorParent:e,ancestors:t,selectionRoot:r}}function co(s){return $s.isValidElement(s)}var Pi=(()=>{var s,r;return(r=(s=wt.Element)===null||s===void 0?void 0:s.prototype)!==null&&r!==void 0?r:{}})(),Ie=Pi.matches||Pi.matchesSelector||Pi.mozMatchesSelector||Pi.msMatchesSelector||Pi.oMatchesSelector||Pi.webkitMatchesSelector,Zl=Pi.closest,xu=9;function gg(s,r){return r?csArray.prototype.some.call(r,t=>Ie.call(s,t)):!1}function mg(s,r,t){if(s===dn||csNodenodeType.apply(s)===xu)return 0;let e=t.dynamicElementNameRegex,i=!!(e!=null&&e.test(r.localName)),n=hc(r),o=0,c=r.previousElementSibling;for(;c;)(hc(c)===n||i&&(e!=null&&e.test(c.localName)))&&!gg(c,t.reliableSelectors)&&(o+=1),c=c.previousElementSibling;return o}function yg(s,r,t){if(s===dn||csNodenodeType.apply(s)===xu)return 0;let e=0,i=r.previousElementSibling;for(;i;)Ie.call(i,t)&&(e+=1),i=i.previousElementSibling;return e}var Eg=[/\d{4}/,/^ember\d+$/],vg="@",ol="data-cs-override-id",Sg="data-cs-dynamic-id";function Lu(s,r,t,e){let i=e.dynamicIdRegex||null,n=e.dynamicElementNameRegex,o=hc(s);if(n&&n.test(s.localName)&&(o=csString.prototype.replace.call(o,n,`$1${vg}`)),Ag(s,t)){let v=al(s);return{hasUniqueIdentifier:!0,elementSelector:`${o}[${ol}="${v}"]`}}let c=Og(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UA[${c.attributeName}="${c.attributeValue}"]`};let h=_g(s,t,e);if(h)return{hasUniqueIdentifier:!0,elementSelector:`${o}#UCS[${h}]`};let d=tg(s);if(bg(s,d,t,i))return{hasUniqueIdentifier:!0,elementSelector:`${o}#${d}`};let f=wg(s,e);if(f){let v=yg(r,s,f);return{hasUniqueIdentifier:!1,elementSelector:`${o}[${f}](${v})`}}let g=mg(r,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${o}:eq(${g})`}}function _g(s,r,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Ie.call(s,e)&&Pg(e,r))return e}}function wg(s,r){if(r.reliableSelectors){for(let t of r.reliableSelectors)if(Ie.call(s,t))return t}}function Ag(s,r){let t=al(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&cl(ol,t,r)}function Tg(s){return al(s)!==null}function al(s){return s.getAttribute(ol)}function bg(s,r,t,e){return r&&!Tg(s)&&!Rg(s,r,e)&&Ig(r,t)}function Rg(s,r,t){return s.hasAttribute(Sg)||Cg(r,t)}function Cg(s,r){let t=!1;return s&&r&&(t=r.test(s)),s&&(csArray.prototype.some.call(Eg,e=>e.test(s))||t)}function Ig(s,r){return s&&cl("id",s,r)}function cl(s,r,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${r}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function Pg(s,r){try{return window.csquerySelectorAll[r.nodeType].call(r,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function Og(s,r,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let i=s.getAttribute(e);if(i!==null&&cl(e,i,r))return{attributeName:e,attributeValue:i,success:!0}}return{success:!1}}var uc=11;function lo(s,r,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return th(e,t);let i=e,n=s[0],{elementSelector:o,hasUniqueIdentifier:c}=Lu(i,n,r,t);if(!t.fullPath&&c){let d=s[s.length-1];return`${th(d,t)}${o}`}let h=lo(s,r,t);return`${h?`${h}>`:""}${o}`}function th(s,r){if(s===dn)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=ku(s.host);return`${lo(t,e,r)}|shadow-root|`}return csNodenodeType.apply(s)===uc?"|fragment|":""}var Vu=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Ng=(()=>{class s extends Vu{constructor(){super(...arguments),this.ca=!1,this.ha=!1,this.nl=!1}QE(t,e){return this.ca&&!(e===null&&co(t))&&csNodenodeType.apply(t)!==uc&&!t.host}ZE(t){return!t.localName}serializeElement(t,e,i){var n;if((n=this.path)!==null&&n!==void 0||(this.path=""),this.QE(t,e))return;let o=!1;e===null&&co(t)&&(o=!0,this.done=!0);let c=this.ha&&!this.options.fullPath?"":">",h=!!t.host;if(h&&this.path&&(this.path="|shadow-root|"+c+this.path,this.nl=!0,this.ca=!1,this.ha=!1),!h&&e===null&&csNodenodeType.apply(t)===uc){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.ZE(t))return;let d=e!=null?e:"detached",{elementSelector:f,hasUniqueIdentifier:g}=Lu(t,d,i,this.options);g&&(this.ha=!0,this.ca=!this.options.fullPath);let v=`${o?`|detached|${c}`:""}${this.ca&&!g?"":f}`,b=!g&&this.ha&&!this.options.fullPath?"":this.path&&!this.nl?">":"";this.nl=!1,this.path=`${v}${b}${this.path}`}}return s})(),te=(()=>{let s;return function(r){function t(){let g=[i()];return document.documentElement&&csArray.prototype.push.call(g,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(g,document.body.scrollHeight,document.body.offsetHeight),Math.max(...g)}r.documentHeight=t;function e(){return document.documentElement.scrollWidth}r.documentWidth=e;function i(){return window.innerHeight}r.windowHeight=i;function n(){return window.innerWidth}r.windowWidth=n;function o(){let g=window.csScreen.width;return fs(g)&&g>0?g:window.screen.width}r.screenWidth=o;function c(){let g=window.csScreen.height;return fs(g)&&g>0?g:window.screen.height}r.screenHeight=c;function h(){return window.pageXOffset}r.windowOffsetX=h;function d(){return window.pageYOffset}r.windowOffsetY=d;function f(){return{dw:`${e()}`,dh:`${t()}`,ww:`${n()}`,wh:`${i()}`,sw:`${o()}`,sh:`${c()}`}}r.getRequestParameters=f}(s||(s={})),s})();function Re(s,r=ve.SHOW_ALL){let t=r|ve.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],i=eh(s);i&&csArray.prototype.push.call(e,document.createTreeWalker(i,t,null,!1));let n=null;return{root:s,nextNode(){if(i){let o=i;return i=null,o}for(;e.length>0;){if(n){let d=n;return n=null,d}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let h=eh(c);if(r&ve.SHOW_DOCUMENT_FRAGMENT&&h&&(n=h),h&&csArray.prototype.push.call(e,document.createTreeWalker(h,t,null,!1)),(Ra[csNodenodeType.apply(c)]&r)!==0)return c}return null},visitAll(o){Ra[csNodenodeType.apply(s)]&r&&o(s);let c=this.nextNode();for(;c;){if((Ra[csNodenodeType.apply(c)]&r)===0){c=this.nextNode();continue}o(c),c=this.nextNode()}},find(o){let c;return this.visitAll(h=>o(h)&&(c=h)),c},collectAll(o){let c=[];return this.visitAll(h=>csArray.prototype.push.call(c,o?o(h):h)),c}}}function eh(s){return s&&Du(s)?s.shadowRoot:null}var ba=(()=>{var s;return(s=wt.Node)!==null&&s!==void 0?s:{}})(),ve=(()=>{var s;return(s=wt.NodeFilter)!==null&&s!==void 0?s:{}})(),Ra={2:ve.SHOW_ATTRIBUTE,4:ve.SHOW_CDATA_SECTION,8:ve.SHOW_COMMENT,11:ve.SHOW_DOCUMENT_FRAGMENT,9:ve.SHOW_DOCUMENT,10:ve.SHOW_DOCUMENT_TYPE,1:ve.SHOW_ELEMENT,[ba.ENTITY_NODE]:ve.SHOW_ENTITY,[ba.ENTITY_REFERENCE_NODE]:ve.SHOW_ENTITY_REFERENCE,[ba.NOTATION_NODE]:ve.SHOW_NOTATION,7:ve.SHOW_PROCESSING_INSTRUCTION,3:ve.SHOW_TEXT},Uu=!1,dc=5,Fn=50;function Mg(s=5){Uu=Tt.isPerfLoggingActive(),dc=s}function Hi(s,r){return function(){if(!Uu)return s.apply(this,arguments);let t=K.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let i=K.elapsed()-t;i>=dc&&rt.counters.methodPerformance.add(r,i),i>Fn&&rt.counters.blockingTime.push(i-Fn)});else{let i=K.elapsed()-t;i>=dc&&rt.counters.methodPerformance.add(r,i),i>Fn&&rt.counters.blockingTime.push(i-Fn)}return e}}var le=function(s){return function(r,t,e){let i=e.value;e.value=Hi(i,s)}},Ni=(()=>{let s;return function(r){function t(){return!!Element.prototype.attachShadow}r.isSupported=t;function e(n){return n&&Du(n)?n.shadowRoot:null}r.getShadowRoot=e;function i(n){return Re(n,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(o=>o.host)}r.getAllShadowHosts=Hi(i,"getAllShadowHosts")}(s||(s={})),s})(),Ca=(()=>{var s;return(s=wt.Node)!==null&&s!==void 0?s:Object})(),Rt=(()=>{let s;return function(r){let t="isConnected"in Ca.prototype?I=>I.isConnected:I=>!I.ownerDocument||!(I.ownerDocument.compareDocumentPosition(I)&I.DOCUMENT_POSITION_DISCONNECTED);function e(I,X){for(let tt=I;tt;tt=csNodenextSibling.apply(tt))X(I)}r.forEachChild=e;function i(I){return t(I)}r.isConnected=i;function n(I,X){let tt=[];for(let ot of h(I,X))csArray.prototype.push.call(tt,ot);return tt}r.getAncestors=n;let o=(I,X)=>{var tt;return(tt=csNodeparentNode.apply(I))!==null&&tt!==void 0?tt:X&&fr(I)?I.host:null};function c(I,X,tt=!1){let ot=I;for(;ot;){if(X(ot))return ot;let Mt=o(ot,tt);if(Mt&&Mt!==ot)ot=Mt;else break}return null}r.findAncestor=c;function*h(I,X=!1){let tt=I;for(;tt;){yield tt;let ot=o(tt,X);if(ot&&ot!==tt)tt=ot;else break}}r.walkUp=h;function d(I,X){if(I===X||X.contains(I))return!0;let tt=r.getParentElement(I);return tt&&tt!==I?d(tt,X):!1}r.isDescendantOf=d;function f(I){var X;return I.parentElement?I.parentElement:r.getRootNode(I)?(X=r.getRootNode(I))===null||X===void 0?void 0:X.host:null}r.getParentElement=f;function g(I,X=document){let tt=sn(window.csquerySelectorAll[X.nodeType].call(X,I)),ot=Ni.getAllShadowHosts(X);for(let Mt of ot){let Ft=Ni.getShadowRoot(Mt);if(!Ft)continue;let We=sn(window.csquerySelectorAll[Ft.nodeType].call(Ft,I));csArray.prototype.push.call(tt,...We)}return tt}r.findAllElements=g,r.getRootNode=(()=>{if("getRootNode"in Ca.prototype)return(tt,ot)=>tt.getRootNode(ot);function I(tt){let ot=X(tt);return fr(ot)?I(ot.host):ot}function X(tt){return csNodeparentNode.apply(tt)!=null?X(csNodeparentNode.apply(tt)):tt}return(tt,ot)=>typeof ot=="object"&&!!ot.composed?I(tt):X(tt)})();function v(I){return I==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(I)}function _(I){let X=I.getBoundingClientRect();return X.right+te.windowOffsetX()<0||X.bottom+te.windowOffsetY()<0}function b(I){var X,tt;if(((X=I.checkVisibility)===null||X===void 0?void 0:X.call(I,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!I.offsetParent){if(!I.getBoundingClientRect)return Tt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${I instanceof Ca} Ctor: ${(tt=I==null?void 0:I.constructor)===null||tt===void 0?void 0:tt.name}`),!1;let Ft=I.getBoundingClientRect();if(Ft.width===0&&Ft.height===0)return!0}let ot=window.getComputedStyle(I);return ot?ot.display==="none"||ot.visibility==="hidden"||ot.visibility==="collapse"||ot.opacity==="0"||ot.filter==="opacity(0)"||ot.width==="0px"&&ot.height==="0px"||v(ot.color):!0}r.isHiddenByCSS=b;function M(I){if(b(I))return!0;let tt=f(I);return tt!=null&&M(tt)}r.areAncestorsHiddenByCSS=M;function x(I){let X=null,tt=I;do if(b(tt))X=tt;else break;while(tt=f(tt));return X}r.getTopAncestorHiddenByCSS=x;function N(I){let X=C(I);return X!==null&&!I.contains(X)&&!X.contains(I)}function C(I){let X=I.getBoundingClientRect(),tt=X.left+.5*X.width,ot=X.top+.5*X.height;return j(document,tt,ot)}r.getTopElement=C;function H(I){if(!I.getBoundingClientRect)return null;let X=I.getBoundingClientRect(),tt=X.x+X.width/2,ot=X.y+X.height/2;return r.getTopElementFromPoint(document,tt,ot)}r.getElementOnTop=H;function j(I,X,tt){let ot=I.elementFromPoint(X,tt);if(!ot)return null;let Mt=Ni.getShadowRoot(ot);return Mt&&Mt!==r.getRootNode(document.body)&&Mt!==I?j(Mt,X,tt):ot}r.getTopElementFromPoint=j;function O(I){return!_(I)&&!b(I)&&!N(I)}r.isVisibleInDocument=O;function et(I){return b(I)?!1:Z(I)}r.isVisibleInViewportInForeground=et;function Z(I){let X=C(I);return X===null?!1:I===X?!0:Kt(I)?I.textContent!==""&&X.contains(I):I.contains(X)}r.isInViewPort=Z;function lt(I,X,tt){let ot=I.getAttributeNS(X,tt);return ot===""?I.hasAttributeNS(X,tt)?ot:null:ot}r.getAttributeNS=lt;function Vt(I){return!!(I.hasAttribute("tabIndex")||I.getAttribute("contentEditable")==="true"||Mu(I)&&I.hasAttribute("href")||(nl(I)||rl(I)||To(I)||rg(I))&&!I.hasAttribute("disabled")||ng(I)||og(I))}r.isElementFocusable=Vt;function Kt(I){return I.localName==="span"||I.localName==="a"||I.localName==="b"||I.localName==="i"||I.localName==="button"||I.localName==="input"||I.localName==="label"||I.localName==="cite"||I.localName==="small"||I.localName==="strong"||I.localName==="code"||I.localName==="abbr"||I.localName==="em"||I.localName==="dfn"||I.localName==="time"||I.localName==="output"||I.localName==="object"||I.localName==="sub"}r.isInlineElement=Kt;function he(I){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>I(),{once:!0}):csSetTimeout(I)}r.onDocumentLoaded=he}(s||(s={})),s})(),Dg=(()=>{class s{constructor(t){this.sv=t}run(t){let e=[...this.sv],i=Rt.getAncestors(t,!1),n=i[i.length-1];for(;e.length>0&&i.length>0;){let o=csArray.prototype.shift.call(i),c=i[0]||null;if(this.iv(e,o,c,n),this.rv(e),e.length===0)break;i.length===0&&o.host&&(i=Rt.getAncestors(o.host,!1),n=i[i.length-1])}}iv(t,e,i,n){for(let o of t)o.serializeElement(e,i,n)}rv(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),kg=(()=>{class s extends Vu{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let i=this.nv(t);if(i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=i+this.path}nv(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.ov(t.id),t.classList&&(e+=this.av(csArray.from(t.classList))),t.attributes&&(e+=this.cv(t)),e}ov(t){return t?`#${t};`:""}av(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}lv(t,e){var i,n;return((n=(i=this.options).isAttributeSensitive)===null||n===void 0?void 0:n.call(i,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||ji(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||To(t)&&e==="value"}hv(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}uv(t){let e={};for(let i of csArray.from(t.attributes))this.lv(t,i.name)||(e[i.name]=i.value);return e}cv(t){var e,i;if(!((i=(e=this.options).isNodeSensitive)===null||i===void 0)&&i.call(e,t))return"";let n=Object.entries(this.uv(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(n,([o])=>o.length<this.options.attrMaxLength),([o,c])=>this.hv(o,c)?`[${o}]`:`[${o}=${c}]`)),";")+(n.length>0?";":"")}}return s})(),$s=(()=>{let s;return function(r){r.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}r.isValidElement=t;function e(c,h,d={fullPath:!1,dynamicIdRegex:null}){let f=o(c);if(f===document)return{path:"",hierarchy:""};if(!t(f))return{path:r.INVALID_ELEMENT,hierarchy:r.INVALID_ELEMENT};let g=new Ng(d),v=new kg(h);return new Dg([g,v]).run(f),{path:g.getPath(),hierarchy:v.getPath()}}r.getElementPathAndHierarchy=e;function i(c,h={fullPath:!1,dynamicIdRegex:null}){let d=o(c);if(d===document)return"";if(!t(d))return r.INVALID_ELEMENT;let{ancestors:f,selectionRoot:g}=ku(d);return lo(f,g,h)}r.getElementPath=i;function n(c,h={fullPath:!1,dynamicIdRegex:null}){let d=o(c);if(d===document)return{path:"",firstAnchorParent:null};if(!t(d))return{path:r.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:f,ancestors:g,selectionRoot:v}=pg(d);return{path:lo(g,v,h),firstAnchorParent:f}}r.getElementPathAndFirstAnchorParent=n;function o(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||$s;var xg=function(){"use strict";var s={d:function(i,n){for(var o in n)s.o(n,o)&&!s.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:n[o]})},o:function(i,n){return Object.prototype.hasOwnProperty.call(i,n)}},r={};s.d(r,{H:function(){return t}});var t=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=i.tryCatch,o=i.exception,c=i.scriptDomain,h=i.hjHost,d=i.askUrl,f=i.surveysHost,g=i.surveyImagesHost,v=i.surveyImpressionsEndpoint;window.hj=window.hj||function(){(window.hj.q=window.hj.q||[]).push(arguments)},hj.q=window.hj.q||[],window._hjSettings=window._hjSettings||{},hj.isPreview=!!_hjSettings.preview,hj.settings=hj.isPreview||!window.hjSiteSettings?{}:window.hjSiteSettings,hj.scriptDomain=window.hj.scriptDomain||c||"https://script.hotjar.com/",hj.defaults={environment:"live",host:"in.hotjar.com",insightsHost:"insights.hotjar.com",identifyEndpoint:"https://identify.hotjar.com",surveysHost:"surveys.hotjar.com",surveyImagesHost:"survey-images.hotjar.com",surveyImpressionsEndpoint:"https://surveystats.hotjar.io/hit",askUrl:"https://ask.hotjar.io/"},hj.environment=_hjSettings.environment||hj.defaults.environment,hj.host=h||_hjSettings.host||hj.defaults.host,hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.surveysHost=f||_hjSettings.surveysHost||hj.defaults.surveysHost,hj.surveyImagesHost=g||hj.defaults.surveyImagesHost,hj.apiUrlBase="https://"+hj.host+"/api/v1",hj.insightsHost=_hjSettings.insightsHost||hj.defaults.insightsHost,hj.identifyEndpoint=_hjSettings.identifyEndpoint||hj.defaults.identifyEndpoint,hj.askUrl=_hjSettings.askUrl||d||hj.defaults.askUrl,hj.surveyImpressionsEndpoint=v||_hjSettings.surveyImpressionsEndpoint||hj.defaults.surveyImpressionsEndpoint,hj.userDeviceType=null,hj.tryCatch=n||window.hj.tryCatch;var _=o&&{log:o};hj.exceptions=_||window.hj.exceptions},e=r.H;return{n:e}}(),Lg=xg.n,ju=["t.contentsquare.net","clicktale"],Vg=s=>{var r;if(typeof s.filename=="string"&&csArray.prototype.some.call(ju,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(r=s.error)===null||r===void 0?void 0:r.stack,Y.critical(t)}};window.addEventListener("error",Vg);var Y=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(ju,t)}static setStrategy(t){s.gr=t}static computeIsActive(t){s.Ge=ps.boolean(t),s.Ge?s.ol=ps.boolean(10):s.ol=!1}static isLoggingActive(){return s.Ge}static getStrategy(){return s.gr}static debug(t,e=""){s.Ge&&this.gr.send(t,e,Ot.debug)}static warn(t,e=!0,i=""){var n;rt.counters.errors.count("warning"),s.Ge&&e&&this.gr.send(t,i,Ot.warn),(n=window.UXAnalytics.Console)===null||n===void 0||n.warn(t)}static implementation(t,e=""){rt.counters.errors.count("implementation"),s.Ge&&this.gr.send(t,e,Ot.implementation)}static error(t,e=""){var i;rt.counters.errors.count("error"),s.Ge&&this.gr.send(t,e,Ot.error),(i=window.UXAnalytics.Console)===null||i===void 0||i.error(t)}static critical(t,e=""){rt.counters.errors.count("critical"),this.gr.send(t,e,Ot.critical)}static tryToExecute(t,e){return function(...i){try{let n=e.apply(this,i);return mt(wt.Promise)&&n instanceof wt.Promise?n.then(o=>o,o=>s.error(Gs(o)?o:new Error(o),t)):n}catch(n){try{s.error(Gs(n)?n:new Error(n),t)}catch{}}}}static isPerfLoggingActive(){return s.ol}}return s.Ge=!1,s.ol=!1,s})(),Ug="https://script.hj.contentsquare.net/",jg="https://ask.hj.contentsquare.net/",Hg="in.hj.contentsquare.net",Bg="surveys.hotjar.com",Fg="survey-images.hj.contentsquare.net",$g="https://surveystats.hj.contentsquare.net/hit",zg={tryCatch:(s,r)=>Y.tryToExecute(r,s),exception:(s,r)=>Y.error(s,r),scriptDomain:Ug,hjHost:Hg,askUrl:jg,surveysHost:Bg,surveyImagesHost:Fg,surveyImpressionsEndpoint:$g};Lg(zg);var fc=!1;function Gg(){fc=!0}function xt(){return(s,r,t)=>{if(t){let e=t.value;t.value=function(i,n){(i==null?void 0:i.isTrusted)===!1&&fc||e.call(this,i,n)}}else{let e=s[r];if(typeof e!="function")return;s[r]=function(i,...n){(i==null?void 0:i.isTrusted)===!1&&fc||e.call(this,i,n)}}}}function qg(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}var Wg=(()=>{class s{constructor(t,e){this.ua=t,this.hf=e}init(){this.uf=this.ua!==this.ua.top,this.df=this.hf.isWebView&&this.ua===this.ua.top,this.hf.iframesTracking&&this.uf||this.df?this.ff=!1:this.ff=!0}isInIframeContext(){return this.uf}isTopWindowTracker(){return this.ff}isInWebViewContext(){return this.df}}return s})(),ue=!ln&&document.createElement("a"),Yg=/(:443|:80)$/;function Fs(s){return ue?(ue.href=s,ue.href):""}function Hu(s,r){return new csURL(s,r).href}function Bu(s){let r=hl(s);return r===null?"":decodeURIComponent(r.hostname)}function ll(s,r){return csArray.prototype.some.call(r,t=>vr(s,`.${t}`)||s===t||t==="")}function Xg(s){return s[0]==="/"?s:`/${s}`}function sh(s){return csString.prototype.replace.call(s,Yg,"")}function hl(s){return!ue||!ce(s,"http://")&&!ce(s,"https://")?null:(ue.href=s,{hash:ue.hash,host:sh(ue.host),hostname:ue.hostname,href:ue.href,origin:ue.origin?ue.origin:sh(`${ue.protocol}//${ue.host}`),pathname:Xg(ue.pathname),port:ue.port,protocol:ue.protocol,search:ue.search})}var ih="CS_IFRAME_MESSAGE",pr=(()=>{let s;return function(r){r.AfterPageView="afterPageView",r.GetSessionKey="getSessionKey"}(s||(s={})),s})(),ke=(()=>{let s;return function(r){r.Parent="parent",r.Child="child"}(s||(s={})),s})(),z=(()=>{let s;return function(r){r.Discovery="discovery",r.Stop="stop",r.RecordingContext="recordingContext",r.SensitiveStatus="sensitiveStatus",r.RecordingEvent="recordingEvent",r.EndOfBufferedMessages="endOfBufferedMessages",r.ChildLogMessage="childLogMessage",r.AnalysisEvent="analysisEvent",r.JavascriptError="javascriptError",r.ApiError="apiError",r.Assets="assets",r.DetailedApiError="detailedApiError",r.EmerchandisingMessage="emerchandisingMessage",r.Commands="commands",r.IntegrationCallback="integrationCallback",r.StaticResource="staticResource",r.TrackingContextResultMessage="trackingContextResultMessage",r.TrackingContextRequestMessage="trackingContextRequestMessage",r.CustomError="customError"}(s||(s={})),s})(),Pt=(()=>{let s;return function(r){function t(h,d,f,g){let v={type:h,from:d,pid:f,signature:ih};return g!==void 0&&g>=0&&(v.id=g),v}r.buildBaseMessage=t;function e(h,d,f,g){let v=Bu(h.origin);return!!h.data&&!!h.data.type&&h.data.signature===ih&&h.data.from===d&&h.data.pid===f&&ll(v,g)}r.isMessageValid=e;function i(h,d,f,g){g?h.postMessage(f,d,g):h.postMessage(f,d)}r.sendPostMessage=i;function n(){return new MessageChannel}r.getNewChannelMessage=n;function o(h,d){h.postMessage(d)}r.sendChannelMessage=o;function c(h){h.close()}r.closeChannelPort=c}(s||(s={})),s})(),Kg=(()=>{class s{constructor(t){this.E=t}send(t,e="",i=Ot.warn){let n={message:t,errorCode:e,level:i},o=Pt.buildBaseMessage(z.ChildLogMessage,ke.Child,this.E.projectId);o.content=n,Pt.sendPostMessage(window.parent,"*",o)}}return s})(),Jg=(()=>{class s{setContext(t,e){this.N=t,this.C=e}getVisitorService(){return this.N}getSessionService(){return this.C}}return s})();function rh(){}function pc(s,r){return csString.prototype.lastIndexOf.call(s,r,0)===0}function Qg(s,r){return csString.prototype.indexOf.call(s,r,s.length-r.length)!==-1}var Ia=csSymbol("cachedJson");function Zg(s){if(s[Ia])return s[Ia];if(csArray.isArray(s)){if(s.length===0)return"[]";let r="["+ki(s[0]);for(let t=1;t<s.length;t++)r+=","+ki(s[t]);return r+="]"}return s[Ia]=csJSON.stringify(s)}var ki=typeof window.Symbol!="undefined"?Zg:csJSON.stringify;var ul=(()=>{let s;return function(r){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`),"&")}r.toQuery=t}(s||(s={})),s})(),dl=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),rn=(()=>{class s extends dl{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,i=>i());let t=this.retrieveParameters();this.al(t);let e=ul.toQuery(t);this.fv(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,i=>i())}fv(t){let e=new window.Image(1,1);e.onload=rh,e.onerror=rh,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}al(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})(),tm=(()=>{class s{constructor(t,e){this.As=t,this.pv=e}init(){this.Ts=new rn(this.As.getLoggerUri()),this.Ts.setRequestParametersProviders(this,this.pv)}send(t){this.da=t,this.Ts.send()}getRequestParameters(){return{a:this.da.app,l:this.da.level,m:this.da.message,s:this.da.stacktrace}}}return s})(),em=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,sm=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,im="CS_ANONYMIZED_EMAIL",Pa="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",rm=new csRegExp(`(ey${Pa}\\.ey${Pa}\\.${Pa})`,"g"),nm="CS_ANONYMIZED_JWT",om=/[0-9]{4}/,am=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,cm="CS_ANONYMIZED_PII",lm="\u2022",hm=/\d/g,um=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,dm=/(?:\d{1,3}\.){3}\d{1,3}/,fm=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,ts=(()=>{let s;return function(r){function t(f){return csString.prototype.replace.call(f,em,im)}r.replaceEmail=t;function e(f){return csString.prototype.replace.call(f,rm,nm)}r.replaceJWT=e;function i(f,g){return csString.prototype.replace.call(f,am,g)}r.replaceCreditCardNumber=i;function n(f){return csString.prototype.replace.call(f,hm,lm)}r.replaceDigits=n;function o(f){return dm.test(f)||fm.test(f)}r.mayHaveIPAddress=o;function c(f){return um.test(f)}r.mayHaveNumberSequence=c;function h(f){return om.test(f)}r.mayHaveCreditCardNumber=h;function d(f){return sm.test(f)}r.mayHaveEmail=d}(s||(s={})),s})(),Bi=(()=>{class s{hasPII(t,e){let i=this.checkAndAnonymizePII(t,e);return t!==i}checkAndAnonymizePII(t,e=null){let i=this.gv(this.cl(t));return e===!0?i=this.mv(i):e===!1&&(i=this.yv(i)),i}anonymizePII(t){return this.cl(t)}anonymizeJwt(t){return ts.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,i=>{t[i]=this.cl(t[i])}),t}cl(t){if(ts.mayHaveEmail(t)){let e=ts.replaceEmail(t);return e!==t&&rt.counters.redactedPII.count("email"),e}return t}mv(t){return ts.replaceDigits(t)}yv(t){return ts.mayHaveNumberSequence(t)?ts.replaceDigits(t):t}gv(t){return ts.mayHaveCreditCardNumber(t)?ts.replaceCreditCardNumber(t,(e,i,n,o,c)=>{if(csString.prototype.indexOf.call(n,"*")===-1){let d=o.length?csArray.prototype.join.call(csString.prototype.split.call(n,o),""):n;if(!this.Ev(d))return e;rt.counters.redactedPII.count("cc")}else rt.counters.redactedPII.count("cc-partial");return`${i}${cm}${c}`}):t}Ev(t){let e=parseInt(t[t.length-1]),i=0;for(let n=t.length-2;n>=0;n--){let o=parseInt(t[n]);n%2===0&&(o*=2),i+=Math.floor(o/10)+o%10}return 10-i%10===e}}return s})(),Fu="15.174.2";function fl(){return{v:Fu}}var pm=(()=>{class s{constructor(t,e){this.E=t,this.D=e}getRequestParameters(){return{d:`${K.now()}`,p:this.D.anonymizePII(window.location.href),...this.E.getRequestParameters(),...fl()}}}return s})(),gm="uxa",nh=5,mm="No stacktrace",$u="snippet-",zu="implementation-snippet-",oh=(()=>{let s;return function(r){r.IMPLEMENTATION="implementation",r.DYNAMIC="dynamic"}(s||(s={})),s})(),ym=(()=>{class s{constructor(t,e,i){this.mr=e,this.D=new Bi,this.pf=Aa[Ot.warn],this.pf=Aa[t.minLogLevel||Ot.warn],this.Ts=i||new tm(t,new pm(t,this.D)),this.gf={[Ot.debug]:[],[Ot.warn]:[],[Ot.implementation]:[],[Ot.error]:[],[Ot.critical]:[]},this.fa={implementation:{},dynamic:{}},this.Ts.init()}send(t,e="",i=Ot.warn){if(!this.vv(i,e))return;csArray.prototype.push.call(this.gf[i],e||"");let n={message:this.Sv(t,e),stacktrace:this._v(t),app:gm,level:i};this.Ts.send(n)}Sv(t,e){let i=Gs(t)?this.D.anonymizePII(t.message||t.toString()):t;return e&&(i+=` ErrorCode: ${e}`),i}_v(t){return Gs(t)?`${t.stack||mm} ${this.mf()}`:this.mf()}mf(){let t=this.mr.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let i=this.mr.getSessionService(),n=i&&i.getSession(),o={userId:e.id,sessionNumber:e.visitsCount,pageNumber:n&&n.pageNumber};return csJSON.stringify(o)}vv(t,e){if(Aa[t]<this.pf)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,zu,0))===0)return this.yf(e,oh.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,$u,0))===0)return this.yf(e,oh.DYNAMIC);let i=this.gf[t];return i.length>=nh?!1:!(e&&csArray.prototype.some.call(i,n=>n===e))}yf(t,e){return t in this.fa[e]?this.fa[e][t]>=nh?!1:(this.fa[e][t]+=1,!0):(this.fa[e][t]=1,!0)}}return s})(),Em=2,bt=(()=>{let s;return function(r){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}r.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let Z=window.CSJavascriptBridge.getVersion();if(Bt(Z))return Z}catch{Y.warn("an error occurred when calling getVersion")}return null}r.getBridgeVersion=e;function i(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}r.notifyIsReadyForTracking=i;function n(Z,lt){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(Z,csJSON.stringify(lt))}r.identify=n;function o(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}r.resetIdentity=o;function c(Z){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(Z))}r.addUserProperties=c;function h(Z){window.CSJavascriptBridge.addEventProperties&&window.CSJavascriptBridge.addEventProperties(csJSON.stringify(Z))}r.addEventProperties=h;function d(Z){window.CSJavascriptBridge.removeEventProperty&&window.CSJavascriptBridge.removeEventProperty(Z)}r.removeEventProperty=d;function f(){window.CSJavascriptBridge.clearEventProperties&&window.CSJavascriptBridge.clearEventProperties()}r.clearEventProperties=f;function g(Z){window.CSJavascriptBridge.addPageviewProperties&&window.CSJavascriptBridge.addPageviewProperties(csJSON.stringify(Z))}r.addPageviewProperties=g;function v(Z){window.CSJavascriptBridge.removePageviewProperty&&window.CSJavascriptBridge.removePageviewProperty(Z)}r.removePageviewProperty=v;function _(){window.CSJavascriptBridge.clearPageviewProperties&&window.CSJavascriptBridge.clearPageviewProperties()}r.clearPageviewProperties=_;function b(Z){window.CSJavascriptBridge.sendEvent(csJSON.stringify(Z))}r.sendAnalysisEvent=b;function M(Z){if(window.CSJavascriptBridge.sendSREvent)for(let lt of Z.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(lt))}r.sendSREvent=M;function x(Z){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(Z))}r.sendLog=x;function N(){window.CSJavascriptBridge.optIn()}r.sendOptIn=N;function C(){window.CSJavascriptBridge.optOut()}r.sendOptOut=C;function H(Z,lt){window.CSJavascriptBridge.sendDynamicVar(Z,lt)}r.sendDynamicVariable=H;function j(Z,lt,Vt){window.CSJavascriptBridge.sendTransaction(Z,lt,Vt)}r.sendTransaction=j;function O(Z,lt){if(window.CSJavascriptBridge.sendAssets){let Vt=csJSON.stringify(Z);window.CSJavascriptBridge.sendAssets(Vt,lt||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(Z,Vt=>Vt.assetId))}r.sendAssets=O;function et(Z){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(Z))}r.sendNativeSREvent=et}(s||(s={})),s})(),vm=(()=>{class s{constructor(){}send(t,e,i=Ot.warn){let n={message:t,errorCode:e,level:i};bt.sendLog(n)}}return s})();function ss(s){return ce(s,"data:")}function Gu(s){return ce(s,"#")}function ho(s){return!!s&&(vr(s,".css")||ce(s,"https://fonts.googleapis.com/css"))}var ah=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:\])]/gi;function Sm(s){ah.lastIndex=0;let r,t=0,e=[];for(;(r=ah.exec(s))!==null;){let i=r.index,n=r.index+r[0].length;if(i>t){let c=csString.prototype.slice.call(s,t,i);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let o=csString.prototype.slice.call(s,i,n);csArray.prototype.push.call(e,{content:o,isUrl:!0}),t=n}if(t<s.length){let i=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:i,isUrl:!1})}return e}var _m=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Ro=s=>{let r=new Set(_m);return csArray.prototype.forEach.call(s,t=>{r.add(t)}),r},wm=["svg","slot"],Am=(s,r,t)=>t==="radio"&&s==="input"&&r==="name"||csArray.prototype.indexOf.call(wm,s)>-1,qu={href:new Set(["a"]),src:new Set(["iframe"])},Tm=s=>qu.hasOwnProperty(s),bm=(s,r,t)=>{var e;return((e=qu[r])===null||e===void 0?void 0:e.has(s))&&!ss(t)},Rm=(s,r,t)=>(t==="submit"||t==="button")&&s==="input"&&r==="value";function Oa(s){return s?Cm(s):null}function Cm(s){try{let r=/^\/(.*)\/([gim]*)$/.exec(s);if(r){let[,t,e]=r;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var Im=/^\d+\.\d+(?:\.\d+)?$/,Pm=s=>{if(!Im.test(s))return;let[r,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:r,minor:t,patch:!e||Number.isNaN(e)?0:e}},Om=(s,r)=>s.major!==r.major?s.major-r.major:s.minor!==r.minor?s.minor-r.minor:s.patch-r.patch,Nm=(s,r)=>Om(s,r)>=0,Mm=1,gc=(()=>{let s;return function(r){r[r.Disabled=0]="Disabled",r[r.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",r[r.Enabled=2]="Enabled"}(s||(s={})),s})(),uo=(()=>{let s;return function(r){r[r.Automatic=1]="Automatic",r[r.Manual=2]="Manual"}(s||(s={})),s})(),Dm=(()=>{class s{constructor(t){var e,i,n,o,c,h,d,f,g,v,_,b,M;this.isChild=!1,this.useFastDOM=!!t.useFastDOM,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Zc,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((o=(i=t.collectionEnabled)!==null&&i!==void 0?i:(n=t.smbConfig)===null||n===void 0?void 0:n.record)!==null&&o!==void 0)||o),this.apiErrors={enabled:(c=t.apiErrorsEnabled)!==null&&c!==void 0?c:0,...t.apiErrors},this.customErrors={enabled:(h=t.customErrorsEnabled)!==null&&h!==void 0?h:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=Oa(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=Oa(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=Oa(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(d=t.recordingUrlRules)!==null&&d!==void 0?d:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((f=t.uxaDomain)===null||f===void 0?void 0:f.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(g=t.anonymizeDigits)!==null&&g!==void 0?g:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(v=t.recordTargetingRules)!==null&&v!==void 0?v:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!==!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(_=t.collectTargetText)!==null&&_!==void 0?_:gc.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(b=t.quotas)!==null&&b!==void 0?b:null,this.startMode=(M=t.startMode)!==null&&M!==void 0?M:uo.Automatic,this.eventEnricher=t.eventEnricher||null}getTrackerUri(){return`${this.Zs()}://${this.trackerDomain}`}getRecordingUri(){return`${this.Zs()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.Zs()}://${this.loggerDomain}`}getMetricsUri(){return`${this.Zs()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.Zs()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.Zs()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.Zs()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.Zs()}://${this.paProxyDomainUri}`}Zs(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===Mm}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...i])=>{if(e==="setOption"){let[n,o]=i;this.wv(n,o)}})}wv(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e),t==="startMode"&&fs(e)&&csArray.prototype.includes.call(Object.values(uo),e)&&(this.startMode=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.Ef()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.Ef())return!0;let t=Pm(this.getHeapVersion()||"");if(t&&t.major===4&&Nm(t,{major:4,minor:23,patch:5}))return!0}return!1}Ef(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,i,n,o,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((n=(i=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||i===void 0?void 0:i.sdk)===null||n===void 0?void 0:n.version)||((c=(o=window.heap)===null||o===void 0?void 0:o.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==gc.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})();function it(s,r,t,e){var i=arguments.length,n=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,r,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(n=(i<3?o(n):i>3?o(r,t,n):o(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n}function km(){let s=new MutationObserver(r=>{r.forEach(t=>{dt(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(rt.counters.pureWindowState.count("iframe-deletion"),Tt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function ch(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function xm(){(!ch(MutationObserver)||!ch(MutationObserver.prototype.observe))&&rt.counters.patchedNativeFunctions.count("MutationObserver")}function Lm(){try{window.CSPureWindow&&km(),xm()}catch{}}var Yt=(()=>{let s;return function(r){r.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(h){let f=new csRegExp(`(^|;)[ ]*${h}=([^;]*)`).exec(document.cookie);return f?decodeURIComponent(f[2]):null}r.get=t;function e(h,d,f,g,v,_){let b=encodeURIComponent(`${d}`),M=f===r.CURRENT_DOMAIN?void 0:f,x=i(g),N=x?`;expires=${x.toUTCString()}`:"",C=";path=/",H=Nt(M)?`;domain=${M}`:"",j=`${h}=${b}${N}${C}${H}`;return mt(v)&&v!==li.NotSet&&(j=`${j};SameSite=${v}`),mt(_)&&_===us.Yes&&(j=`${j};Secure`),document.cookie=j,!0}r.set=e;function i(h){return Bt(h)?new csDate(K.now()+h):h}r.toExpireDate=i;function n(h,d){t(h)&&e(h,"",d,new csDate(0)),t(h)&&e(h,"",d,new csDate(0),li.None,us.Yes)}r.remove=n;function o(){return document.cookie.length>0}r.isCookiePresent=o;function c(h,d){let f="_cs_root-domain",g=t(f);if(g!==null&&g!=="1")return g;let v=csString.prototype.split.call(window.location.hostname,"."),_=csArray.prototype.pop.call(v);for(;v.length&&(g===null||g==="1");)_=csArray.prototype.join.call([csArray.prototype.pop.call(v),_],"."),e(f,_,_,void 0,h,d),g=t(f);return n(f,_),_}r.getRootDomain=c}(s||(s={})),s})(),Vm=(()=>{let s;return function(r){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}r.browserIsSafariV12=t}(s||(s={})),s})(),li=(()=>{let s;return function(r){r.None="None",r.Lax="Lax",r.NotSet="X"}(s||(s={})),s})(),us=(()=>{let s;return function(r){r[r.Yes=1]="Yes",r[r.No=0]="No"}(s||(s={})),s})(),Co=(()=>{class s{constructor(t,e,i){this.E=t,this.A=e,this.Ni=i,this.ll=!1,this.vf=li.NotSet,this.ul=us.No}getSameSiteFlag(){return this.vf}getSecureFlag(){return this.ul}getDomain(){return this.dl}getRootDomain(){return this.Sf}init(){if(this.E.cookielessTrackingEnabled)return;let t=this.Av(),e=this.Tv();this.ll=this.bv(t,e),this.ll?(this.vf=t,this.ul=e):this.E.secureCookiesEnabled&&this.A.getUrlProtocol()==="https:"&&(this.ul=us.Yes),this.Sf=this.Rv(),this.dl=this.Cv(this.Sf)}bv(t,e){return Vm.browserIsSafariV12()?!1:(Yt.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),Yt.get(s.COOKIE_TEST_FOR_SAME_SITE)?(Yt.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}Av(){return this.A.getUrlProtocol()==="http:"?li.Lax:this.Ni.isSameSiteNoneSecureNeeded()||this.E.crossDomainTracking?li.None:li.Lax}Tv(){return this.A.getUrlProtocol()==="http:"?us.No:this.E.secureCookiesEnabled||this.E.crossDomainTracking||this.Ni.isSameSiteNoneSecureNeeded()?us.Yes:us.No}isSameSiteSupported(){return this.ll}set(t,e,i,n){let o=Yt.toExpireDate(i),c=n?us.Yes:this.getSecureFlag();Yt.set(t,e,this.dl,o,this.getSameSiteFlag(),c)}get(t){let i=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return i?decodeURIComponent(i[2]):null}delete(t,e){let i=e||this.dl;Yt.remove(t,i)}Rv(){let t=this.Ni.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?li.None:void 0,i=t?us.Yes:void 0;return Yt.getRootDomain(e,i)}Cv(t){return this.E.allowSubdomains?t:Yt.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),nr="_cs_t",lh="1",Um=(()=>{class s{constructor(t,e){this.vt=t,this.E=e,this.pa=!1,this.ga=!1}init(){if(!this.E.cookielessTrackingEnabled&&this.vt.isTopWindowTracker()&&"cookie"in document){if(!this.vt.isInIframeContext()&&Yt.isCookiePresent()){this.pa=!0,this.ga=!1;return}if(Yt.set(nr,lh,Yt.CURRENT_DOMAIN),Yt.get(nr)!==null){this.pa=!0,this.ga=!1,Yt.remove(nr,Yt.CURRENT_DOMAIN);return}Yt.set(nr,lh,Yt.CURRENT_DOMAIN,void 0,li.None,us.Yes),Yt.get(nr)!==null&&(this.pa=!0,this.ga=!0,Yt.remove(nr,Yt.CURRENT_DOMAIN))}}areCookiesEnabled(){return this.pa}isSameSiteNoneSecureNeeded(){return this.ga}}return s})();function jm(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var Hm=(()=>{class s{constructor(t,e){this.E=t,this.Ni=e}canTrack(){return this.E.isProjectActive()&&this.Iv()&&this._f()&&this.Pv()}canTrackInChild(){return this.E.isProjectActive()&&this.Ov()&&(this._f()||this.Nv()||this.Mv())}Pv(){return this.E.cookielessTrackingEnabled?jm():this.Ni.areCookiesEnabled()}_f(){return ll(window.location.hostname,this.E.hostnames)}Iv(){return!this.wf()&&this.Dv()}Ov(){return!this.wf()&&this.kv()}Nv(){return window.location.protocol==="about:"&&window.location.hostname===""}wf(){return"visibilityState"in document&&document.visibilityState==="prerender"}Dv(){return this.Af()&&this.xv()}kv(){return this.Af()}xv(){try{return!!window.localStorage}catch{return!1}}Af(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}Mv(){return this.E.isWebView&&window.location.protocol==="file:"&&window.location.hostname===""}}return s})(),Wu=":";function hh(s){let r=[],t=Bm(s),e=csString.prototype.split.call(t,"/");for(let i of e)ce(i,Wu)?csArray.prototype.push.call(r,{key:i,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(i,1))}`}):csArray.prototype.push.call(r,{key:i,value:null});return r}function Bm(s){let r=s;return ce(s,"/")&&(r=csString.prototype.substring.call(r,1)),vr(s,"/")&&(r=csString.prototype.slice.call(r,0,-1)),r}var Fm=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,$m="$1CS_ANONYMIZED_NAME",Yu=(()=>{class s{constructor(t){this.D=t}anonymizeUrl(t,e={}){let i=e.maskingPatterns||[],n=e.partialMaskingPatterns||[],o=this.D.anonymizePII(t);if(o=this.D.anonymizeJwt(o),e.maskNames){let d=o;o=this.wn(o),o!==d&&(rt.counters.redactedPII.count("name"),rt.counters.redactedPII.count("name-in-url"))}let c=this.Lv(o,i);if(c!==o)return rt.counters.redactedPII.count("url"),c;let h=this.Uv(o,n);return h!==o&&rt.counters.redactedPII.count("url"),h}removeQueryString(t){let{path:e,queryString:i}=this.pl(t);return i!==""?`${e}?`:e}pl(t){let e=csString.prototype.indexOf.call(t,"?"),i,n="";return e!==-1?(i=csString.prototype.slice.call(t,0,e),n=csString.prototype.slice.call(t,e,t.length)):i=t,{path:i,queryString:n}}Lv(t,e){if(e.length===0)return t;let{path:i,queryString:n}=this.pl(t),o=csString.prototype.split.call(i,"/");for(let c of e){let h=this.jv(o,c);if(h!==null)return`${h}${n}`}return t}jv(t,e){if(t.length<e.length)return null;let i=[];for(let n=0;n<t.length;n++){let o=t[n];if(n>=e.length){csArray.prototype.push.call(i,o);continue}let c=e[n].key;if(this.Tf(c)){let h=e[n].value;csArray.prototype.push.call(i,h);continue}if(o===c){csArray.prototype.push.call(i,o);continue}return null}return csArray.prototype.join.call(i,"/")}Uv(t,e){if(e.length===0)return t;let{path:i,queryString:n}=this.pl(t),o=csString.prototype.split.call(i,"/");for(let c of e)o=this.Hv(o,c);return`${csArray.prototype.join.call(o,"/")}${n}`}Hv(t,e){let i=[],n=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let h=0;h<t.length;h++){let d=t[h],f=e[n].key;if(this.Tf(f)&&h>=c){let g=e[n].value;csArray.prototype.push.call(i,d.length>0?g:""),n++,n===e.length&&(n=0);continue}if(d===f){csArray.prototype.push.call(i,d),n++,n===e.length&&(n=0);continue}for(let g=0;g<n;g++){let v=h-n+g;i[v]=t[v]}n=0,csArray.prototype.push.call(i,d)}for(let h=0;h<n;h++){let d=t.length-n+h;i[d]=t[d]}return i}Tf(t){return ce(t,Wu)}wn(t){return csString.prototype.replace.call(t,Fm,$m)}}return s})(),zm="spki",uh="RSA-OAEP",Gm="SHA-256",dh="AES-CTR",qm="SHA-1",fh=190,Mi=(()=>{let s;return function(r){var t;let e=!1,i=null,n,o=typeof TextEncoder!="undefined"?new TextEncoder:null,c;r.crypto=(t=wt.crypto)===null||t===void 0?void 0:t.subtle,r.MAX_DIGEST_INPUT_SIZE=100;function h(){return!e}r.isKeyImported=h;function d(){return i}r.getCryptoKey=d;function f(){var j,O;return((O=(j=wt.self.crypto)===null||j===void 0?void 0:j.subtle)===null||O===void 0?void 0:O.encrypt)!=null&&wt.self.CryptoKey!=null}r.isSupported=f;async function g(j){n=r.crypto.importKey(zm,_u(j),{name:uh,hash:Gm},!1,["encrypt"]).catch(()=>(e=!0,null)),i=await n,n=void 0,i||Tt.warn(`Fail to import public key '${j}'`)}r.importKey=g;async function v(j){if(!f()||e)return null;await n;let O=Qc(j);O.byteLength>fh&&(O=O.slice(0,fh));try{let et=await r.crypto.encrypt({name:uh},i,O);return zl(et)}catch{return null}}r.asymmetricEncrypt=v;async function _(j,O){if(!f()||e)return null;let et={counter:O.initializationVector,name:dh,length:64},Z=o.encode(j);try{let lt=await r.crypto.encrypt(et,O.cryptoKey,Z);return zl(lt)}catch{return null}}r.symmetricEncrypt=_;async function b(j){let O=await M(j);if(!O)throw new Error("Export secret failed");let et=await v(O);if(!et)throw new Error("Encrypt secret failed");return et}r.encryptSecret=b;async function M(j){var O;if(!f())return null;try{return(O=(await r.crypto.exportKey("jwk",j)).k)!==null&&O!==void 0?O:null}catch{return null}}async function x(){if(!f()||e)return null;try{return{cryptoKey:await r.crypto.generateKey({name:dh,length:128},!0,["encrypt","decrypt"]),initializationVector:wt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}r.generateSymmetricKey=x;function N(j){c=j}r.setDigestSalt=N;async function C(j){j=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(j)),c&&(j=`${j}:${c}`);let O=o.encode(j);try{let et=await r.crypto.digest(qm,O);return ac(et)}catch{return null}}r.digest=C;function H(){return wt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}r.generateKeyPair=H}(s||(s={})),s})(),xs=(()=>{let s;return function(r){r.REGEX="regex",r.START="start",r.NOT_START="not-start",r.END="end",r.NOT_END="not-end",r.CONTAIN="contain",r.NOT_CONTAIN="not-contain",r.EXACT="exact",r.NOT_EXACT="not-exact"}(s||(s={})),s})(),si=(()=>{let s;return function(r){r.START="start",r.NOT_START="not-start",r.END="end",r.NOT_END="not-end",r.CONTAIN="contain",r.NOT_CONTAIN="not-contain",r.EXACT="exact",r.NOT_EXACT="not-exact"}(s||(s={})),s})(),Ci=(()=>{let s;return function(r){r.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",r.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",r.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",r.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),_r=(()=>{class s{constructor(){this.gl=[]}setRegexRules(t){this.gl=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.Bv(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.gl,e=>this.bf(t,e))}getMatchingRules(t){return csArray.prototype.map.call(csArray.prototype.filter.call(this.gl,e=>this.bf(t,e)),e=>e.ruleInput)}bf(t,e){var i,n;let o=this.Fv(t,e);return!this.$v(e)||!this.zv(e)?!1:!!(e!=null&&e.notOperator?!(!((i=e.regex)===null||i===void 0)&&i.test(o)):!((n=e.regex)===null||n===void 0)&&n.test(o))}$v(t){let e=new csDate,i=t.startDate&&t.startDate>e,n=t.endDate&&t.endDate<e;return!i&&!n}zv(t){let e=t.samplingRate!==100,i=e&&ps.boolean(t.samplingRate);return!e||i}ma(t){return!ce(t,"http://")&&!ce(t,"https://")?`https://${t}`:t}Fv(t,e){let i=hl(this.ma(t));return i?e.ignoreQueryParams&&e.ignoreURIFragments?`${i.origin}${i.pathname}`:e.ignoreQueryParams?`${i.origin}${i.pathname}${i.hash}`:e.ignoreURIFragments?`${i.origin}${i.pathname}${i.search}`:t:t}ya(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}Bv(t){let e=null,i=!1;switch(t.operator){case si.NOT_START:case xs.NOT_START:i=!0;case si.START:case xs.START:e=new csRegExp(`^${t.value}`,this.ya(t));break;case si.NOT_END:case xs.NOT_END:i=!0;case si.END:case xs.END:e=new csRegExp(`${t.value}$`,this.ya(t));break;case si.NOT_CONTAIN:case xs.NOT_CONTAIN:i=!0;case si.CONTAIN:case xs.CONTAIN:case xs.REGEX:e=new csRegExp(`${t.value}`,this.ya(t));break;case si.NOT_EXACT:case xs.NOT_EXACT:i=!0;case si.EXACT:case xs.EXACT:e=new csRegExp(`^${t.value}$`,this.ya(t));break;default:Tt.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let n=t.startDate?this.Rf(t.startDate):void 0,o=t.endDate?this.Rf(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:i,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:n,endDate:o,ruleInput:t}}Rf(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),at=(()=>{let s;return function(r){r[r.RESIZE=0]="RESIZE",r[r.SCROLL=1]="SCROLL",r[r.MOUSEMOVE=2]="MOUSEMOVE",r[r.MOUSEDOWN=3]="MOUSEDOWN",r[r.MOUSEUP=4]="MOUSEUP",r[r.CLICK=5]="CLICK",r[r.MOUSEOVER=6]="MOUSEOVER",r[r.MOUSEOUT=7]="MOUSEOUT",r[r.CHANGE=10]="CHANGE",r[r.FOCUSIN=11]="FOCUSIN",r[r.FOCUSOUT=12]="FOCUSOUT",r[r.TAP=14]="TAP",r[r.KEYDOWN=15]="KEYDOWN",r[r.KEYUP=16]="KEYUP",r[r.COMMAND=17]="COMMAND",r[r.PERFORMANCE=19]="PERFORMANCE",r[r.DRAG=20]="DRAG",r[r.FLICK=21]="FLICK",r[r.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",r[r.ZOOM=23]="ZOOM",r[r.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",r[r.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",r[r.DEAD_CLICK=30]="DEAD_CLICK",r[r.DEAD_ZOOM=31]="DEAD_ZOOM",r[r.PAGE_RELOAD=32]="PAGE_RELOAD",r[r.THRASHED_CURSOR=33]="THRASHED_CURSOR",r[r.BLANK_PAGE=34]="BLANK_PAGE",r[r.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",r[r.SUBMIT=36]="SUBMIT",r[r.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),Vs=(()=>{let s;return function(r){r.APPCUES="appcues",r.CHAMELEON="chameleon",r.CONTENTSQUARE="contentsquare",r.SEGMENT="segment",r.SHOPIFY="shopify",r.WEB="web"}(s||(s={})),s})();function ph(s){return"text"in s}function Na(s){return"hrchy"in s}function $n(s){return"properties"in s}function Wm(s){return s.tgtHM!==void 0}function Xu(s){return s.tgt!==void 0}function Ym(s){return s.tgtLk!==void 0}function Xm(s){return s.x!==void 0&&s.y!==void 0}function Km(s){return s===Vs.APPCUES||s===Vs.CHAMELEON||s===Vs.CONTENTSQUARE||s===Vs.SEGMENT||s===Vs.SHOPIFY||s===Vs.WEB}var Jm=Math.pow(2,31);function Qm(s,r=0){let h=r>>>0,d=s.length;for(let _=0;_<d-3;_+=4){let b=(csString.prototype.charCodeAt.call(s,_)&255|(csString.prototype.charCodeAt.call(s,_+1)&255)<<8|(csString.prototype.charCodeAt.call(s,_+2)&255)<<16|(csString.prototype.charCodeAt.call(s,_+3)&255)<<24)>>>0;b=Math.imul(b,3432918353),b=b<<15|b>>>17,b=Math.imul(b,461845907),h^=b,h=h<<13|h>>>19,h=Math.imul(h,5)+3864292196}let f=0,g=d&3,v=d-g;switch(g){case 3:f^=(csString.prototype.charCodeAt.call(s,v+2)&255)<<16;case 2:f^=(csString.prototype.charCodeAt.call(s,v+1)&255)<<8;case 1:f^=csString.prototype.charCodeAt.call(s,v)&255,f=Math.imul(f,3432918353),f=f<<15|f>>>17,f=Math.imul(f,461845907),h^=f}return h^=d,h^=h>>>16,h=Math.imul(h,2246822507),h^=h>>>13,h=Math.imul(h,3266489909),h^=h>>>16,h>>>0}function Ku(s){return Qm(s)+Jm>>>0}var Io=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),Xr="|iframe|",Ju=(()=>{class s extends Io{constructor(t,e,i,n){super(),this.Gv=t,this.qv=e,this.Wv=i,this.Yv=n}emitIframeEvent(t,e,i){if(this.Xv(e)&&t===null){Y.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(i)}`);return}switch(e){case z.ChildLogMessage:this.Kv(i);break;case z.AnalysisEvent:{let n=i,o=this.Gv.transformEvent(t,n);o.isUserEvent?this.Jv(o.event):this.Qv(o.event);break}case z.RecordingEvent:{let n=i,o=this.Yv.transformEvents(t,n);if(o.events.length===0)return;o.containsUserEvent?this.Zv(o.events):this.tS(o.events);break}case z.JavascriptError:this.eS(i);break;case z.ApiError:this.sS(i);break;case z.DetailedApiError:this.iS(i);break;case z.CustomError:this.rS(i);break;case z.EmerchandisingMessage:{let n=this.Wv.transformEvent(t,i);this.nS(n);break}case z.Commands:{let n=this.qv.transformEvent(t,i);this.oS(n);break}case z.IntegrationCallback:this.aS(i);break;case z.StaticResource:this.cS(i);break;case z.TrackingContextRequestMessage:this.lS(i);break;default:Y.error(`Parent received unknown data type from iframe : ${csJSON.stringify(i)}`)}}Xv(t){let e=[z.AnalysisEvent,z.RecordingEvent,z.EmerchandisingMessage,z.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}Kv(t){let{message:e,errorCode:i,level:n}=t;switch(n){case Ot.debug:Y.debug(e,i);break;case Ot.warn:Y.warn(e,!0,i);break;case Ot.implementation:Y.implementation(e,i);break;case Ot.error:Y.error(e,i);break;case Ot.critical:Y.critical(e,i);break}}Jv(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}Qv(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}Zv(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}tS(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}eS(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}sS(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}iS(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}nS(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}oS(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}aS(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}cS(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}lS(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}rS(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),Qu=(()=>{class s{constructor(t,e,i){this.it=t,this.Cf=e,this.If=i}transformEvent(t,e){this.hS(t,e.event);let i=this.it.getElementPath(t);return this.uS(i,e.event),this.dS(e.event),e}hS(t,e){if(Xm(e)){let i=t.getBoundingClientRect();e.x=Math.round(i.left+e.x+te.windowOffsetX()),e.y=Math.round(i.top+e.y+te.windowOffsetY())}}uS(t,e){Xu(e)&&(e.tgt=`${t}${Xr}${e.tgt}`),Wm(e)&&(e.tgtHM=`${t}${Xr}${e.tgtHM}`,this.Cf||(e.tgtHMH=Ku(e.tgtHM))),Ym(e)&&(e.tgtLk=`${t}${Xr}${e.tgtLk}`)}dS(t){!this.Cf&&this.If&&this.If.enhanceAnalysisEvent(null,t)}}return s})(),Zu=(()=>{class s{constructor(t){this.it=t}transformEvent(t,e){let i=this.it.getElementPath(t);return{iframePath:e.iframePath?`${i}${Xr}${e.iframePath}`:i,commands:e.commands}}}return s})(),td=(()=>{class s{constructor(t){this.it=t}transformEvent(t,e){if(e.products.length===0)return e;let i=this.it.getElementPath(t),n=csArray.prototype.map.call(e.products,o=>({...o,targetPath:`${i}${Xr}${o.targetPath}`}));return{...e,products:n}}}return s})(),Zm=1,gh=csSymbol("nodeIdentifier");function ct(s){let r=s[gh];return r!=null?r:s[gh]=Zm++}var J=(()=>{let s;return function(r){r[r.MUTATION_INSERT=1]="MUTATION_INSERT",r[r.MUTATION_REMOVE=2]="MUTATION_REMOVE",r[r.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",r[r.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",r[r.INITIAL_DOM=5]="INITIAL_DOM",r[r.SCROLL=6]="SCROLL",r[r.CLICK=8]="CLICK",r[r.RESIZE=9]="RESIZE",r[r.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",r[r.INPUT_SELECT=11]="INPUT_SELECT",r[r.INPUT_TEXT=12]="INPUT_TEXT",r[r.HASH_CHANGE=13]="HASH_CHANGE",r[r.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",r[r.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",r[r.MOUSE_OVER=16]="MOUSE_OVER",r[r.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",r[r.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",r[r.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",r[r.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",r[r.ATTACH_SHADOW=22]="ATTACH_SHADOW",r[r.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",r[r.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",r[r.PAGE_EVENT=27]="PAGE_EVENT",r[r.API_ERROR=28]="API_ERROR",r[r.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",r[r.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",r[r.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",r[r.KEY_DOWN=32]="KEY_DOWN",r[r.KEY_UP=33]="KEY_UP",r[r.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",r[r.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",r[r.USER_IDENTIFIER=38]="USER_IDENTIFIER",r[r.TOUCH_START=41]="TOUCH_START",r[r.TOUCH_MOVE=42]="TOUCH_MOVE",r[r.TOUCH_END=43]="TOUCH_END",r[r.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",r[r.POINTER_DOWN=47]="POINTER_DOWN",r[r.POINTER_MOVE=48]="POINTER_MOVE",r[r.POINTER_UP=49]="POINTER_UP",r[r.CUSTOM_ERROR=50]="CUSTOM_ERROR",r[r.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",r[r.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",r[r.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",r[r.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",r[r.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",r[r.SCREEN_RESIZE=65]="SCREEN_RESIZE",r[r.RESOURCE_HASHES=66]="RESOURCE_HASHES",r[r.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",r[r.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",r[r.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",r[r.TEXT_REF=73]="TEXT_REF",r[r.TOUCH_CANCEL=74]="TOUCH_CANCEL",r[r.MUTATION_MOVE=75]="MUTATION_MOVE",r[r.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",r[r.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",r[r.VIDEO_PLAY=78]="VIDEO_PLAY",r[r.VIDEO_PAUSE=79]="VIDEO_PAUSE",r[r.VIDEO_SEEK=80]="VIDEO_SEEK",r[r.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",r[r.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",r[r.DOM_INITIAL_STATE=102]="DOM_INITIAL_STATE",r[r.DOM_PATCH_STATE=103]="DOM_PATCH_STATE",r[r.DEBUG=999]="DEBUG"}(s||(s={})),s})();var Fr=(()=>{let s;return function(r){r[r.SWIPE=0]="SWIPE",r[r.PINCH_IN=1]="PINCH_IN",r[r.PINCH_OUT=2]="PINCH_OUT",r[r.LONG_PRESS=3]="LONG_PRESS",r[r.TAP=4]="TAP",r[r.DOUBLE_TAP=5]="DOUBLE_TAP"}(s||(s={})),s})(),ed=(()=>{class s{constructor(){this.fS={clientX:2,clientY:3},this.pS={clientX:1,clientY:2},this.gS=[J.POINTER_DOWN,J.POINTER_MOVE,J.POINTER_UP],this.mS=[J.TOUCH_START,J.TOUCH_MOVE,J.TOUCH_END]}transformEvents(t,e){if(!Rt.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==J.VISIBILITY_CHANGE),e.events.length===0||(Y.warn(`IframeRecordingEventsTransformer received event ${z.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let i=ct(t),n=null;csArray.prototype.some.call(e.events,c=>this.Pf(c)||this.Of(c))&&(n=t.getBoundingClientRect());for(let c of e.events)this.Pf(c)?this.yS(n,c):this.Of(c)&&this.ES(n,c),c.context=c.context&&c.context.length>0?`${i}/${c.context}`:`${i}`;return e}ES(t,e){this.Nf(this.pS,t,e)}yS(t,e){this.Nf(this.fS,t,e)}Nf(t,e,i){i.args&&(i.args[t.clientX]=Math.round(e.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(e.top+i.args[t.clientY]))}Pf(t){return csArray.prototype.indexOf.call(this.gS,t.type)!==-1}Of(t){return csArray.prototype.indexOf.call(this.mS,t.type)!==-1}}return s})(),Ht=(()=>{class s extends Error{constructor(t,e){let i=e?`Command misuse: ${t} - ${e}`:`Command misuse: ${t}`;super(i),this.name="MisusedCommandError"}}return s})(),Ma;function de(s){if(Ma||(Ma=document.createElement("div")),!(!!s&&U(s)))return Tt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Ie.call(Ma,s),!0}catch{return Tt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function gr(s,r){if(Zl)return Zl.call(s,r);let t=s;do{if(Ie.call(t,r))return t;t=t==null?void 0:t.parentElement}while(t!==null&&csNodenodeType.apply(t)===1);return null}function hi(s){if(!s)return s;switch(typeof s){case"object":{if(csArray.isArray(s))return csArray.from(s);let r={};for(let t in s)r[t]=hi(s[t]);return r}default:return s}}function sd(s){for(let r in s)if(s[r]!==void 0)return!0;return!1}function id(s,r){if(csArray.isArray(s)&&csArray.isArray(r))return s.length!==r.length||csArray.prototype.some.call(s,(i,n)=>i!==r[n])?hi(r):void 0;let t={},e=new Set([...Object.keys(s||{}),...Object.keys(r||{})]);for(let i of e){let n=s[i],o=r[i];if(n===o)continue;let c=typeof n;if(c!==typeof o)n===void 0&&o!==void 0?t[i]=o:n!==void 0&&o===void 0&&(t[i]=null);else if(c==="object"&&n&&o){let d=id(n,o);d!==void 0&&(t[i]=d)}else t[i]=hi(o)}return sd(t)?t:void 0}function rd(s,r){let t={...s};for(let[e,i]of Object.entries(r))if(i===null)delete t[e];else if(i!==void 0){let n=t[e],o=i;n&&typeof n=="object"&&o&&typeof o=="object"&&!csArray.isArray(n)&&!csArray.isArray(o)?t[e]=rd(n,o):t[e]=o}return t}function nd(s){let r=null;return t=>t?r=t:r||(r=s())}var ty=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function ey(s){return csString.prototype.indexOf.call(s,"-")>0&&csString.prototype.indexOf.call(s,":")===-1&&csString.prototype.indexOf.call(s,'"')===-1&&csString.prototype.indexOf.call(s,",")===-1&&!ty.has(s)}var or=nd(()=>new WeakMap),Da=nd(()=>new Set),di=(()=>{let s;return function(r){function t(f){return or().get(f)}r.getAll=t;function e(f,g){var v;return(v=or().get(f))===null||v===void 0?void 0:v[g]}r.get=e;function i(f,g,v){let _=or().get(f);_||or().set(f,_={}),_[g]=v,c(f)}r.set=i;function n(f,g){let v=or().get(f);v&&(delete v[g],c(f))}r.remove=n;function o(){or(new WeakMap)}r.reset=o;function c(f){for(let g of Da())g(f)}function h(f){Da().add(f)}r.subscribe=h;function d(f){Da().delete(f)}r.unsubscribe=d}(s||(s={})),s})(),vt=(()=>{let s;return function(r){function t(h,d,f){var g;if(typeof Node!="undefined"&&h instanceof Node)di.set(h,d,f);else{let v=h;(g=v.props)!==null&&g!==void 0||(v.props={}),v.props[d]=f}}r.setProperty=t;function e(h,d){var f;return typeof Node!="undefined"&&h instanceof Node?di.get(h,d):(f=h.props)===null||f===void 0?void 0:f[d]}r.getProperty=e;function i(h){return typeof Node!="undefined"&&h instanceof Node?di.getAll(h):h.props}r.getProperties=i;function n(h,d){let f=null;return o(h,(g,v,_)=>d(g)&&(f=g)&&!!_()),f}r.findDescendant=n;function o(h,d){c(h,void 0,d)}r.traverse=o;function c(h,d,f){let g=!1;if(f(h,d,()=>g=!0),g)return;let _=h.shadowRoot;_&&c(_,h,f);let b=h.children;if(b!=null&&b.length){for(let M of b)if(M&&(c(M,h,f),g))break}}}(s||(s={})),s})(),$=(()=>{let s;return function(r){let t;(function(N){N[N.NotMasked=0]="NotMasked",N[N.Parent=1]="Parent",N[N.Child=2]="Child"})(t=r.MaskedElementState||(r.MaskedElementState={})),r.maskedProp="masked",r.maskedAttributeProp="maskedAttribute";function e(N){return qe(N)&&"Attributes"in N&&"PIISelectors"in N?N.Attributes instanceof Array&&N.PIISelectors instanceof Array:!1}r.isSelectorUserInput=e;function i(N){if(!qe(N)||N===null)throw new Ht("setPIISelectors");return"Attributes"in N||(N.Attributes=[]),"PIISelectors"in N||(N.PIISelectors=[]),N}r.sanitizeSelectorUserInput=i;function n(N){var C,H,j;return"nodeType"in N?(C=vt.getProperty(N,r.maskedProp))!==null&&C!==void 0?C:{state:t.NotMasked}:(j=(H=N.metadata)===null||H===void 0?void 0:H[r.maskedProp])!==null&&j!==void 0?j:{state:t.NotMasked}}r.getMaskedElementDetails=n;function o(N){var C,H,j;return"nodeType"in N?(C=vt.getProperty(N,r.maskedAttributeProp))!==null&&C!==void 0?C:{attributes:[]}:(j=(H=N.metadata)===null||H===void 0?void 0:H[r.maskedAttributeProp])!==null&&j!==void 0?j:{attributes:[]}}r.getMaskedAttributeDetails=o;function c(N){let C=vt.getProperty(N,r.maskedProp);return(C==null?void 0:C.state)===t.Parent}r.isMaskedElement=c;function h(N){let C=vt.getProperty(N,r.maskedProp);return(C==null?void 0:C.state)===t.Child}r.isMaskedElementChild=h;function d(N,C){let H=vt.getProperty(N,r.maskedAttributeProp);return((H==null?void 0:H.attributes)==null?void 0:csArray.prototype.indexOf.call(H==null?void 0:H.attributes,C))>-1}r.isMaskedAttribute=d;function f(N,C){vt.setProperty(N,r.maskedProp,C)}r.setMaskedElementProperty=f;function g(N){vt.setProperty(N,r.maskedProp,void 0)}r.unsetMaskedElementProperty=g;function v(N,C){vt.setProperty(N,r.maskedAttributeProp,C)}r.setMaskedAttributeProperty=v;function _(N,C){let H=csArray.prototype.filter.call(N.PIISelectors,et=>de(et));C.elementSelector.length>0&&csArray.prototype.push.call(H,...csString.prototype.split.call(C.elementSelector,","));let j=x([...H]),O={elementSelector:csArray.prototype.join.call(j,","),attrSelector:C.attrSelector,attrSelectors:C.attrSelectors};return csArray.prototype.forEach.call(N.Attributes,et=>{et!=null&&et.attrName&&(et!=null&&et.selector)&&de(et.selector)&&!b(O.attrSelectors,et)&&csArray.prototype.push.call(O.attrSelectors,et)}),O.attrSelector=M(O.attrSelectors),O}r.getComputedSelectorSettings=_;function b(N,C){return csArray.prototype.some.call(N,H=>H.selector===C.selector&&H.attrName===C.attrName)}function M(N){let C="";return csArray.prototype.forEach.call(N,H=>{let j=csString.prototype.split.call(H.selector,",");csArray.prototype.forEach.call(j,O=>{de(O)&&(C&&(C+=","),C+=O)})}),C}function x(N){if(N.length<=1)return N;let C=[];for(let H of N){let j=csString.prototype.split.call(H,",");for(let O of j)csArray.prototype.indexOf.call(C,O)===-1&&csArray.prototype.push.call(C,O)}return C}}(s||(s={})),s})(),od=(()=>{class s{constructor(){this.Ea={elementSelector:"",attrSelector:"",attrSelectors:[]},this.ml={elementSelector:"",attrSelector:"",attrSelectors:[]},this.vS=window.top===window?"pii-migration":"pii-migration-iframe",this.Mf=!1}onAfterNaturalPageView(){this.Df()}onParentSensitiveStatusChange(t){t.started&&!this.Mf&&(this.Mf=!0,t.maskedElementSettings&&(this.Ea=t.maskedElementSettings),this.Df())}Df(){var t,e;let i=this.kf(this.Ea),n=this.kf(this.ml),o=csArray.prototype.filter.call(n.elementSelectors,h=>csArray.prototype.indexOf.call(i.elementSelectors,h)===-1&&h!=="[data-cs-mask]"),c={};for(let[h,d]of Object.entries(n.attrSelectors)){let f=i.attrSelectors[h]||[],g=csArray.prototype.filter.call(d,v=>csArray.prototype.indexOf.call(f,v)===-1);g.length>0&&(c[h]=g)}(o.length>0||Object.keys(c).length>0)&&(Y.computeIsActive(100),Y.warn(csJSON.stringify({selectors:o,attrs:c}),!0,this.vS),Y.computeIsActive((e=(t=window.CS_CONF)===null||t===void 0?void 0:t.validationRate)!==null&&e!==void 0?e:10))}kf(t){let e=csString.prototype.trim.call(t.elementSelector).length>0?csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(t.elementSelector,","),n=>csString.prototype.trim.call(n)),n=>n.length>0):[],i={};for(let n of t.attrSelectors)i[n.attrName]=csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(n.selector,","),o=>csString.prototype.trim.call(o)),o=>o.length>0);return{elementSelectors:e,attrSelectors:i}}markClicktalePIIInUse(t){this.ml=$.getComputedSelectorSettings(t,this.ml)}markPIIMaskingTemplateInUse(t){let e=$.sanitizeSelectorUserInput(t);this.Ea=$.getComputedSelectorSettings(e,this.Ea)}}return it([G()],s.prototype,"markPIIMaskingTemplateInUse",null),s})(),sy=(()=>{class s{constructor(t,e){this.S=t,this.yt=e}init(){this.yt.addListener(this.S)}onOptout(){this.S.stop()}onBeforeSessionRenewal(){this.S.stop()}}return s})();var Xt=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})(),mc=(()=>{let s;return function(r){r.UXA="_uxa",r.WVT="cs_wvt"}(s||(s={})),s})(),ad=(()=>{class s extends Xt{constructor(t,e){super(),this.yl=t,this.El=e,this.ls={}}register(t,e,i){for(let n of t){let o=(...c)=>{try{let h=e(...c);return rt.counters.commandApplied.count(n),h}catch(h){h instanceof Ht?(rt.counters.commandMisuse.count(n),Y.warn(`Misused Command: ${n}; Args: ${csJSON.stringify(c)}; Error: ${Gs(h)?h.stack:h}`)):(rt.counters.commandError.count(n),Y.error(`Command Error - ${n}: ${Gs(h)?h.stack:h}`))}};this.ls[n]={callback:o,configuration:i},this.ls}}onStart(){this.SS(),this._S()}onStop(){for(let t of this.yl)window[t]=[]}applyFromIntegration(t,e,i){this.xf(t,e,`Commands.apply.from.integration: ${i}`),rt.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,i){var n;this.xf(t,e,`Commands.apply.from.implementation: ${i}`),rt.counters.commandsFromCSTC.count(t),i==="PIIMaskingTemplate"&&((n=this.El)===null||n===void 0||n.markPIIMaskingTemplateInUse(e[0]))}onIframeCommands(t){for(let e of t.commands)this.wS(e.name,e.params,t.iframePath),rt.counters.commandsFromIframe.count(e.name)}xf(t,e,i){if(!this.isStarted){window._uxa.push([t,...e]);return}Y.tryToExecute(i,()=>{if(this.ls[t])return this.ls[t].callback(...e)})()}wS(t,e,i){Y.tryToExecute(`Commands.apply.from.iframe: ${i}`,()=>{if(this.ls[t])return this.ls[t].callback(...e)})()}SS(){for(let t of this.yl)window[t].forEach(([e,...i])=>this.Lf(e,i,!1))}_S(){for(let t of this.yl)window[t]={push:([e,...i])=>this.Lf(e,i,!0)}}Lf(t,e,i){var n,o;if(this.ls[t]){if(((n=this.ls[t].configuration)===null||n===void 0?void 0:n.disableApplyPending)&&!i||((o=this.ls[t].configuration)===null||o===void 0?void 0:o.disableApplyImmediate)&&i)return;try{return this.ls[t].callback(...e)}catch(h){Y.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,h)}}}}return s})(),iy=(()=>{class s extends Io{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let i of this.listeners)i.onEventTriggerRecording&&i.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:at.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})();function ry(s){return csNodenodeType.apply(s)===1}function oe(s){let r=csEventtarget.apply(s);return r&&ry(r)&&csElementshadowRoot.apply(r)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:r}function ny(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}function oy(){return(s,r,t)=>{let e=t.value;return e&&(t.value=function(i){if(oe(i)===csEventtarget.apply(i))return e.call(this,i)}),t}}var ay=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],cy=1024,ly=1024,cd=(()=>{class s{constructor(t,e){this.Et=t,this.E=e}getEventTargetPathAndHierarchy(t,e){let i=oe(t),n={isNodeSensitive(o){return $.isMaskedElement(o)||$.isMaskedElementChild(o)},isAttributeSensitive(o,c){return $.isMaskedAttribute(o,c)},allWhitelistedAttributes:Ro(this.E.whitelistedAttributes),attributeIgnoreTokens:ay,useAnonymization:e,attrMaxLength:ly,hierarchyMaxLength:cy};return this.Et.getElementPathAndHierarchy(i,n,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPath(t){let e=oe(t);return this.Et.getElementPath(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=oe(t),{path:i,firstAnchorParent:n}=this.Et.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules}),o=this.AS(n)?n.href:"";return{path:i,targetLink:o}}hasValidEventTarget(t){let e=oe(t);return this.Et.isValidElement(e)}getElementPath(t){return this.Et.getElementPath(t,{dynamicIdRegex:this.E.dynamicIdRegex,...this.E.pathComputationRules})}AS(t){var e;return t!==null&&t.hasAttribute("href")&&!pc((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})();function Po(s,r){typeof r=="number"&&(r={wait:r});let t=r.wait,e=r.mode||"leading",i,n=[],o=null,c=0,h,d=()=>{c=K.now(),o=null,h=s.apply(i,n),n=[],i=null},f=function(...g){if(i=this!==null&&this!==void 0?this:wt,n=[...g],e==="trailing")return o||(o=wt.csSetTimeout(d,t)),h;let v=K.now(),_=t-(v-c);return _<=0||_>t?(c=v,h=s.apply(i,n),o?(wt.csClearTimeout(o),o=null):n=[]):o||(o=wt.csSetTimeout(d,_)),h};return f.cancel=()=>{o&&(wt.csClearTimeout(o),c=0,o=null,n=[])},f.flushPending=()=>{o&&(wt.csClearTimeout(o),d())},f}var Fi=s=>(r,t,e)=>{e.value=Po(e.value,s)};var fo=".",pl="__DOT__",hy=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,ld="x";function uy(s){let[r,t,e,i,n,o,c,h,d]=my(s);return{id:r,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(i),lastVisitTimestamp:Number(n),appliedTrackingDraw:Number(o),expires:Number(c),allowSubdomains:h===void 0?void 0:!!Number(h),identityPrint:d===void 0||d===ld?null:d}}function dy(s){var r;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(r=s.identityPrint)!==null&&r!==void 0?r:ld],csString),py),fo)}function fy(s){return hy.test(s)}function py(s){return csString.prototype.replace.call(s,/\./g,pl)}function gy(s){return csString.prototype.replace.call(s,new csRegExp(pl,"g"),fo)}function my(s){return csString.prototype.indexOf.call(s,pl)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,fo),gy):csString.prototype.split.call(s,fo)}var W=(()=>{let s;return function(r){r.QUOTA_REACHED="X",r.RECORDING_RULES_TARGETING="8",r.ANALYTICS_ONLY_RULES_TARGETING="9",r.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING="P",r.ANALYTICS_ONLY="0",r.RECORDING_GLOBAL_SAMPLING="5",r.RECORDING_TEMPORARILY="T",r.RECORDING_URL_SAMPLING="6",r.RECORDING_ETR_SAMPLING="7",r.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",r.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})();function yy(s){return s===W.RECORDING_TEMPORARILY||s===W.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING}function hd(s){return s===W.RECORDING_GLOBAL_SAMPLING||s===W.RECORDING_RULES_TARGETING||s===W.RECORDING_URL_SAMPLING||s===W.RECORDING_ETR_SAMPLING}var Ey={[W.RECORDING_RULES_TARGETING]:W.RECORDING_GLOBAL_SAMPLING},Ve=(()=>{let s;return function(r){r.ETR_OFF="0",r.ETR_ON="1"}(s||(s={})),s})(),fi=(()=>{let s;return function(r){r.ETR_LEGACY="0",r.ETR_SESSION="1",r.ETR_PAGE="2"}(s||(s={})),s})(),De=(()=>{let s;return function(r){r.ETR_DISABLED="0",r.ETR_PENDING="1",r.ETR_SAVED_PAGE="2",r.ETR_SAVED_SESSION="3",r.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),yc=(()=>{let s;return function(r){r.UNNECESSARY="U",r.NOT_EXPRESSED="N",r.WITHDRAWN="W",r.GRANTED="G"}(s||(s={})),s})(),ud=/^(\d+\.[01356789TBWXP](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,dd=".";function vy(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],dd)}function Sy(s){if(!gl(s))return null;let r=Ec(s);return r!==null?fd(r):null}function fd(s){var r,t;let[e,i,n,o]=csString.prototype.split.call(s,dd);return{collectState:i,replayConsent:(r=n)!==null&&r!==void 0?r:yc.UNNECESSARY,etrStatus:(t=o)!==null&&t!==void 0?t:De.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function gl(s){return ud.test(s)}function Ec(s){if(!s)return null;let r=(()=>{var t;return(t=csString.prototype.match.call(s,ud))===null||t===void 0?void 0:t[1]})();return r!=null?r:null}var Ls="_cs_ex",mh=2592e6,_y=/^[0-9]+$/,wy=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.K=i}onCookieToSet(t){this.Mi=t}onCookieToRemove(t){this.Di=t}get(){return this.E.cookielessTrackingEnabled?Number(this.K.getItem(Ls)):Number(this.I.get(Ls))}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(Ls,t):(this.I.set(Ls,t,mh),(e=this.Mi)===null||e===void 0||e.call(this,Ls,t,mh))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Ls):(this.I.delete(Ls),(t=this.Di)===null||t===void 0||t.call(this,Ls))}static isValidExclusionString(t){return _y.test(t)}}return s})(),ii="_cs_cvars",Ay=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.K=i}onCookieToSet(t){this.Mi=t}onCookieToRemove(t){this.Di=t}get(){return this.E.cookielessTrackingEnabled?this.K.getItem(ii):this.I.get(ii)}set(t){var e;this.E.cookielessTrackingEnabled?this.K.setItem(ii,t):(this.I.set(ii,t),(e=this.Mi)===null||e===void 0||e.call(this,ii,t))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(ii):(this.I.delete(ii),(t=this.Di)===null||t===void 0||t.call(this,ii))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();var Ty=(()=>{class s{constructor(t,e,i,n,o,c,h){this.w=t,this.S=e,this.Tl=i,this.bl=n,this.hs=o,this.PS=c,this.Tn=h}start(){this.w.addListener(this.PS),this.w.addListener(this.Tn),this.w.addListener(this.Tl),this.Tn.init(),this.bl.init(),this.hs.init(),!this.hs.isActive()&&this.S.start()}}return s})(),by=(()=>{class s{constructor(t){this.bs=t}onOptout(){this.bs.removeExclusion()}}return s})(),Ry=(()=>{class s{constructor(t,e){this.Dt=t,this.gt=e}exclude(t){this.gt.set(csString(t.lastTrackingDraw))}removeExclusion(){this.gt.remove()}isExcluded(){return this.OS()||this.NS()}OS(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.gt.get()}NS(){return csString.prototype.indexOf.call(this.Dt.href,Ls)>0}}return s})(),ml=["excludeURLforReplay"],pd=(()=>{class s{constructor(t,e){this.bs=t,this.S=e}init(){this.S.register(ml,t=>{if(U(t))this.bs.setExcludeUrlForSessionReplay(t);else throw new Ht("excludeURLforReplay")})}}return s})(),ka=(()=>{let s;return function(r){r.SessionReplay="SR",r.None=""}(s||(s={})),s})(),Cy=".^",gd=".*",md=(()=>{class s{constructor(t){this.A=t,this.Rl=new csRegExp(`${Cy}`)}setExcludeUrlForSessionReplay(t){try{this.Rl=new csRegExp(t)}catch{Y.warn(`excludeURLforReplay - invalid regex '${t}'`),this.Rl=new csRegExp(`${gd}`)}}qf(){return this.Rl.test(this.A.getAnonymizedUrl())?ka.SessionReplay:ka.None}isUrlExcludedForSessionReplay(){return this.qf()===ka.SessionReplay}getRequestParameters(){return{ex:this.qf()}}}return s})();var yh=1/0,{toString:Iy}=Object.prototype;function Py(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Iy.call(s)}var yl=s=>typeof s=="symbol"||typeof s=="object"&&s!=null&&Py(s)==="[object Symbol]";function yd(s){if(typeof s=="string"||yl(s))return s;let r=`${s}`;return typeof s=="number"?r==="0"&&1/s===-yh?"-0":r:s instanceof Number&&r==="0"&&1/s.valueOf()===-yh?"-0":r}var Oy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ny=/^\w*$/;function My(s,r){return csArray.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||yl(s)?!0:Ny.test(s)||!Oy.test(s)||r!=null&&s in Object(r)}function El(s,r){if(typeof s!="function"||r!=null&&typeof r!="function")throw new TypeError("Expected a function");let t=function(...e){let i=r?r.apply(this,e):e[0],{cache:n}=t;if(n.has(i))return n.get(i);let o=s.apply(this,e);return t.cache=n.set(i,o)||n,o};return t.cache=new(El.Cache||Map),t}El.Cache=Map;var Dy=500;function ky(s){let r=El(s,t=>{let{cache:e}=r;return e.size===Dy&&e.clear(),t});return r}var xy=46,Ly=/\\(\\)?/g,Vy=csRegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),Ed=ky(s=>{let r=[];return csString.prototype.charCodeAt.call(s,0)===xy&&csArray.prototype.push.call(r,""),csString.prototype.replace.call(s,Vy,(t,e,i,n)=>{let o=t;return i?o=csString.prototype.replace.call(n,Ly,"$1"):e&&(o=csString.prototype.trim.call(e)),csArray.prototype.push.call(r,o),t}),r});function Uy(s,r){return csArray.isArray(s)?s:My(s,r)?[s]:Ed(s)}function jy(s,r){let t=Uy(r,s),e=s,i=0,{length:n}=t;for(;e!=null&&i<n;){let o=yd(t[i]);e=e[o],i+=1}return i&&i===n?e:void 0}function Hy(s){return"iterable"in s}function vd(s){return mt(s.iterable)?U(s.iterable)||s.iterable===null:!0}function Sd(s,r,t){let e=s==null?void 0:jy(s,r);return e===void 0?t:e}var By=/\b__p \+= '';/g,Fy=/\b(__p \+=) '' \+/g,$y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zy=/['\n\r\u2028\u2029\\]/g,_d=/[&<>"']/g,Gy=csRegExp(_d.source),qy=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zn=/($^)/,Wy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yy=/[()=,{}[\]/\s]/,Xy=/<%-([\s\S]+?)%>/g,Ky=/<%([\s\S]+?)%>/g,wd=/<%=([\s\S]+?)%>/g,{hasOwnProperty:Eh}=Object.prototype,Jy="Invalid `variable` option passed into `_.template`";function Qy(s){return`\\${Wy[s]}`}var Zy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tE={escape:Xy,evaluate:Ky,interpolate:wd,variable:"",imports:{_:{template:to,escape(s){return s&&Gy.test(s)?csString.prototype.replace.call(s,_d,r=>Zy[r]):s!=null?s:""}}}};function to(s,r){let t={...tE,...r},e=Object.keys(t.imports||{}),i=csArray.prototype.map.call(e,b=>t==null?void 0:t.imports[b]),n,o,c=0,h=t.interpolate||zn,d="__p += '",f=csRegExp(`${(t.escape||zn).source}|${h.source}|${(h===wd?qy:zn).source}|${(t.evaluate||zn).source}|$`,"g"),g=`//# sourceURL=${Eh.call(t,"sourceURL")?csString.prototype.replace.call(`${t.sourceURL}`,/\s/g," "):void 0}
`;s==null||csString.prototype.replace.call(s,f,(b,M,x,N,C,H)=>{let j=x||N;return d+=csString.prototype.replace.call(csString.prototype.slice.call(s,c,H),zy,Qy),M&&(n=!0,d+=`' +
__e(${M}) +
'`),C&&(o=!0,d+=`';
${C};
__p += '`),j&&(d+=`' +
((__t = (${j})) == null ? '' : __t) +
'`),c=H+b.length,b}),d+=`';
`;let v=Eh.call(t,"variable")&&t.variable;if(!v)d=`with (obj) {
${d}
}
`;else if(Yy.test(v))throw new Error(Jy);d=csString.prototype.replace.call(csString.prototype.replace.call(o?csString.prototype.replace.call(d,By,""):d,Fy,"$1"),$y,"$1;"),d=`function(${v||"obj"}) {
${v?"":`obj || (obj = {});
`}var __t, __p = ''${n?", __e = _.escape":""}${o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`}${d}return __p
}`;let _;try{_=Function(...e,`${g}return ${d}`)(...i)}catch(b){_=b}if(_.source=d,_ instanceof Error)throw _;return _}var eE=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,sE=/<%[\s\S]+?%>|<%-[\s\S]+?%>|<%=[\s\S]+?%>|\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/,iE=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.(textContent|value)$/;function vh(s){if(!eE.test(s)||sE.test(s))throw new Error("whitelisted function is wrongly used")}var Sh={"window.location.hash.replace(":(s,r)=>{let t=csString.prototype.substring.call(s,29,s.length-1);return vh(t),to(`\${${s}}`)(r)},"window.sessionStorage.getItem(":(s,r)=>{let t=csString.prototype.substring.call(s,30,s.length-1);return vh(t),to(`\${${s}}`)(r)},"document.querySelector(":(s,r)=>{if(iE.test(s))return to(`\${${s}}`)(r)},"new Date().getTime()":(s,r)=>new csDate().getTime().toString()};function rE(s){let r=Sr(Object.keys(Sh),t=>ce(s,t));if(r)return Sh[r]}function nE(s){return ce(s,"'")&&vr(s,"'")}var oE=/\$\{([\s\S]+?)\}/g,aE=s=>(r,t,e)=>{let i="";return csArray.prototype.forEach.call(csString.prototype.split.call(t,"+"),n=>{let o=csString.prototype.trim.call(n),c=Sd(s,o);if(c===void 0)if(nE(o))c=csString.prototype.substring.call(o,1,o.length-1);else{let h=rE(o);if(h&&(c=h(o,s)),c===void 0)throw new Error("undefined not allowed")}i+=c}),i};function mr(s,r){try{return csString.prototype.replace.call(s,oE,aE(r))}catch{return null}}function vc(s,r){let t={};for(let e of Object.keys(s)){let i=s[e];if(U(i)){let n=mr(i,r);if(n===null)return null;t[e]=n}else t[e]=i}return t}function Sc(s,r){let t=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(s,","),e=>mr(e,r)),e=>e!==null&&de(e)),",");return de(t)?t:null}var xa=(()=>{let s;return function(r){r.AND="AND",r.OR="OR"}(s||(s={})),s})(),es=(()=>{let s;return function(r){r.STARTS_WITH="startsWith",r.EQUALS="equals",r.NOT_EQUALS="notEquals",r.CONTAINS="contains",r.NOT_CONTAINS="notContains",r.MATCHES="matches",r.NOT_MATCHES="notMatches",r.EXIST="exist",r.NOT_EXIST="notExist"}(s||(s={})),s})();function Ad(s,r){return cE(s.operator,dE(s.args,r))}function cE(s,r){switch(s){case es.EXIST:case es.NOT_EXIST:return lE(s,r);default:return hE(s,r)}}function lE(s,r){let[t]=r;if(!de(t))return!1;switch(s){case es.EXIST:return window.csquerySelector[document.nodeType].call(document,t)!==null;case es.NOT_EXIST:return window.csquerySelector[document.nodeType].call(document,t)===null;default:return!1}}function hE(s,r){let[t,e]=r;if(!(s in xa)&&!(U(t)&&U(e)))return!1;switch(s){case xa.AND:return!!csArray.prototype.reduce.call(r,(n,o)=>n&&o);case xa.OR:return!!csArray.prototype.reduce.call(r,(n,o)=>n||o);case es.STARTS_WITH:return ce(t,e);case es.EQUALS:return t===e;case es.NOT_EQUALS:return t!==e;case es.CONTAINS:return csString.prototype.indexOf.call(t,e)>-1;case es.NOT_CONTAINS:return csString.prototype.indexOf.call(t,e)===-1;case es.MATCHES:{let n=_h(e);return n!==null&&n.test(t)}case es.NOT_MATCHES:{let n=_h(e);return n!==null&&!n.test(t)}default:return!1}}function uE(s){return!!(s&&s.operator&&s.args)}function dE(s,r){return csArray.prototype.map.call(s,t=>uE(t)?Ad(t,r):U(t)?mr(t,r):t)}function _h(s){let r=/^\/(.*)\/([gimy]*)$/.exec(s),t=null;if(r){let[,e,i]=r;try{t=new csRegExp(e,i)}catch{}}else try{t=new csRegExp(s)}catch{}return t}var Td=["api-errors:maskUrl"];var ee=(()=>{class s{constructor(t,e){this.commandsService=t,this.args=e}}return s})(),fn=(()=>{class s extends ee{}return s})(),fE=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.url):!1}execute(t){this.commandsService.applyFromImplementation(Td[0],[t.url],"ApiErrorsMaskUrlTemplate")}}return s})(),nn=(()=>{class s{constructor(...t){this.Kf=t}addProvider(t){csArray.prototype.push.call(this.Kf,t)}getRequestParameters(){return csArray.prototype.reduce.call(this.Kf,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),pE=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function gE(){return{la:pE}}var pn=(()=>{let s;return function(r){r.UNCOMPRESSED="0",r.GZIP="2"}(s||(s={})),s})(),bd=(()=>{class s{}return s})();function mE(s){if(typeof Object.values=="function")return Object.values(s);let r=[];for(let t in s)s.hasOwnProperty(t)&&csArray.prototype.push.call(r,s[t]);return r}function yE(s,r){if(Object.keys(s).length<=r)return s;let t={},e=0;for(let[i,n]of Object.entries(s)){if(e>=r)break;t[i]=n,e++}return t}var EE=(()=>{let s;return function(r){function e(i,n,o,c){let h={...i,...n,...o,...c};return yE(h,200)}r.mergeAndLimitProperties=e}(s||(s={})),s})(),Bs=(()=>{let s;return function(r){r.Artificial="a",r.Renewal="r",r.Natural="n"}(s||(s={})),s})(),is=(()=>{let s;return function(r){r.Natural="Natural",r.Artificial="Artificial",r.Renewal="Renewal"}(s||(s={})),s})(),vE=(()=>{class s extends Xt{constructor(t,e,i,n,o,c,h,d,f,g){super(),this.E=t,this.w=e,this.Y=i,this.xi=n,this.A=o,this.ds=c,this.BS=h,this.Wt=d,this.Yt=f,this.Ul=g,this.Is=null}init(){this.jl()}onStart(t=is.Natural){switch(t){case is.Natural:this.Hl();break;case is.Artificial:this.Bl();break;case is.Renewal:this.Fl();break}}onStop(){}triggerArtificialPageView(t,e){this.isStarted?(this.w.emitArtificialPageViewEnd(),this.Li(t,e)):(Nt(t)&&this.A.overridePath(t,e),this.Y.emitTargetingRulesArtificialPageview(this.A.getUrl()),this.E.hasTargetingRules()&&this.A.cleanupOverrideLifespan())}Hl(){this.ds.setPageViewType(Bs.Natural);let t=this.A.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.$l(),this.A.cleanupOverrideLifespan(),this.w.emitAfterNaturalPageView(Bs.Natural),this.Is=t}Fl(){this.ds.setPageViewType(Bs.Renewal);let t=this.A.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.$l(),this.w.emitAfterNaturalPageView(Bs.Renewal),this.Is=t}Li(t,e,i=!1){Nt(t)&&this.A.overridePath(t,e);let n=this.A.getAnonymizedUrl();this.w.emitBeforeArtificialPageView(this.Is,n),this.ds.setPageViewType(Bs.Artificial),this.$l(),this.A.cleanupOverrideLifespan(),this.w.emitAfterArtificialPageView(i),this.Is=n}Bl(){this.Li(null,void 0,!0)}jl(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&(this.w.emitArtificialPageViewEnd(),this.Li())})}FS(){var t,e,i;let n=(t=this.Ul)===null||t===void 0?void 0:t.getProperties(document,"pageview",this.A.getPath()),o=EE.mergeAndLimitProperties((e=this.Wt)===null||e===void 0?void 0:e.getProperties(),(i=this.Yt)===null||i===void 0?void 0:i.getProperties(),n!=null?n:void 0,void 0);if(Object.keys(o).length>0)return o}$l(){let t=this.FS(),e=t?{properties:t}:void 0;this.xi.removeQueryParams(),this.xi.setQueryParams({...this.BS.getRequestParameters(),...e?{}:{ct:pn.UNCOMPRESSED}}),this.xi.send(e)}}return s})(),SE=99999,_E=(()=>{class s{constructor(t){this.C=t,this.$S=this.zS()&&window.CSCurrentScript}GS(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.qS(e)?null:Math.round(e.responseEnd-e.fetchStart)}qS(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.$S||this.WS()!==1)return{};let t=this.GS();return t===null?{}:{dt:`${Math.min(t,SE)}`}}WS(){var t;return((t=this.C.getSession())===null||t===void 0?void 0:t.pageNumber)||null}zS(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),Oo=["trackPageview"],po=["setPath"],go=["setQuery"],_c=["referrer:maskUrl"],Rd=["referrer:removeQueryString"],Cd=["referrer:keepQueryString"],wE="pageview",La=s=>qe(s)&&s!==null,Id=(s,r,t,e)=>{s.register(Oo,(i,n)=>{if(!U(i)){r.triggerArtificialPageView();return}La(n)?r.triggerArtificialPageView(i,n):r.triggerArtificialPageView(i)}),s.register(po,(i,n)=>{if(!U(i))throw new Ht(po[0]);La(n)?t.overridePath(i,n):t.overridePath(i)}),s.register(go,(i,n)=>{if(!U(i))throw new Ht(go[0]);La(n)?t.overrideQuery(i,n):t.overrideQuery(i)}),e&&(s.register(_c,i=>{if(!U(i))throw new Ht(_c[0]);e.addUrlMaskingPattern(i)}),s.register(Rd,()=>e.enableRemoveQueryString()),s.register(Cd,()=>e.disableRemoveQueryString()))},AE=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N,C,H,j){this.E=t,this.S=e,this.w=i,this.qe=n,this.N=o,this.C=c,this.Ps=h,this.bt=d,this.Rt=f,this.A=g,this.Xt=v,this.ds=_,this.Y=b,this.Ht=M,this.We=x,this.yr=N,this.Wt=C,this.Yt=H,this.Ul=j}init(){let t=this.Ht.create(`${this.E.getTrackerUri()}/${wE}`,"base64"),e=new nn(this.qe,this.N,te,this.Ps,this.A,this.bt,Jc,this.Rt,this.ds,new _E(this.C),this.Xt);this.Cn=new vE(this.E,this.w,this.Y,t,this.A,this.ds,e,this.Wt,this.Yt,this.Ul),this.Cn.init(),this.We&&e.addProvider(this.We),this.yr&&e.addProvider(this.yr);let i=this.E.isCsCrosswritingHeap();if(i||this.E.isCsSideloadingHeap()||this.E.isHeapSideloadsCs()){let n=this.E.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let o={cw:i?"1":"2"};return n&&(o.happid=n),o}})}Id(this.S,this.Cn,this.A,this.Ps)}start(t){this.Cn.start(t)}stop(){this.Cn.stop()}onBeforeSessionRenewal(){this.Cn.stop()}}return s})();function vl(s){switch(s){case"no decoding":return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0};default:return null}}function Sl(s){switch(s==null?void 0:s[0]){case"on next pageview only":return{lifespan:"onNextPageviewOnly"};default:return null}}var Pd=(()=>{class s extends ee{validateArgs(t){if(ut(t)){let e=mt(t.path)?U(t.path):!0,i=mt(t.decodeURI)?U(t.decodeURI):!0,n=mt(t.lifespan)?csArray.isArray(t.lifespan):!0;return e&&i&&n}return!1}execute(t){if(!t.path)this.In([]);else{let e=[t.path],i=vl(t.decodeURI),n=Sl(t.lifespan),o={...i,...n};Object.keys(o).length&&e.push(o),this.In(e)}}In(t){this.commandsService.applyFromImplementation(Oo[0],t,"ArtificialPageviewTemplate")}}return s})(),TE=(()=>{class s extends ee{constructor(){super(...arguments),this.zl=!1}validateArgs(t){return ut(t)&&U(t.type)&&U(t.urls)&&(t.type==="allow"||t.type==="block")&&csString.prototype.trim.call(t.urls).length>0?(this.zl=!1,!0):(Y.implementation(`BlockAllowListForSRTemplate has wrong argument: ${t}, fallback to default config.`),this.zl=!0,!0)}execute(t){let e="";this.zl?e=gd:e=this.YS(t.urls,t.type),this.commandsService.applyFromImplementation(ml[0],[e],"BlockAllowListForSRTemplate")}YS(t,e){let i=e==="allow"?"?!":"";return i+=csArray.prototype.join.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),n=>`.*${csString.prototype.trim.call(n)}`),"|"),`^(${i}).*?`}}return s})(),Od=["trackError"],bE=(()=>{class s extends fn{validateArgs(t){return ut(t)?U(t.message)&&csArray.isArray(t.attributes):!1}execute(t,e){let i=mr(t.message,e);if(!i)return;let n={};for(let o of t.attributes){let c=mr(o.value,e);c!==null&&(n[o.key]=c)}this.commandsService.applyFromImplementation(Od[0],[i,n],"CustomErrorTemplate")}}return s})(),No=["setCustomVariable"],RE=(()=>{class s{constructor(t,e){this.S=t,this.Rt=e}init(){this.S.register(No,(t,e,i,n)=>{this.Rt.set(t,e,i,n)})}onAfterArtificialPageView(){this.Rt.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this.Rt.deleteNextPageOnlyCustomVariables()}onOptout(){this.Rt.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this.Rt.removeCustomVariablesSession(),this.Rt.removeCustomVariablesPage()}}return s})(),CE=(()=>{class s extends ee{validateArgs(t){if(ut(t)){let e=vd(t),i=csArray.isArray(t.scope)?Cu(t.scope,n=>U(n)):!0;return e&&i&&Bt(t.index)&&U(t.name)&&U(t.value)}return!1}execute(t){this.commandsService.applyFromImplementation(No[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")}}return s})(),_l=["setEncryptionSelectors"],wr=["setPIISelectors"],Mo=["setCapturedElementsSelector"],IE=(()=>{class s{constructor(t,e,i,n,o,c,h){this.w=t,this.S=e,this.tt=i,this.Kt=n,this.Jt=o,this.ut=c,this.Er=h}init(){var t,e;this.Er&&this.ut&&((t=this.Er)===null||t===void 0||t.addSelector((e=this.ut)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ft()}onBeforeNaturalPageView(t){this.Kt.start(),this.w.emitSensitiveStatusChange()}onStartTracking(t){this.Kt.start(),this.w.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.Kt.stop(),this.Kt.start(),this.w.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.Kt.stop(),this.w.emitSensitiveStatusChange()}onOptout(){this.Kt.stop(),this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.w.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.w.emitSensitiveStatusChange()}ft(){this.S.register(wr,t=>{this.tt.setMaskedElementSettingsFromCommand(t),this.w.emitSensitiveStatusChange()}),this.S.register(Mo,t=>{this.Jt.setWhitelistedElementsSelector(t),this.w.emitSensitiveStatusChange()}),this.S.register(_l,t=>{var e,i;(e=this.ut)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.Er)===null||i===void 0||i.addSelector(t)})}}return s})(),PE=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.selector):!1}execute(t){this.commandsService.applyFromImplementation(_l[0],[t.selector],"DataCsEncryptTemplate")}}return s})(),OE="data-cs-override-id",NE=(()=>{class s extends ee{validateArgs(t){if(ut(t)){let e=Nt(t.value)?U(t.value):!0;return U(t.selector)&&e}return!1}execute(t){var e;if(!de(t.selector))return;let i=window.csquerySelector[document.nodeType].call(document,t.selector);i&&i.setAttribute(OE,(e=t.value)!==null&&e!==void 0?e:"")}}return s})(),ME=512,DE=255,Kr=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,ME),this.value=U(e)?csString.prototype.slice.call(e,0,DE):e}static isKeyValid(t){return U(t)}static isValueValid(t){return U(t)||fs(t)}}return s})(),kE=(()=>{class s extends Xt{constructor(t,e){super(),this.Qt=t,this.D=e,this.Gl=[]}onStart(){csArray.prototype.forEach.call(this.Gl,t=>this.Jf(t.key,t.value)),this.Gl=[]}onStop(){}Jf(t,e){let i=this.D.anonymizePII(t),n=fs(e)?e:this.D.anonymizePII(e);this.Qt.add(new Kr(i,n))}trackDynamicVariable(t,e){if(Kr.isKeyValid(t)&&Kr.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.Gl,{key:t,value:e});return}this.Jf(t,e)}else throw new Ht(gn[0])}}return s})(),xE=(()=>{class s{constructor(t){this.fe=t,this.Qt=[]}add(t){csArray.prototype.push.call(this.Qt,t),this.setBatchReadyCall()}clear(){this.Qt=[]}onBatchReady(t){this.XS=t}getRequestParameters(){let t={};for(let e of this.Qt)t[e.key]=e.value;return{dv:this.fe.compressSync(csJSON.stringify(t),"base64"),ct:this.fe.algorithm}}setBatchReadyCall(){this.XS()}}return it([Fi({wait:0,mode:"trailing"}),G("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),LE="dvar",gn=["trackDynamicVariable"],VE=(()=>{class s{constructor(t,e,i,n,o,c){this.S=t,this.C=e,this.E=i,this.qe=n,this.fe=o,this.D=c,this.Ts=new rn(this.E.getTrackerUri(),LE),this.Qt=new xE(this.fe),this.bs=new kE(this.Qt,this.D)}init(){this.Ts.setRequestParametersProviders(this.qe,this.Qt),this.C.setDynamicVariablesService(this.bs),this.Qt.onBatchReady(()=>this.Ts.send()),this.Ts.after(()=>this.Qt.clear()),this.S.register(gn,({key:t,value:e}={})=>{this.bs.trackDynamicVariable(t,e)})}onStartTracking(){this.bs.start()}onArtificialPageViewEnd(t){t&&this.bs.stop()}onAfterArtificialPageView(t){t&&this.bs.start()}}return s})(),UE=20,jE=(()=>{class s extends fn{validateArgs(t){return ut(t)?vd(t)&&U(t.key)&&U(t.value)&&U(t.type):!1}execute(t,e){let i=vc(t,e);i!==null?this.In(i):this.KS(t,e)()}KS(t,e){return()=>{let i=0,n=window.csSetInterval(()=>{i+=1;let o=vc(t,e);if(o!==null){window.csClearInterval(n),n=void 0,i=0,this.In(o);return}i>=UE&&(window.csClearInterval(n),n=void 0,i=0)},100)}}In(t){let e=t.value;if(t.type==="Integer"){let i=Number.parseInt(t.value,10);Number.isNaN(i)||(e=i)}this.commandsService.applyFromImplementation(gn[0],[{key:t.key,value:e}],"DynamicVariableTemplate")}}return s})(),Nd=100,HE=100,BE=(()=>{class s extends Xt{constructor(t,e){super(),this.JS=t,this.V=e,this.Ie=null,this.ql=[]}onStart(){csArray.prototype.forEach.call(this.ql,t=>{this.Ie=t,this.Qf()}),this.ql=[]}onStop(){}addToCart(t){let e={};U(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,HE)),U(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,Nd)),(e.sku||e.merchant)&&(this.Ie=e,this.Qf())}getCartItem(){return this.Ie}Qf(){if(!this.isStarted&&this.Ie!==null){csArray.prototype.push.call(this.ql,this.Ie),this.clear();return}this.V.refreshSession(),this.V.isSessionValid()&&this.JS.send()}clear(){this.Ie=null}getRequestParameters(){if(!this.Ie)return{};let t={};return U(this.Ie.sku)&&this.Ie.sku.length>0&&(t.sku=this.Ie.sku),U(this.Ie.merchant)&&this.Ie.merchant.length>0&&(t.me=this.Ie.merchant),t}}return s})(),wc=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),U(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return Nt(t)&&Bt(t.revenue)&&U(t.currency)&&t.currency.length<=10&&(!Nt(t.id)||U(t.id))}}return s})(),FE=(()=>{class s{constructor(t,e,i,n){this.id=t,this.name=e,this.price=i,this.quantity=n}static from(t){if(!s.Wl(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return mt(t.sku)&&(e.sku=t.sku),mt(t.category)&&(e.category=t.category),mt(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,Nd)),e}static Wl(t){return Nt(t)&&U(t.id)&&U(t.name)&&Bt(parseFloat(t.price))&&fs(parseInt(t.quantity,10))&&(!mt(t.sku)||U(t.sku))&&(!mt(t.category)||U(t.category))&&(!mt(t.merchant)||U(t.merchant))}}return s})(),Md=(()=>{class s extends Xt{constructor(t,e,i){super(),this.D=t,this.Zf=e,this.V=i,this.Yl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Yl,t=>{this.pe=t.transaction,this.Pn=t.transactionItems,this.sendTransaction()}),this.Yl=[]}onStop(){}addTransaction(t){let e=this.D.anonymizeFields(t,["id"]);this.pe=wc.from(e)}getTransaction(){return this.pe}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Yl,{transaction:this.pe,transactionItems:[...this.Pn]}),this.clear();return}if(!(this.Zf===null||this.V===null)&&(this.V.refreshSession(),!!this.V.isSessionValid())){if(!this.pe.hasValidRevenue()){Y.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.Zf.send()}}addItem(t){if(Ce(t))throw new Ht(Ar[1]);let e=this.D.anonymizeFields(t,["id","name","sku","category"]),i=FE.from(e);i!==null&&csArray.prototype.push.call(this.Pn,i)}getItems(){return this.Pn}clear(){this.pe=wc.from({revenue:NaN}),this.Pn=[]}getRequestParameters(){let t={id:this.pe.id?`${this.pe.id}`:"",revenue:`${this.pe.revenue}`};return mt(this.pe.tax)&&(t.tax=`${this.pe.tax}`),mt(this.pe.shipping)&&(t.shipping=`${this.pe.shipping}`),mt(this.pe.currency)&&(t.cu=`${this.pe.currency}`),t.items=window.csJSON.stringify(this.Pn),t}}return s})(),Dd=["ecommerce:addToCart","ec:cart:add"],mn=["ecommerce:addTransaction","ec:transaction:create"],Ar=["ecommerce:addItem","ec:transaction:items:add"],yn=["ecommerce:send","ec:transaction:send"],$E=(()=>{class s{constructor(t,e,i,n,o,c,h){this.E=t,this._t=e,this.N=i,this.S=n,this.D=o,this.V=c,this.A=h}init(){let t=new rn(this.E.getTrackerUri(),"transaction"),e=new rn(this.E.getTrackerUri(),"addtocart");this.je=new Md(this.D,t,this.V),this.vr=new BE(e,this.V);let i=new nn(this._t,this.N,this.A,this.je);t.setRequestParametersProviders(i),t.after(()=>{this.je.clear()});let n=new nn(this._t,this.N,this.A,this.vr);e.setRequestParametersProviders(n),e.after(()=>{this.vr.clear()}),this.S.register(mn,o=>{this.je.addTransaction(o)}),this.S.register(Ar,o=>this.je.addItem(o)),this.S.register(yn,()=>this.je.sendTransaction()),this.S.register(Dd,o=>{this.vr.addToCart(o)})}onStartTracking(){this.je.start(),this.vr.start()}onArtificialPageViewEnd(t){t&&(this.je.stop(),this.vr.stop())}onAfterArtificialPageView(t){t&&(this.je.start(),this.vr.start())}}return s})(),zE=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.transactionId)&&Bt(t.revenue)&&U(t.currency)&&U(t.name)&&U(t.sku)&&U(t.category)&&Bt(t.price)&&Bt(t.quantity):!1}execute(t){this.QS({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.ZS({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.wa()}QS(t){this.commandsService.applyFromImplementation(mn[0],[t],"EcTransactionAllTemplate")}ZS(t){this.commandsService.applyFromImplementation(Ar[0],[t],"EcTransactionAllTemplate")}wa(){this.commandsService.applyFromImplementation(yn[0],[],"EcTransactionAllTemplate")}}return s})(),GE=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.id)&&Bt(t.revenue)&&U(t.currency):!1}execute(t){this.commandsService.applyFromImplementation(mn[0],[t],"EcTransactionCreateTemplate")}}return s})(),qE=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.id)&&U(t.name)&&U(t.sku)&&U(t.category)&&Bt(t.price)&&Bt(t.quantity):!1}execute(t){this.commandsService.applyFromImplementation(Ar[0],[t],"EcTransactionItemsAddTemplate")}}return s})(),WE=(()=>{class s extends ee{validateArgs(t){return!!ut(t)}execute(){this.commandsService.applyFromImplementation(yn[0],[],"EcTransactionSendTemplate")}}return s})(),YE=(()=>{class s extends fn{validateArgs(t){return ut(t)?Nt(t)&&U(t.selector):!1}execute(t,e){if(!Nt(t)||!U(t==null?void 0:t.selector))return;let i=Sc(t.selector,e);i!==null&&this.commandsService.applyFromImplementation(Mo[0],[i],"ElementUnmaskingTemplate")}}return s})(),xi;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(xi||(xi={}));var wh=(()=>{let s;return function(r){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}r.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}r.stopRecording=e;function i(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}r.triggerLogicalPageView=i;function n(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}r.sendPageEvent=n;function o(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}r.sendEventTriggerRecording=o}(s||(s={})),s})();function Ac(s){return s.tagDeploymentMode===xi.DualCollectionReview||s.tagDeploymentMode===xi.DualCollection}function XE(s){return Ac(s)||s.tagDeploymentMode===xi.LoadClicktalePtc}var KE="@ETP@",Ah="@user-identifier@",JE=(()=>{class s extends Xt{constructor(t,e,i,n){super(),this.E=t,this.t_=e,this.fe=i,this.Y=n,this.Xl=[],this.Vi=[]}onStart(){csArray.prototype.forEach.call(this.Xl,t=>this.tp(t)),this.Xl=[],csArray.prototype.forEach.call(this.Vi,t=>this.ep(t)),this.Vi=[]}onStop(){}tp(t){this.e_(t)?Mi.isSupported()&&this.s_(t):this.i_(t)}trackPageEvent(t){if(!s.sp(t))throw new Ht(Do[0]);this.isStarted?this.tp(t):csArray.prototype.push.call(this.Xl,t)}e_(t){return pc(t,Ah)}async s_(t){if(!this.E.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,Ah.length);if(e.length>Mi.MAX_DIGEST_INPUT_SIZE){Y.warn("UserIdentifier event: invalid user identifier");return}let i=await Mi.digest(e);i?(this.Sr={eventName:i,isETR:!1,isCustomHashId:!0},this.Aa()):Y.warn("Page event: unable to compute customHashId"),this.E.encryptionEnabled&&this.Y.emitUserIdentifierEvent(e)}i_(t){this.Y.emitPageEvent(t),this.Sr={eventName:t,isETR:!1,isCustomHashId:!1},this.Aa(),this.E.tagDeploymentMode===xi.LoadClicktalePtc&&wh.sendPageEvent(t)}ep(t){this.E.malkaEtrEnabled?this.r_(t):this.n_(t)}trackEventTriggerRecording(t){if(!s.sp(t))throw new Ht(Tr[0]);this.isStarted?this.ep(t):csArray.prototype.push.call(this.Vi,t)}r_(t){pc(t,KE)?this.Y.emitEventTriggerRecording(t,fi.ETR_PAGE):this.Y.emitEventTriggerRecording(t,fi.ETR_SESSION),this.Sr={eventName:t,isETR:!0,isCustomHashId:!1},this.Aa()}n_(t){XE(this.E)&&(this.Y.emitEventTriggerRecording(t,fi.ETR_LEGACY),this.Sr={eventName:t,isETR:!0,isCustomHashId:!1},this.Aa(),this.E.tagDeploymentMode===xi.LoadClicktalePtc&&wh.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.fe.compressSync(this.Sr.eventName,"base64"),ct:this.fe.algorithm,isETR:`${this.Sr.isETR}`,isCustomHashId:`${this.Sr.isCustomHashId}`}}Aa(){this.t_.send()}static sp(t){return U(t)&&!!csString.prototype.trim.call(t)}}return s})(),Do=["trackPageEvent"],Tr=["trackEventTriggerRecording"],QE=(()=>{class s{constructor(t,e,i,n,o){this.E=t,this.S=e,this.fe=i,this.qe=n,this.Y=o}init(){let t=new rn(this.E.getTrackerUri(),"pageEvent");this._r=new JE(this.E,t,this.fe,this.Y),t.setRequestParametersProviders(this._r,this.qe),this.S.register(Do,e=>{this._r.trackPageEvent(e)}),this.S.register(Tr,e=>{this._r.trackEventTriggerRecording(e)})}onStartTracking(){this._r.start()}onArtificialPageViewEnd(t){t&&this._r.stop()}onAfterArtificialPageView(t){t&&this._r.start()}}return s})(),ZE=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(Tr[0],[`@ETP@${t.eventName}`],"EventTriggerRecordingPageTemplate")}}return s})(),tv=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(Tr[0],[`@ETS@${t.eventName}`],"EventTriggerRecordingSessionTemplate")}}return s})(),wl=["networkRequest:maskUrls"],kd=["networkRequest:maskUrls:reset"];var ev=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.maskingPattern):!1}execute(t){this.commandsService.applyFromImplementation(wl[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")}}return s})(),sv=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(Do[0],[t.eventName],"PageEventTemplate")}}return s})(),iv=(()=>{class s extends fn{validateArgs(t){if(ut(t)){let e=csArray.isArray(t.cssSelectors),i=csArray.isArray(t.attributes);return e&&i}return!1}execute(t,e){let i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,c=>Sc(c,e)),c=>!!c),n=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,c=>{let h=mr(c.attrName,e),d=Sc(c.selector,e);return{attrName:h,selector:d}}),c=>!!c.attrName&&!!c.selector),o={PIISelectors:[...i],Attributes:[...n]};this.commandsService.applyFromImplementation(wr[0],[o],"PIIMaskingTemplate")}}return s})(),rv=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.eventName):!1}execute(t){this.commandsService.applyFromImplementation(Tr[0],[`${t.eventName}`],"RecordingEventTriggerTemplate")}}return s})(),nv=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.path):!1}execute(t){let e=[t.path],i=vl(t.decodeURI),n=Sl(t.lifespan),o={...i,...n};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(po[0],e,"SetPathTemplate")}}return s})(),ov=(()=>{class s extends ee{validateArgs(t){return ut(t)?U(t.query):!1}execute(t){let e=[t.query],i=vl(t.decodeURI),n=Sl(t.lifespan),o={...i,...n};Object.keys(o).length&&e.push(o),this.commandsService.applyFromImplementation(go[0],e,"SetQueryTemplate")}}return s})();function Ws(s,r,t,e){var i=arguments.length,n=i<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,r,t,e);else for(var c=s.length-1;c>=0;c--)(o=s[c])&&(n=(i<3?o(n):i>3?o(r,t,n):o(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n}var qr=s=>s instanceof HTMLFormElement?"form":s.localName,Th=new Map,Va=!ln&&document.implementation.createHTMLDocument("");function xd(s){var r,t;return(t=(r=s.sheet)===null||r===void 0?void 0:r.href)!==null&&t!==void 0?t:s.getAttribute("href")}function av(s){if(!Ao(s))return null;let r=Ld(s);if(r===null||r.length===0)return null;let t="";if(wo(s.textContent))dt(r,e=>t+=e.cssText);else{let e=cv(s);if(e===r.length||e>r.length)return null;let i=new csArray(r.length-e);for(let n=e,o=0;n<r.length;n+=1,o+=1)i[o]=r[n];dt(i,n=>t+=n.cssText)}return t}function cv(s){if(!Va)return 0;let r=Th.get(s.textContent);if(r)return r;let t=s.cloneNode(!0);t.textContent=s.textContent,Va.head.appendChild(t);let e=Ld(t);return r=e?e.length:0,Th.set(s.textContent,r),Va.head.removeChild(t),r}function Ld(s){try{if(s.disabled)return null;let r=s.sheet;return r?r.cssRules||r.rules:null}catch(r){if(r.name!=="SecurityError"&&r.name!=="InvalidAccessError")throw r;return null}}var zs={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLESHEET:50};var $i=(()=>{class s{constructor(t){this.csId=ct(t),this.props=di.getAll(t)}}return s})(),Vd=(()=>{class s extends $i{constructor(t){super(t),this.nodeType=3,this.data=t.data}}return s})(),rs=(()=>{class s extends $i{constructor(t){var e,i,n;super(t),this.attributes=[],this.nodeType=zs.ELEMENT_NODE,this.localName=qr(t),this.namespaceURI=(e=t.namespaceURI)!==null&&e!==void 0?e:void 0,this.children=[];let o=av(t);if(o){this.children=new csArray(csNodechildNodes.apply(t).length);let c=document.createTextNode(o),h=new Vd(c);csArray.prototype.push.call(this.children,h)}(Ao(t)||il(t))&&(this.disabledSheet=(n=(i=t.sheet)===null||i===void 0?void 0:i.disabled)!==null&&n!==void 0?n:!1)}static isElement(t){return t.nodeType===zs.ELEMENT_NODE}static getAttribute(t,e){return Sr(t.attributes,i=>i.name===e)}static getAttributeValue(t,e){var i;return(i=this.getAttribute(t,e))===null||i===void 0?void 0:i.value}}return s})();function lv(s,r){let t=!1,e=function(){if(!t)return s.apply(r,arguments)};return e.cancel=()=>t=!0,e}function hv(){let s=new Error,r=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(r.length===0)return"";let t=dv(r);return t===""||(r=fv(r,t),r.length===0)?"":Ud(r[0])}function uv(s){return csString.prototype.indexOf.call(s,"@")!==-1}function dv(s){return s.length>0?Ud(s[0]):""}function fv(s,r){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,r)===-1)}function Ud(s){let r="",t;uv(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(r=e[1]),r}var pv=s=>s;function gv(s,r,t,e){let i=csSymbol.for("propertyProxy");Object.defineProperty(s,r,{get(){var n;if(this[i])return this[i];let o=(n=t.get)===null||n===void 0?void 0:n.apply(this);return typeof o!="object"?o:(typeof Proxy=="function"?this[i]=new Proxy(o,{get(c,h){let d=Reflect.get(c,h);return typeof d=="function"?d.bind(c):d},set:(c,h,d)=>{let f=c[h],g=Reflect.set(c,h,d);return e.forEach(v=>v(this,d,f,"subproperty")),g}}):this[i]=o,this[i])},set(){var n;let o=arguments,c=this[r],h=(n=t.set)===null||n===void 0?void 0:n.apply(this,o);delete this[i];try{e.forEach(d=>d(this,o[0],c,"property"))}catch(d){Tt.error(d)}return h}})}function mv(s,r,t){let e=yv(s,r);if(!e)return null;let i=(n,o,c,h)=>t(n,o,c,h);return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function yv(s,r){let t=csSymbol.for(r);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,r);return i?i.configurable?(s[t]=e,gv(s,r,i,e),e):(Tt.warn(`Cannot intercept non configurable property '${csString(r)}' of object '${s}'`),null):(Tt.warn(`Cannot intercept property '${csString(r)}' because it does not exist directly on the target object '${s}'`),null)}function Ev(s,r){let t=csSymbol.for(r);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,r);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return Tt.warn(`Cannot intercept read only function '${csString(r)}' of object '${s}'`),null;let i=new Set;s[t]=i;let n=s[r];if(typeof n=="function"){let o=function(){let c=arguments,h=[];try{h=csArray.prototype.map.call(qs(i),f=>f(c))}catch(f){Tt.critical(f)}let d=n.apply(this,c);return Ui(()=>{let f={result:d,context:this,args:c};csArray.prototype.forEach.call(h,g=>g(f))},[gs.MonkeyPatch,`${csString(r)}`]),d};_v(o,n),s[r]=o}return i}function Us({target:s,methodName:r,hook:t,hookPrepareArgs:e=pv,options:i}){let n=Ev(s,r);if(!n)return null;let o=c=>{let h=e(c),d=i!=null&&i.withCallerName?{callerName:hv()}:{};return f=>t({...f,...d,args:h})};return{activate:()=>{n.add(o)},deactivate:()=>{n.delete(o)}}}function vv(s,r){return jd(s,r,!1)}function jd(s,r,t=!0){let e=csSymbol.for(r);if(t?s[e]:s.hasOwnProperty(e))return s[e];let i=new Set,n=Object.getOwnPropertyDescriptor(s,r);if(!n)return Tt.warn(`Cannot intercept property '${csString(r)}' because it does not exist directly on the target object '${s}'`),null;if(!n.configurable)return Tt.warn(`Cannot intercept read only property '${csString(r)}' of object '${s}'`),null;s[e]=i;let o=`${csString(r)}-setter`;return Object.defineProperty(s,r,{set(){var c;let h=this[r],d=arguments;return Ui(()=>{i.forEach(f=>f(this,d[0],h,"property"))},[gs.MonkeyPatch,o]),(c=n.set)===null||c===void 0?void 0:c.apply(this,d)}}),i}function Sv(s,r,t){return on(s,r,t,!0)}function on(s,r,t,e=!1){let i=e?vv(s,r):jd(s,r);if(!i)return null;let n=(o,c,h)=>t(o,c,h,"property");return{activate:()=>{i.add(n)},deactivate:()=>{i.delete(n)}}}function _v(s,r){s.prototype=r.prototype,Object.defineProperty(s,"toString",{value:()=>r.toString()})}var ko=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return qs(this.set)}get count(){return this.set.size}}return s})(),wv=(()=>{class s extends ko{constructor(t="high"){super(),this.o_=t}add(t){this.set.add(t),this.set.size===1&&be(()=>{this.set.clear()},this.o_)}}return s})();function xo(s,r=!1){let t=new ko;return{push(e){t.count===0&&(r?be:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}var js=csSymbol(),Al=(()=>{class s{constructor(t){var e,i,n,o,c,h,d,f,g,v,_,b,M;this.R=t,this.Kl=null,this.Jl=null,this.Ql=null,this.Zl=null,this.th=null,this.a_=xo(x=>this.processUpdateRulesInATick(x)),this.eh=null,this.ih=null,this.rh=null,this.R=x=>be(()=>t(x)),typeof((i=(e=window.CSSStyleSheet)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i.insertRule)=="function"&&(this.Kl=Us({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:({context:x,args:N})=>{this.processInsertRule(x,N)}})),typeof((o=(n=window.CSSStyleSheet)===null||n===void 0?void 0:n.prototype)===null||o===void 0?void 0:o.deleteRule)=="function"&&(this.Jl=Us({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:({context:x,args:N})=>{this.processDeleteRule(x,N)}})),typeof((h=(c=window.CSSGroupingRule)===null||c===void 0?void 0:c.prototype)===null||h===void 0?void 0:h.insertRule)=="function"&&(this.Ql=Us({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:({context:x})=>this.processUpdateRule(x)})),typeof((f=(d=window.CSSGroupingRule)===null||d===void 0?void 0:d.prototype)===null||f===void 0?void 0:f.deleteRule)=="function"&&(this.Zl=Us({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:({context:x})=>this.processUpdateRule(x)})),!((g=window.StyleSheet)===null||g===void 0)&&g.prototype&&"disabled"in window.StyleSheet.prototype&&(this.th=on(window.StyleSheet.prototype,"disabled",(x,N,C)=>{N!==C&&this.c_(x,N)})),typeof((_=(v=window.CSSStyleDeclaration)===null||v===void 0?void 0:v.prototype)===null||_===void 0?void 0:_.setProperty)=="function"&&(this.eh=Us({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:({context:x})=>{let N=x.parentRule;N instanceof CSSStyleRule&&this.processUpdateRule(N)}})),typeof((M=(b=window.CSSStyleDeclaration)===null||b===void 0?void 0:b.prototype)===null||M===void 0?void 0:M.removeProperty)=="function"&&(this.ih=Us({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:({context:x})=>{let N=x.parentRule;N instanceof CSSStyleRule&&this.processUpdateRule(N)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.rh=mv(window.CSSStyleRule.prototype,"style",x=>{this.processUpdateRule(x)}))}observe(){var t,e,i,n,o,c,h,d;(t=this.Kl)===null||t===void 0||t.activate(),(e=this.Jl)===null||e===void 0||e.activate(),(i=this.Ql)===null||i===void 0||i.activate(),(n=this.Zl)===null||n===void 0||n.activate(),(o=this.th)===null||o===void 0||o.activate(),(c=this.eh)===null||c===void 0||c.activate(),(h=this.ih)===null||h===void 0||h.activate(),(d=this.rh)===null||d===void 0||d.activate()}disconnect(){var t,e,i,n,o,c,h,d;(t=this.Kl)===null||t===void 0||t.deactivate(),(e=this.Jl)===null||e===void 0||e.deactivate(),(i=this.Ql)===null||i===void 0||i.deactivate(),(n=this.Zl)===null||n===void 0||n.deactivate(),(o=this.th)===null||o===void 0||o.deactivate(),(c=this.eh)===null||c===void 0||c.deactivate(),(h=this.ih)===null||h===void 0||h.deactivate(),(d=this.rh)===null||d===void 0||d.deactivate()}processInsertRule(t,[e,i]){if(t[js]==null&&!t.ownerNode)return;let n={type:"cssRuleInserted",sheet:t,rule:e,index:i};this.R(n)}processUpdateRule(t){let e=t;for(;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.a_.push(e)}processUpdateRulesInATick(t){for(let e of t){if(e.parentStyleSheet===null)return;let i=e.parentStyleSheet,n=csArray.prototype.indexOf.call(sn(i.cssRules),e);if(n===-1)return;let o={type:"cssRuleUpdated",sheet:i,rule:e.cssText,index:n};this.R(o)}}processDeleteRule(t,[e]){if(t[js]==null&&!t.ownerNode)return;let i={type:"cssRuleDeleted",sheet:t,index:e};this.R(i)}c_(t,e){if(t[js]==null&&!t.ownerNode)return;let i={type:"cssStyleSheetDisabled",sheet:t,disabled:e};this.R(i)}}return St([G()],s.prototype,"observe",null),St([G()],s.prototype,"disconnect",null),St([G()],s.prototype,"processInsertRule",null),St([G()],s.prototype,"processUpdateRule",null),St([G()],s.prototype,"processUpdateRulesInATick",null),St([G()],s.prototype,"processDeleteRule",null),s})(),zi=(()=>{var s;class r{static l_(e){this.Os.forEach(i=>{e(i,"initial")})}static On(e){if(this.U||(this.U=new csMutationObserver(i=>{for(let n of i)n.target.isConnected&&dt(n.addedNodes,this.h_),dt(n.removedNodes,this.u_)})),csArray.prototype.push.call(this.Pe,e),!this.X){this.X=!0,this.U.observe(document,this.Nn);for(let i of Ni.getAllShadowHosts(document)){let n=csElementshadowRoot.apply(i);this.Os.add(n),this.U.observe(n,this.Nn)}this.nh||(this.nh=Us({target:Element.prototype,methodName:"attachShadow",hook:i=>this.wr(i.result)&&this.rp(i.result)})),this.nh.activate()}this.l_(e)}static wr(e){return e.isConnected&&e.ownerDocument===document}static Mn(e){var i,n;this.Pe=csArray.prototype.filter.call(this.Pe,o=>o!==e),this.Pe.length===0&&(this.Pe=[],this.X=!1,(i=this.U)===null||i===void 0||i.disconnect(),(n=this.nh)===null||n===void 0||n.deactivate(),this.Os.clear())}constructor(e){this.R=e,this.R=gi("DocumentShadowRootObserver:callback",(i,n)=>e(i,n))}get shadowRoots(){return qs(s.Os)}static get shadowRootsCount(){if(s.X)return qs(s.Os).length}takeRecords(){var e,i;return(i=(e=s.U)===null||e===void 0?void 0:e.takeRecords())!==null&&i!==void 0?i:[]}observe(){Ni.isSupported()&&s.On(this.R)}disconnect(){Ni.isSupported()&&s.Mn(this.R)}}return s=r,r.Pe=[],r.Os=new Set,r.X=!1,r.Nn={childList:!0,subtree:!0},r.rp=t=>{s.Os.has(t)||(s.U.observe(t,s.Nn),s.Os.add(t),dt(s.Pe,e=>e(t,"added")))},r.h_=t=>{Re(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.rp)},r.u_=t=>{t.isConnected||Re(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.Os.has(e)&&(s.Os.delete(e),dt(s.Pe,i=>i(e,"removed")))})},St([G()],r.prototype,"observe",null),St([G()],r.prototype,"disconnect",null),r})(),Av=(()=>{class s{constructor(t){this.d_=1,this.Ta=new Set,this.oh=null,this.ah=null,this.ch=(e,i)=>{(i==="initial"||i==="added")&&this.setStyleSheets(e,e.adoptedStyleSheets)},this.f_=e=>{let i=e.sheet;if(this.Ta.has(i)){if(e.type==="cssRuleInserted"){let n={type:"adoptedStyleSheetRuleInserted",sheetId:i[js],rule:e.rule,index:e.index};this.R(n)}else if(e.type==="cssRuleDeleted"){let n={type:"adoptedStyleSheetRuleDeleted",sheetId:i[js],index:e.index};this.R(n)}else if(e.type==="cssRuleUpdated"){let n={type:"adoptedStyleSheetRuleUpdated",sheetId:i[js],rule:e.rule,index:e.index};this.R(n)}else if(e.type==="cssStyleSheetDisabled"){let n={type:"adoptedStyleSheetDisabled",sheetId:i[js],disabled:e.disabled};this.R(n)}}},this.R=e=>be(async()=>{await Tu(2),t(e)}),this.ge=new zi(this.ch),"adoptedStyleSheets"in Document.prototype&&(this.oh=on(window.Document.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.ah=on(window.ShadowRoot.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),this.np=new Al(this.f_)}observe(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.ge.observe(),(t=this.oh)===null||t===void 0||t.activate(),(e=this.ah)===null||e===void 0||e.activate(),this.np.observe()}disconnect(){var t,e;this.Ta.clear(),this.ge.disconnect(),(t=this.oh)===null||t===void 0||t.deactivate(),(e=this.ah)===null||e===void 0||e.deactivate(),this.np.disconnect()}setStyleSheets(t,e){if(!e.length)return;this.p_(e);let i=ns(e,o=>o[js]),n={type:"adoptedStyleSheetsSet",target:t,sheetsIds:i};this.R(n)}p_(t){dt(t,e=>{if(this.Ta.has(e))return;let i=this.d_++;e[js]=i,this.Ta.add(e);let n=this.g_(e),o={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:n,disabled:e==null?void 0:e.disabled};this.R(o)})}g_(t){let e=[];try{e=ns(t.cssRules,i=>i.cssText)}catch{}return e}}return St([G()],s.prototype,"observe",null),St([G()],s.prototype,"disconnect",null),St([G()],s.prototype,"setStyleSheets",null),s})(),Tv=Hi(Iv,"optimizeMutations"),bv=csSymbol.for("ignoreNextSerialization");function Rv(){let s=new Set,r=new Set,t=new Set,e=new Set,i=new Map,n=new Map,o=new Map,c=new Set,h=new Set,d=new Map,f=new Set;return{isMovedNode(g){return s.has(g)},markAsMovedNode(g){f.delete(g),s.add(g)},isDetachedMove(g){return!!Rt.findAncestor(g,v=>f.has(v),!0)},isAddedNode(g){let v=Rt.findAncestor(g,_=>r.has(_)||h.has(_)||s.has(_),!0);return!!v&&!s.has(v)},isMovedNodeIntoAddedNode(g){return s.has(g)&&!!Rt.findAncestor(g,v=>r.has(v)||h.has(v),!0)},markAsAddedNode(g){f.delete(g),h.delete(g),r.add(g)},markAsPendingInsert(g){h.add(g)},isPendingInsert(g){return h.has(g)},isRemovedNode(g){return!!Rt.findAncestor(g,v=>t.has(v),!0)},markAsRemovedNode(g){t.add(g)},isUselessNode(g){return e.has(g)},markAsUselessNode(g){e.add(g)},getPlaceholder(g,v){let _=v==="previous"?n:i;return g&&_.has(g)?_.get(g)||null:g},getSiblings(g){let v=g.addedNodes.length,_=this.getPlaceholder(g.previousSibling,"previous"),b=this.getPlaceholder(g.nextSibling,"next");if(v){let M=_,x=b,N=g.previousSibling!==_,C=g.nextSibling!==b;for(let H=0;H<v;H++){let j=g.addedNodes[H],O=g.addedNodes[v-H-1];this.isLatestNodeMutation(j,g)?(n.delete(j),g.previousSibling&&N&&(i.set(g.previousSibling,j),N=!1),M=j):n.set(j,M),this.isLatestNodeMutation(O,g)?(i.delete(O),g.nextSibling&&C&&(n.set(g.nextSibling,O),C=!1),x=O):i.set(O,x)}}else g.previousSibling&&g.previousSibling!==_&&i.set(g.previousSibling,b),g.nextSibling&&g.nextSibling!==b&&n.set(g.nextSibling,_);return{previousSibling:_,nextSibling:b}},setAttributeMutation(g,v){let _=o.get(g)||new Set;_.add(v),o.set(g,_)},isAttributeMutated(g,v){var _;return!!(!((_=o.get(g))===null||_===void 0)&&_.has(v))},setLatestNodeMutation(g,v){d.set(g,v)},isLatestNodeMutation(g,v){return d.get(g)===v},markAsFutureAddedNode(g){d.has(g)||f.add(g)},isTextMutated(g){return c.has(g)},setTextMutated(g){return c.add(g)}}}function Cv(s,r){for(let t=0;t<s.addedNodes.length;t++){let e=s.addedNodes[t];r.markAsFutureAddedNode(e),r.setLatestNodeMutation(e,s)}for(let t=0;t<s.removedNodes.length;t++){let e=s.removedNodes[t];r.setLatestNodeMutation(e,s)}}function Iv(s){let r=Rv(),t=[];for(let e of s)e.type==="childList"&&Cv(e,r);for(let e of s)switch(e.type){case"attributes":Ov(e,r,t);break;case"characterData":Pv(e,r,t);break;case"childList":Dv(e,r,t);break}return t}function Pv(s,r,t=[]){let e=s.target;return Rt.isConnected(e)&&!r.isTextMutated(e)&&!r.isAddedNode(e)&&!Mv(e,"characterData")&&(r.setTextMutated(e),csArray.prototype.push.call(t,s)),t}function Ov(s,r,t=[]){let e=s.target,i=`${s.attributeNamespace}/${s.attributeName}`;return Rt.isConnected(e)&&!r.isAttributeMutated(e,i)&&!r.isAddedNode(e)&&(r.setAttributeMutation(e,i),csArray.prototype.push.call(t,s)),t}var Nv=30;function Mv(s,r,t){let e=csSymbol.for(t?`${r}:${t}`:r),i=K.now(),n=s[e];return n&&i<n?!0:(s[e]=i+Nv,!1)}function Dv(s,r,t=[]){let e=Rt.isConnected(s.target),i=!e&&r.isRemovedNode(s.target),n=e&&r.isAddedNode(s.target),o=r.getSiblings(s),c=o.nextSibling,h=o.previousSibling,d=null,f=()=>{if(d){let{childListType:_,movedNodes:b,...M}=d;csArray.prototype.push.call(t,_==="added"?M:{...M,movedNodes:b}),d=null}},g=_=>_===(d==null?void 0:d.childListType)?d:(f(),{childListType:_,type:"childList",target:s.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:h,nextSibling:c});if(e){for(let _=0;_<s.addedNodes.length;_++){let b=s.addedNodes[_];r.isLatestNodeMutation(b,s)?(r.isMovedNode(b)?(d=g("moved"),csArray.prototype.push.call(d.movedNodes,b)):(r.markAsAddedNode(b),n||(d=g("added"),csArray.prototype.push.call(d.addedNodes,b))),h=b):Rt.isConnected(b)?r.isMovedNode(b)||r.markAsPendingInsert(b):r.markAsUselessNode(b)}f()}let v=no(s.removedNodes,_=>{if(Rt.isConnected(_)){if(!i&&!r.isPendingInsert(_)){if(r.isDetachedMove(_))return!0;r.markAsMovedNode(_),r.isMovedNodeIntoAddedNode(_)&&(_[bv]=!0)}return!1}return r.isUselessNode(_)?!1:(r.markAsRemovedNode(_),!0)});return v.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:v,addedNodes:[],movedNodes:[],target:s.target,nextSibling:c,previousSibling:h}),t}var bh={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},as=(()=>{var s;class r{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static lh(e){if(s.shadowRootFilters.length>0&&fr(e))for(let i=0;i<s.shadowRootFilters.length;i++){let n=s.shadowRootFilters[i];if(n(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,bh)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,be(()=>{this.isRefreshing=!1;let i=this.mutationObserver.takeRecords();i.length&&s.mutationCallback(i),this.mutationObserver.disconnect(),this.observedTargets.forEach(n=>{this.mutationObserver.observe(n,bh)})})))}static observe(e,i){csArray.prototype.push.call(this.callbacks,e),i&&csArray.prototype.push.call(this.shadowRootCallbacks,i),this.started?i&&csArray.prototype.forEach.call(Ni.getAllShadowHosts(document),n=>i(csElementshadowRoot.apply(n),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.lh(document),this.shadowRootObserver=new zi(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,dt(this.shadowRootObserver.shadowRoots,n=>{this.lh(n)}))}static disconnect(e,i){var n,o;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==i)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(n=this.shadowRootObserver)===null||n===void 0||n.disconnect(),(o=this.mutationObserver)===null||o===void 0||o.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,i){this.R=e,this.op=i;let n=xo(o=>e(o,this),!0);this.R=gi("DocumentMutationObserver:callback",o=>{dt(o,c=>n.push(c))})}get shadowRoots(){var e,i;return(i=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&i!==void 0?i:[]}takeRecords(){var e;let i=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),n=s.shadowRootObserver.takeRecords();return i!=null&&i.length&&n.length?Fp(i,n):i!=null?i:n}observe(){s.observe(this.R,this.op)}disconnect(){s.disconnect(this.R,this.op)}}return s=r,r.callbacks=[],r.shadowRootCallbacks=[],r.started=!1,r.observedTargets=new Set,r.shadowRootFilters=[],r.mutationCallback=t=>{qt.mutations.count.increase(t.length),rt.counters.mutations.push(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},r.onShadowRoot=(t,e)=>{dt(s.shadowRootCallbacks,i=>i(t,e)),e!=="removed"?s.lh(t):s.disconnectShadowRoot(t)},r.isRefreshing=!1,St([G()],r.prototype,"observe",null),St([G()],r.prototype,"disconnect",null),r})(),kv=(()=>{class s{constructor(t){this.R=t,this.hh=!1,this.m_=e=>{e.sheet.ownerNode&&(e.type==="cssRuleInserted"?this.R({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssRuleDeleted"?this.R({type:e.type,target:e.sheet.ownerNode,index:e.index}):e.type==="cssRuleUpdated"?this.R({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssStyleSheetDisabled"&&this.R({type:e.type,target:e.sheet.ownerNode,disabled:e.disabled}))},this.R=e=>be(()=>t(e)),this.ap=new Al(e=>be(async()=>{await Tu(),this.m_(e)})),"adoptedStyleSheets"in Document.prototype&&(this.cp=new Av(t))}observe(){var t;this.hh=!1,this.U=new as(e=>this.y_(e),(e,i)=>{i==="added"&&this.E_(e)}),this.U.observe(),this.ap.observe(),(t=this.cp)===null||t===void 0||t.observe()}disconnect(){var t,e;(t=this.U)===null||t===void 0||t.disconnect(),this.ap.disconnect(),(e=this.cp)===null||e===void 0||e.disconnect(),this.hh=!0}y_(t){if(this.hh)return;let e=Tv(t);for(let i=0;i<e.length;i++){let n=e[i];if(!n){Tt.error("processRawMutations: empty record");continue}switch(n.type){case"attributes":this.processAttributeChanged(n);break;case"characterData":this.processCharacterDataChanged(n);break;case"childList":this.processChildListChanged(n);break;default:Tt.error(`processRawMutations: unknown record type '${n.type}'`);break}}}processAttributeChanged(t){let e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:Rt.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.R(e)}processCharacterDataChanged(t){let e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.R(e)}processChildListChanged(t){var e,i,n;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){let o={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.R(o)}if(!((i=t.addedNodes)===null||i===void 0)&&i.length){let o={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:sn(t.addedNodes)};this.R(o)}if(!((n=t.removedNodes)===null||n===void 0)&&n.length){let o={type:"nodesRemoved",target:t.target,nodes:ns(t.removedNodes,c=>c)};this.R(o)}}E_(t){let e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.R(e)}}return St([G()],s.prototype,"processAttributeChanged",null),St([G()],s.prototype,"processCharacterDataChanged",null),St([G()],s.prototype,"processChildListChanged",null),s})(),xv=(()=>{class s extends $i{constructor(t){super(t),this.nodeType=4,this.data=t.data}}return s})(),Lv=(()=>{class s extends $i{constructor(t){super(t),this.nodeType=8,this.data=t.data}}return s})(),Vv=(()=>{class s extends $i{constructor(t){super(t),this.nodeType=10,this.name=t.name,this.publicId=t.publicId,this.systemId=t.systemId}}return s})(),Uv=(()=>{class s extends $i{constructor(t){super(t),this.nodeType=9,this.baseURI=s.getBaseURI(t),this.children=[]}static getBaseURI(t){let e=t.baseURI;if(e==null){let i=t.getElementsByTagName("base");e=i.length!==0?i[0].href:t.URL}return e}}return s})(),jv=(()=>{class s extends $i{constructor(t){super(t),this.nodeType=11,this.mode=t.mode,this.children=[]}}return s})(),Hv=(()=>{class s{constructor(t,e,i){var n;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=i!=null?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(n=t.namespaceURI)!==null&&n!==void 0?n:"")}static create(t){let e=t.attributes,i=new csArray(e.length);for(let n=0;n<i.length;n++){let o=e[n];i[n]=new s(o.name,o.value,o.namespaceURI),o.name==="href"&&il(t)&&(i[n].value=xd(t))}return i}}return s})(),Rh={workTime:40,async:!0,initialDOM:!0},Bv={serialize:Tl()},Jr=csSymbol("InitialDom"),Ch=csSymbol.for("ignoreNextSerialization");function Hd(s){return s[Ch]?(delete s[Ch],!0):!1}function Tl(s=Rh){return function(t,e){var i;(i=s.workTime)!==null&&i!==void 0||(s.workTime=Rh.workTime);let n=gi("serialize:callback",v=>e(v)),o=new hn,c=(v,_)=>{v.hasChildNodes()&&o.push({node:v,serializedNode:_});let b=v instanceof Element&&csElementshadowRoot.apply(v);if(b){let M=_.shadowRoot=Qr(b);s.async&&s.initialDOM&&vt.setProperty(b,Jr,!0),c(b,M)}},h,d=!0,f=8,g=gi("work",()=>{var v;if(d)h=Qr(t),s.async&&s.initialDOM&&vt.setProperty(t,Jr,!0),c(t,h),d=!1;else if(o.isEmpty)return;let _=zv(100);for(;!o.isEmpty;){if(s.async&&_.elapsed()>=s.workTime){--f<=0&&csSetTimeout(g);return}let{node:b,serializedNode:M}=o.pop(),x=(v=M.children)!==null&&v!==void 0?v:[];if(bo(b))continue;let N=0;for(let C=csNodefirstChild.apply(b);C;C=csNodenextSibling.apply(C)){if(Hd(C))continue;let H=Qr(C);s.async&&s.initialDOM&&vt.setProperty(C,Jr,!0),x[N++]=H,c(C,H)}}s.async?csSetTimeout(()=>n(h)):e(h)});if(!s.async)s.workTime=1/0,g();else for(let v=0;v<f;v++)csSetTimeout(g,1)}}function Fv(s){let r=Qr(s),t=r;if(bo(s))return r;let e=0;for(let n=csNodefirstChild.apply(s);n;n=csNodenextSibling.apply(n))Hd(n)||(t.children[e++]=Tc(n));let i=s.shadowRoot;return i&&(t.shadowRoot=Tc(i)),r}var Tc=Hi(Fv,"serializeSync");function Qr(s){let r,t;switch(csNodenodeType.apply(s)){case 1:t=r=new rs(s),r.attributes=Gv(s);break;case 3:t=new Vd(s);break;case 4:t=new xv(s);break;case 8:t=new Lv(s);break;case 10:t=new Vv(s);break;case 9:t=new Uv(s);break;case 11:t=new jv(s);break;default:throw new Error("Node type not supported: "+csNodenodeType.apply(s))}return t}function $v(){Jr=csSymbol("InitialDom")}function zv(s){if(s<1)throw new Error("Precision should be >= 1");let r=0,t=K.elapsed();return{started:t,elapsed(){return++r%s===0&&(t=K.elapsed()),t-this.started}}}function Gv(s){return bo(s)?[]:Hv.create(s)}var bl=(()=>{class s{constructor(t){this.type="asyncEvent",this.uh=!1,t&&t(e=>this.resolve(e))}resolve(t){if(this.uh)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t={...t,timestamp:this.timestamp}),this.ni=t,this.uh=!0,this.R&&this.R(this.ni)}complete(t){this.uh&&t(this.ni),this.R=t}wait(){return new Promise(t=>this.complete(t))}}return s})(),Es=(()=>{class s{constructor(){this.Pt=[],this.isStarted=!1}async produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:K.now(),t.timestamp==null&&(t.timestamp=K.now()),csArray.prototype.forEach.call(this.Pt,i=>i(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Pt=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.Pt,t),()=>{let e=csArray.prototype.indexOf.call(this.Pt,t);csArray.prototype.splice.call(this.Pt,e,1)}}}return s})(),qv=Tl(),Bd=(()=>{class s extends Es{constructor(){super(...arguments),this.ba=!1}onStart(){this.ba=!0,this.R=lv(this.v_,this),this.G=new kv(this.R),this.G.observe();let t=qt.mutations.initialDOM.asyncMeasure(),e=()=>{this.ba=!1,$v(),t()};this.produceEvent(new bl(i=>qv(document,n=>{e(),i({type:"DomEvent",domEvent:"initialDOM",initialDOM:n})})))}onStop(){var t,e;this.ba=!1,(t=this.R)===null||t===void 0||t.cancel(),(e=this.G)===null||e===void 0||e.disconnect()}Zt(t,e){let i={type:"DomEvent",domEvent:e.type,target:0,targetProps:{}};return"target"in e&&(i.target=ct(e.target),i.targetProps=vt.getProperties(e.target)),[e,i]}v_(t){if(!this.S_(t))switch(t.type){case"attributeChanged":{let[e,i]=this.Zt(t.type,t);i.attribute=e.attribute,i.isSvg=ji(e.target),i.namespace=e.namespace,i.newValue=e.newValue,i.oldValue=e.oldValue,i.localName=qr(e.target),i.linkRel=Nu(e.target)?e.target.rel:null,i.parentLocalName=e.target.parentElement?qr(e.target.parentElement):void 0,i.localName==="input"&&(i.inputType=e.target.getAttribute("type")),this.produceEvent(i)}break;case"characterDataChanged":{let[e,i]=this.Zt(t.type,t);i.newValue=e.newValue,i.oldValue=e.oldValue,i.targetNodeType=csNodenodeType.apply(e.target),i.parentLocalName=e.target.parentElement?qr(e.target.parentElement):null,i.parentProps=e.target.parentElement?vt.getProperties(e.target.parentElement):void 0,this.produceEvent(i)}break;case"nodesAdded":{let[e,i]=this.Zt(t.type,t);i.targetLocalName=Lt(e.target)?qr(e.target):null,i.nextSibling=e.nextSibling?ct(e.nextSibling):null,i.previousSibling=e.previousSibling?ct(e.previousSibling):null,qt.mutations.serializedMutations.measure(()=>{i.nodes=ns(e.nodes,Tc)}),this.produceEvent(i);break}case"nodesMoved":{let[e,i]=this.Zt(t.type,t);i.previousSibling=e.previousSibling?ct(e.previousSibling):null,i.nextSibling=e.nextSibling?ct(e.nextSibling):null,i.nodesIds=ns(e.nodes,ct),this.produceEvent(i);break}case"nodesRemoved":{let[e,i]=this.Zt(t.type,t);i.nodesIds=ns(e.nodes,ct),this.produceEvent(i);break}case"shadowRootAttached":{let[e,i]=this.Zt(t.type,t);i.shadowRoot=Qr(e.shadowRoot),this.produceEvent(i);break}case"cssRuleInserted":{let[e,i]=this.Zt(t.type,t);i.index=e.index,i.rule=e.rule,this.produceEvent(i);break}case"cssRuleDeleted":{let[e,i]=this.Zt(t.type,t);i.index=e.index,this.produceEvent(i);break}case"cssRuleUpdated":{let[e,i]=this.Zt(t.type,t);i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"cssStyleSheetDisabled":{let[e,i]=this.Zt(t.type,t);i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetRegistered":{let[e,i]=this.Zt(t.type,t);i.sheetId=e.sheetId,i.cssRules=e.cssRules,i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetsSet":{let[e,i]=this.Zt(t.type,t);i.sheetsIds=e.sheetsIds,this.produceEvent(i);break}case"adoptedStyleSheetRuleInserted":{let[e,i]=this.Zt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleDeleted":{let[e,i]=this.Zt(t.type,t);i.sheetId=e.sheetId,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleUpdated":{let[e,i]=this.Zt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetDisabled":{let[e,i]=this.Zt(t.type,t);i.sheetId=e.sheetId,i.disabled=e.disabled,this.produceEvent(i);break}}}Ra(t){return this.ba&&!vt.getProperty(t,Jr)}S_(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.Ra(t.target)||$.isMaskedElement(t.target)||$.isMaskedElementChild(t.target);case"characterDataChanged":{let e=t.target.parentElement;return e!==null&&(this.Ra(e)||$.isMaskedElement(e)||$.isMaskedElementChild(e))}case"attributeChanged":return this.Ra(t.target)||$.isMaskedElementChild(t.target)||$.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":case"cssStyleSheetDisabled":return this.Ra(t.target)||$.isMaskedElementChild(t.target);default:return!1}}}return s})(),Li=(()=>{let s;return function(r){function t(i){return i.type==="DomEvent"}r.isDOMEvent=t;function e(i){return i.domEvent==="attributeChanged"}r.isAttributeChangedEvent=e}(s||(s={})),s})(),En=(()=>{class s{constructor(){this.Pt=[]}start(){}stop(){this.Pt.length=0,this.Pt=[]}pushEvent(t){if(s.pendingEvents++,this.isListening(t)){let e=this.Pt;csSetTimeout(()=>{let n=gi("Processor:processEvent",o=>this.processEvent(o))(t);n!=null&&csArray.prototype.forEach.call(e,o=>o(n)),s.pendingEvents--})}else csSetTimeout(()=>{csArray.prototype.forEach.call(this.Pt,e=>e(t))})}subscribe(t){return csArray.prototype.push.call(this.Pt,t),()=>{this.Pt=csArray.prototype.filter.call(this.Pt,e=>e!==t)}}emitEvent(t){be(()=>csArray.prototype.forEach.call(this.Pt,e=>e(t)))}}return s.pendingEvents=0,s})(),Fd=(()=>{class s extends En{isListening(t){return t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE"||Li.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded")}processEvent(t){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return this.processFastDOM(t),t;let e=0,i=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let n of i){if(n instanceof rs){let c=$.getMaskedAttributeDetails(n);n.attributes=this.Ca(n,c)}if($.getMaskedElementDetails(n).state===$.MaskedElementState.Child){if(t.domEvent==="initialDOM")return null;t.nodes=csArray.prototype.filter.call(t.nodes,c=>c!==n);continue}vt.traverse(n,c=>{if(c instanceof rs){let h=$.getMaskedAttributeDetails(c);c.attributes=this.Ca(c,h);let d=$.getMaskedElementDetails(c);d.state===$.MaskedElementState.Parent&&(this.Ia(c,d),e++)}})}return e>0&&rt.counters.sensitiveElements.count("masked-elements",e),t}processFastDOM(t){var e;let{MaskedElementState:i}=$,n=t.type==="DOM_PATCH"?t.diff:t.state,o=t.state;for(let c in n){let h=n[c],d=o[c],f=$.getMaskedElementDetails(d);if(f.state===i.Child){delete n[c];continue}else if(d.type!==1)continue;let g=$.getMaskedAttributeDetails(d);for(let v of(e=g.attributes)!==null&&e!==void 0?e:[])h.attributes&&delete h.attributes[v];f.state===i.Parent&&this.Ia(h,f)}}Ca(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Ia(t,e){var i;let n=`width: ${e.width}px !important; height: ${e.height}px !important;`;"nodeType"in t?(t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:n,namespaceURI:""}),rs.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})):((i=t.attributes)!==null&&i!==void 0||(t.attributes={}),delete t.firstChild,delete t.shadowRoot,t.attributes.style=n,t.attributes["data-cs-mask"]||(t.attributes["data-cs-mask"]=""))}}return Ws([le("MaskedElementProcessor.processEvent")],s.prototype,"processEvent",null),s})(),$e=(()=>{let s;return function(r){r.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",r.WHITELISTED_STATUS="whitelisted";function t(n){return vt.getProperty(n,r.ANONYMIZED_TEXT_STATUS_PROP)===r.WHITELISTED_STATUS}r.isWhitelistedElement=t;function e(n){vt.setProperty(n,r.ANONYMIZED_TEXT_STATUS_PROP,r.WHITELISTED_STATUS)}r.whitelistElement=e;function i(n){vt.setProperty(n,r.ANONYMIZED_TEXT_STATUS_PROP,void 0)}r.removeWhitelistElement=i}(s||(s={})),s})(),Wv=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,Yv="\uFF41",Xv=/[^\s]/g,Kv="a";function Ua(s){let r=csString.prototype.replace.call(s,Wv,Yv);return csString.prototype.replace.call(r,Xv,Kv)}function Jv(s,r){let t=r==="number"?"0":"\u2022";return csString.prototype.replace.call(s,/\S/g,t)}var $d=(()=>{class s{constructor(t,e,i,n=null,o=!1){this.fs=t,this.Dn=e,this.D=i,this.Pa=n,this.__=o,this.kn=Ro(this.Dn)}sanitize(t,e){return vt.traverse(t,(i,n)=>{if(i.anonymized=this.fs,i.nodeType===zs.TEXT_NODE){let o=i,{anonymizedValue:c,withAnonymization:h}=this.getAnonymizedValue(o.data,n?n==null?void 0:n.localName:e==null?void 0:e.targetLocalName,n?vt.getProperties(n):e==null?void 0:e.targetProps);i.anonymized=h,o.data=c;return}if(rs.isElement(i))return this.w_(i);if(i.nodeType===zs.CDATA_SECTION_NODE){let o=i;o.data=this.fs?Ua(o.data):this.D.checkAndAnonymizePII(o.data,this.Pa);return}}),t}setAnonymization(t){this.fs=t}getAnonymizedValue(t,e,i){if(e==="style")return{anonymizedValue:t,withAnonymization:!1};let n=(i==null?void 0:i[$e.ANONYMIZED_TEXT_STATUS_PROP])===$e.WHITELISTED_STATUS;return this.fs&&!n?{anonymizedValue:Ua(t),withAnonymization:!0}:{anonymizedValue:this.D.checkAndAnonymizePII(t,this.Pa),withAnonymization:!1}}w_(t){let e=Sr(t.attributes,n=>n.name==="type"),i=e==null?void 0:e.value;t.attributes=csArray.prototype.map.call(t.attributes,n=>(n.anonymized=this.fs,n.value=this.getAnonymizedAttributeValue(t.namespaceURI,t.localName,n.name,n.value,i),n))}getAnonymizedAttributeValue(t,e,i,n,o){if(t==="http://www.w3.org/2000/svg"||t==="svg"||this.A_(e,i,o))return n;if(Tm(i))return bm(e,i,n)?this.D.anonymizePII(n):n;let c=this.__&&i==="placeholder";return this.fs&&(Rm(e,i,o)||c)?Ua(n):this.fs?"":this.D.checkAndAnonymizePII(n,null)}A_(t,e,i){return Am(t,e,i)||this.kn.has(e)}}return s})(),Ih=(()=>{class s{static create(t,e){if(!s.isSupported())throw new Error("IntersectionObserver is not supported");if(e&&e.delay&&e.delay<100)throw new Error("Visibility delay should be > 100ms");return e!=null&&e.trackVisibility&&(t=s.T_(t)),new csIntersectionObserver(t,e)}static isSupported(){return!!window.csIntersectionObserver&&!!window.IntersectionObserverEntry}static T_(t){return(e,i)=>t(ns(e,Qv),i)}}return s})();function Qv(s){return s.isVisible||!Rt.isVisibleInViewportInForeground(s.target)?s:{boundingClientRect:s.boundingClientRect,intersectionRatio:s.intersectionRatio,intersectionRect:s.intersectionRect,isIntersecting:s.isIntersecting,rootBounds:s.rootBounds,target:s.target,time:s.time,isVisible:!0}}var bc=()=>(s,r,t)=>{t.value=Zv(t.value)};function Zv(s){let r=csSymbol("oncePerTickSymbol"),t=null,e={},i=function(){var n;let o=(n=this)!==null&&n!==void 0?n:e;if(t=arguments,o[r])return;o[r]=!0,tl(()=>{o[r]=!1,s.apply(o,t)})};return i.oncePerTickSymbol=r,i}bc.isScheduled=(s,r)=>{let t=r.oncePerTickSymbol;return s[t]};var tS=(()=>{class s{constructor(t){this.R=t,this.oi=new Map,this.lp=e=>{let i=e.target;if(this.oi.has(i))return!0;let n=!1;return this.oi.forEach((o,c)=>{n||!this.oi.get(c).subtree||(n=c.contains(i))}),n},qt.general.nbOfMutationObservers.increase(),this.U=new csMutationObserver(e=>{bc.isScheduled(this,this.garbageCollect)&&(e=no(e,this.lp)),e.length&&be(()=>t(e,this))})}disconnect(){qt.general.nbOfMutationObservers.decrease(),this.U.disconnect(),this.oi=new Map}takeRecords(){return this.U.takeRecords()}observe(t,e){return qt.mutations.elementMutationObserved.increase(),this.oi.set(t,e),this.U.observe(t,e)}unobserve(t){this.oi.has(t)&&(qt.mutations.elementMutationObserved.decrease(),this.oi.delete(t),this.garbageCollect())}garbageCollect(){qt.mutations.unobserveGarbageCollection.measure(()=>{let t=no(this.takeRecords(),this.lp);t.length&&this.R(t,this),this.U.disconnect(),this.oi.forEach((e,i)=>this.U.observe(i,e))})}}return St([bc()],s.prototype,"garbageCollect",null),s})(),eS=(()=>{class s{constructor(t){this.R=t,this.Ns=new Set}onMutations(t){if(Ru(t,e=>{var i;return!!(!((i=e.removedNodes)===null||i===void 0)&&i.length)}))for(let e of this.Ns.values())Rt.isConnected(e)||(this.Ns.delete(e),this.R(e))}observe(t){this.G||(this.G=new as(e=>csSetTimeout(()=>this.onMutations(e))),this.G.observe()),this.Ns.add(t)}disconnect(){var t;(t=this.G)===null||t===void 0||t.disconnect(),this.Ns.clear(),this.G=void 0}}return St([G("NodeDisconnectedObserver.onMutations")],s.prototype,"onMutations",null),s})(),sS=300,mo=(()=>{class s{constructor(t){this.Oa=new Set,this.b_=new eS(e=>this.hp(e)),this.X=!1,this.Ot=t?{...Ph,...t}:Ph}stop(){var t,e;this.X=!1,(t=this.xn)===null||t===void 0||t.disconnect(),(e=this.U)===null||e===void 0||e.disconnect()}start(t){if(this.X)throw new Error("VisibilityObserver is already started");this.R=gi("VisibilityObserver:callback",(i,n)=>t(i,n));let e={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:sS};this.xn=Ih.create(i=>this.handleIntersection(i),e),this.U=new tS(i=>csSetTimeout(()=>{dt(i,n=>this.hp(n.target))})),this.fh(),this.X=!0}observe(t){if(!this.X)throw new Error("Observer is stopped.");this.Ot.reobserve===!1&&t[this.ph]||(qt.visibilityObserver.nbElements.increase(),t[this.ph]=!0,this.watchIntersection(t))}fh(){this.Na=csSymbol("isVisible"),this.ph=csSymbol("ObservedElement"),this.gh=csSymbol("LinkedElement"),this.up=csSymbol("Tracked")}hp(t){this.Oa.add(t);for(let e of this.R_(t))this.Oa.add(e);this.recheckCssVisibilityAll()}recheckCssVisibilityAll(){dt(this.Oa.keys(),t=>{!t.isConnected||Rt.areAncestorsHiddenByCSS(t)||t[this.ph]&&this.watchIntersection(t)}),this.Oa.clear()}watchIntersection(t){this.U.unobserve(t),this.xn.unobserve(t);let e=Rt.getTopAncestorHiddenByCSS(t);e?(e!==t&&(this.dp(e,t),this.watchMutation(e)),this.watchMutation(t)):this.xn.observe(t)}watchMutation(t,e=!0){e&&delete t[this.Na],this.xn.unobserve(t);let i={attributeFilter:["style","class","hidden"]};this.U.observe(t,i)}handleIntersection(t){for(let e of t){let i=e.target;if(!e.isVisible){Rt.isVisibleInDocument(i)||this.C_(i);continue}let n=this.Ot.allowSameMatch||!e.target[this.Na];e.target[this.Na]=!0,n&&!this.Ot.delay&&this.onVisibilityChanged(e.target,Zr.VisibleInViewPort)}this.Ot.delay&&csSetTimeout(()=>{for(let e of t){let i=e.isIntersecting&&e.isVisible;e.target[this.Na]&&i&&this.onVisibilityChanged(e.target,Zr.VisibleInViewPort)}},this.Ot.delay)}C_(t){qt.visibilityObserver.hiddenElements.increase();let e=Rt.getTopElement(t);this.watchMutation(t),e&&(this.b_.observe(e),this.dp(e,t),this.watchMutation(e,!1))}dp(t,e){var i;(t[this.gh]=(i=t[this.gh])!==null&&i!==void 0?i:new Set).add(e)}R_(t){var e,i;let n=[],o=(i=(e=t[this.gh])===null||e===void 0?void 0:e.values())!==null&&i!==void 0?i:[];return dt(o,c=>csArray.prototype.push.call(n,c)),n}onVisibilityChanged(t,e){if(e===Zr.VisibleInViewPort&&this.Ot.trackOnce){if(this.xn.unobserve(t),this.U.unobserve(t),t[this.up])return;t[this.up]=!0}this.R(t,e)}static isSupported(){return Ih.isSupported()}}return St([G()],s.prototype,"observe",null),St([Fi({wait:50}),G(),le("recheckCssVisibilityAll")],s.prototype,"recheckCssVisibilityAll",null),St([G()],s.prototype,"watchIntersection",null),St([G()],s.prototype,"watchMutation",null),St([G(),le("VisibilityObserver.handleIntersection")],s.prototype,"handleIntersection",null),St([G()],s.prototype,"onVisibilityChanged",null),s})(),Zr=(()=>{let s;return function(r){r.VisibleInViewPort="VisibleInViewPort",r.HiddenByAnother="HiddenByAnother",r.Hidden="Hidden"}(s||(s={})),s})(),Ph={delay:1e3,trackOnce:!0,reobserve:!1};var zd=(()=>{let s;return function(r){r.ENCRYPTED_NODE_PROP="encrypted";function t(n){return vt.getProperty(n,r.ENCRYPTED_NODE_PROP)===!0}r.shouldEncrypt=t;function e(n){vt.setProperty(n,r.ENCRYPTED_NODE_PROP,!0)}r.markEncryptedNode=e;function i(n){vt.setProperty(n,r.ENCRYPTED_NODE_PROP,void 0)}r.unmarkEncryptedNode=i}(s||(s={})),s})(),Hs=(()=>{let s;return function(r){r.EDITABLE_NODE_PROP="editableNode";function t(n){var o;return"nodeType"in n?vt.getProperty(n,r.EDITABLE_NODE_PROP)===!0:((o=n.metadata)===null||o===void 0?void 0:o[r.EDITABLE_NODE_PROP])===!0}r.isEditableNode=t;function e(n){vt.setProperty(n,r.EDITABLE_NODE_PROP,!0)}r.markEditableNode=e;function i(n){vt.setProperty(n,r.EDITABLE_NODE_PROP,void 0)}r.unmarkEditableNode=i}(s||(s={})),s})();var Oh=(()=>{let s;return function(r){function t(e){return e.type==="TextVisibility"}r.isTextVisibilityEvent=t}(s||(s={})),s})();function Nh(s){var r;let t=(r=s.attributes)===null||r===void 0?void 0:r.type;if(t!=null)return csString.prototype.trim.call(csString.prototype.toLowerCase.call(t))}var Gd=(()=>{class s extends En{constructor(t,e,i=new Bi,n=null,o=!1){super(),this.D=i,this.Pa=n,this.captureAnonymizedPlaceholders=o,this.Ar=new $d(t,e,i,n,o)}setAnonymization(t){this.Ar.setAnonymization(t)}isListening(t){return t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE"||Oh.isTextVisibilityEvent(t)||Li.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||Li.isAttributeChangedEvent(t)&&typeof t.newValue=="string"||t.domEvent==="characterDataChanged")}processEvent(t){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return this.P_(t);if(Oh.isTextVisibilityEvent(t))return t.text=this.D.checkAndAnonymizePII(t.text,this.Pa),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.Eh(t);break;case"attributeChanged":this.O_(t);break;case"characterDataChanged":this.N_(t);break}return t}P_(t){var e,i;let n=t.type==="DOM_PATCH"?t.diff:t.state,o=t.state;for(let c in n){let h=o[c],d=o[h.parent];switch(h.type){case zs.TEXT_NODE:case zs.COMMENT_NODE:{let f=n[c];if(mt(f.data)){if(d.localName==="script"){f.data="";continue}}else continue;let{anonymizedValue:g,withAnonymization:v}=this.Ar.getAnonymizedValue((e=f.data)!==null&&e!==void 0?e:"",d.localName,d.metadata);f.anonymized=v,f.data=g;break}case zs.ELEMENT_NODE:{let f=n[c];if(f.attributes)for(let g in f.attributes){let v=f.attributes[g],_=Nh(h);f.attributes[g]=this.Ar.getAnonymizedAttributeValue(h.namespaceURI,h.localName,g,v,_)}!((i=f.state)===null||i===void 0)&&i.value&&(f.state.value=Jv(f.state.value,Nh(h)));break}}}return t}Eh(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes,i;t.domEvent==="nodesAdded"&&(i={targetLocalName:t.targetLocalName,targetProps:t.targetProps});for(let n of e)this.Ar.sanitize(n,i)}O_(t){if(!t.isSvg&&t.newValue){if(t.localName===null){t.newValue="";return}t.newValue=this.Ar.getAnonymizedAttributeValue(t.namespace,t.localName,t.attribute,t.newValue,t.inputType)}}N_(t){t.newValue=this.Ar.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue}}return Ws([le("AnonymizedTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();var Et=(()=>{let s;return function(r){r[r.ELEMENT_NODE=1]="ELEMENT_NODE",r[r.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",r[r.TEXT_NODE=3]="TEXT_NODE",r[r.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",r[r.COMMENT_NODE=8]="COMMENT_NODE",r[r.DOCUMENT_NODE=9]="DOCUMENT_NODE",r[r.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",r[r.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",r[r.CSS_STYLESHEET_NODE=50]="CSS_STYLESHEET_NODE"}(s||(s={})),s})();function Rl(s){let r=csString.prototype.trim.call(s);if(s==="")return[];let[t,e]=iS(r);return e?(vr(t,",")||(e=rS(e)),[Mh(t),...Rl(e)]):[Mh(t)]}function iS(s){return csString.prototype.split.call(s,/\s(.+)/)}function Mh(s){return csString.prototype.split.call(s,/,$/)[0]}function rS(s){return csString.prototype.split.call(s,/,(.+)/)[1]||""}var nS=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\)(?!\\))/g;function oS(s,r){return csString.prototype.replace.call(s,nS,(...e)=>{let i=e[3]||e[4],n=e[9]||e[10]||e[11],o=cS((i||n).trim()),c=i?"@import ":"",h=r(o)||o;return`${c}url(${aS(h)})`})}function aS(s){return csString.prototype.indexOf.call(s,'"')===-1?`"${s}"`:csString.prototype.indexOf.call(s,"'")===-1?`'${s}'`:s}function tn(s){let r=new Set;return oS(s,t=>{var e,i;return r.add((i=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&i!==void 0?i:t),t}),qs(r)}function cS(s){let r=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(s,r,(t,e,i,n)=>{if(e==="\\")return csString.prototype.slice.call(t,1);if(n)return n;let o=parseInt(i,16);return 55296<=o&&o<=57343||o===0||o>1114111?"\uFFFD":csString.fromCodePoint(o)})}var Dh=(()=>{class s{static async toStaticResourceEvent(t,e,i){let n=await s.k_(t);if(!n)return null;let o=await s.mp(n),c=ss(t)?void 0:t,h={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:o,data:n}};return c&&(h.originalResourceName=c),h}static async toCSSStaticResourceEvent(t,e,i,n){let o=await s.x_(t,n),c=Fs(t),h=o.get(c);if(!h)return null;let d={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:h.hash,data:h.data}};return o.delete(c),o.size&&(d.nestedResources=[],o.forEach(f=>{f&&csArray.prototype.push.call(d.nestedResources,{hash:f.hash,data:f.data})})),d}static async mp(t){let e=await t.arrayBuffer(),i=await crypto.subtle.digest(this.yp,e);return ac(i)}static async k_(t){let e;if(!ss(t))e=await(await window.fetch(t)).blob();else{let i=Gl(t);if(!i)return null;e=i}return e}static async x_(t,e){let i=new Map,n=Fs(t),c=[{resourceRawPath:t,resourceAbsolutePath:n}];for(;c.length>0;){let h=csArray.prototype.pop.call(c);if(!e&&h.resourceAbsolutePath!==null&&!ss(h.resourceAbsolutePath)){i.set(h.resourceAbsolutePath,null);continue}if(i.get(h.resourceAbsolutePath)===void 0)try{if(h.resourceRawPath===null||csString.prototype.indexOf.call(h.resourceRawPath,".css")>0){if(!h.data){let _=await fetch(h.resourceAbsolutePath);h.data=await _.text()}h.nestedResources||(h.nestedResources=tn(h.data));let g=!1,v=!1;for(let _ of h.nestedResources){let b=ss(_)?_:h.resourceAbsolutePath?Hu(_,h.resourceAbsolutePath):Fs(_),M=i.get(b);if(M!==void 0){if(M!==null){let N=s.L_(M,_);h.data=ae.stringReplaceAll(h.data,_,N)}continue}Sr(c,N=>N.resourceAbsolutePath===b)!==void 0||(g=!0,v||(csArray.prototype.push.call(c,h),v=!0),csArray.prototype.push.call(c,{resourceRawPath:_,resourceAbsolutePath:b}))}if(!g){let _=await s.V_(h.data);i.set(h.resourceAbsolutePath,{hash:_.hash,data:_.data})}}else{let g;if(!ss(h.resourceAbsolutePath))g=await(await fetch(h.resourceAbsolutePath)).blob();else{let _=Gl(h.resourceAbsolutePath);if(!_){i.set(h.resourceAbsolutePath,null);continue}g=_}let v=await s.mp(g);i.set(h.resourceAbsolutePath,{hash:v,data:g})}}catch{i.set(h.resourceAbsolutePath,null)}}return i}static L_(t,e){let i=`cs://resources/${t.hash}`;return ss(e)||(i+=`?${s.Sh}=${e}`),i}static async V_(t){let e=new Blob([t],{type:"text/css"}),i=await e.arrayBuffer(),n=await crypto.subtle.digest(s.yp,i);return{data:e,hash:ac(n)}}}return s.yp="SHA-256",s.Sh="original-resource-name",s})(),qd=(()=>{class s extends En{get busy(){return this._h>0}constructor(){super(),this.U_="cssrm://",this.j_=1,this.ps=!1,this._h=0}isListening(t){if(s.isSupported()){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return!0;if(!Li.isDOMEvent(t))return!1}else return!1;return t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged"}processEvent(t){if(t.type!=="DomEvent")return this.H_(t);switch(t.domEvent){case"initialDOM":case"nodesAdded":this.B_(t);break;case"attributeChanged":this.F_(t);break;case"characterDataChanged":this.$_(t);break}return t}disableOnlineAssets(){this.ps=!1}enableOnlineAssets(){this.ps=!0}isOnlineAssetsActivated(){return this.ps}H_(t){var e;let i=t.type==="DOM_PATCH"?t.diff:t.state;for(let n in i){let o=i[n],c=t.state[n],h=t.state[c.parent];switch(c.type){case Et.TEXT_NODE:this.Ep(o,h==null?void 0:h.localName);break;case Et.CSS_STYLESHEET_NODE:{if(o=o,o.cssRules)for(let d in o.cssRules){let f=o.cssRules[d],g=this.Tr(f);g!==null&&(o.cssRules[d]=g)}break}case Et.ELEMENT_NODE:{o=o;let d=o.attributes;if(!d)continue;if(d.style&&(d.style=this.Tr(d.style)),(this.vp(c.localName)||this.Sp(c.localName,h==null?void 0:h.localName))&&("src"in d&&(d.src=this.Ah(d.src)),"srcset"in d&&(d.srcset=this.Th(d.srcset))),this.ps&&c.localName==="link"&&(!((e=d.href)===null||e===void 0)&&e.length)&&d.rel==="stylesheet"){let f=this.Ui(Fs(d.href),!0);d["data-cs-original-href"]=d.href,d.href=f}}}}return t}B_(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)vt.traverse(i,(n,o)=>{if(n.nodeType===zs.TEXT_NODE&&o){this.Ep(n,o.localName);return}if(!rs.isElement(n))return;let c=rs.getAttribute(n,"style");if(c!=null&&c.value&&(c.value=this.Tr(c.value)),this.vp(n.localName)||this.Sp(n.localName,o==null?void 0:o.localName)){let h=rs.getAttribute(n,"src");h!=null&&h.value&&(h.value=this.Ah(h.value));let d=rs.getAttribute(n,"srcset");if(d){d.value=this.Th(d.value);return}}if(this.z_(n)&&this.ps){let h=Sr(n.attributes,f=>f.name==="href");if(!h||!h.value)return;let d=this.Ui(Fs(h.value),!0);csArray.prototype.push.call(n.attributes,{name:"data-cs-original-href",namespaceURI:"",value:h.value}),h.value=d}})}Ep(t,e){if(!t||e!=="style")return;let i=this.Tr(t.data);i!==null&&(t.data=i)}$_(t){if(t.parentLocalName!=="style"||!t.newValue)return;let e=this.Tr(t.newValue);e!==null&&(t.newValue=e)}F_(t){if(!t.newValue||t.newValue===t.oldValue)return;let e=t.attribute==="src",i=t.attribute==="srcset";if(t.attribute==="style"){t.newValue=this.Tr(t.newValue);return}if(!e&&!i)return;let o=t.localName==="img",c=t.localName==="source"&&t.parentLocalName&&t.parentLocalName==="picture";!o&&!c||(e&&(t.newValue=this.Ah(t.newValue)),i&&(t.newValue=this.Th(t.newValue)))}Ah(t){return ss(t)||this.ps?this.Ui(t,!1,K.now()):t}Th(t){if(!this.ps)return t;let e=t,i=Rl(t);for(let n of i){let o=this.Ui(Fs(n),!1);e=csString.prototype.replace.call(e,n,o)}return e}Tr(t){let e=tn(t),i=t,n=K.now();for(let o of e){let c=ss(o);if(!(c||this.ps)||this.G_(o))continue;let h=ho(o),d=o;c?d=this.Ui(o,!1,n):this.ps&&(h?d=this.Ui(o,!0,n):d=this.Ui(Fs(o),!1,n)),i=csString.prototype.replace.call(i,o,d)}return i}Ui(t,e,i=K.now()){let n=this.j_++;this._h++;let o=e?Dh.toCSSStaticResourceEvent:Dh.toStaticResourceEvent,c=new bl(async h=>{try{let d=await o(t,n,i,this.ps);h(d||{type:"warning",message:`Failed to process static resource: ${t}`})}catch(d){h({type:"warning",message:d})}finally{this._h--}});return this.emitEvent(c),this.U_+n}vp(t){return t==="img"}Sp(t,e){return t==="source"&&e==="picture"}z_(t){return t.localName==="link"&&csArray.prototype.some.call(t.attributes,e=>e.name==="rel"&&e.value==="stylesheet")}static isSupported(){return Mp()&&Dp()&&!!csArray.from}G_(t){return csString.prototype.replace.call(t,/['"]+/g,"").length===0}}return Ws([le("StaticResourceManagerProcessor.processEvent")],s.prototype,"processEvent",null),s})(),$r=console;var Di={debug:(...s)=>$r.debug(...s),log:(...s)=>$r.log(...s),info:(...s)=>$r.info(...s),warn:(...s)=>$r.warn(...s),error:(...s)=>$r.error(...s)},Rc=(()=>{class s{push(t){let e={value:t};this.br?(this.bh.next=e,this.bh=e):(this.br=e,this.bh=e)}pushMany(t){for(let e of t)this.push(e)}shift(){if(!this.br)return;let t=this.br;return this.br=t.next,this.br||(this.bh=void 0),t.value}isEmpty(){return!this.br}}return s})(),an=(()=>{let s;return function(r){r[r.High=0]="High",r[r.Low=1]="Low"}(s||(s={})),s})(),Cl=(()=>{class s{constructor(){this._p=new Rc,this.wp=new Rc,this.length=0}push(t,e=an.Low){return e===an.High?this._p.push(t):this.wp.push(t),this.length+=1}shift(){if(this.length!==0)return this.length-=1,this._p.shift()||this.wp.shift()}isEmpty(){return this.length===0}}return s})(),lS=(()=>{class s{get length(){return this.wt.length}constructor(){this.Vn=[],this.wt=new Cl,this.Rh=new Set}q_(t){switch(t.type){case"attributes":return`-${t.attributeNamespace}-${t.attributeName}`;default:return""}}W_(t){switch(t.type){case"pointerOverElement":case"customElementRegistration":return}return`${ct(t.target)}-${t.type}${this.q_(t)}`}Y_(t){switch(t.type){case"state":return an.High;default:return an.Low}}X_(t){let e=this.W_(t);if(e){if(this.Rh.has(e))return;this.Rh.add(e)}return this.wt.push({mutation:t,key:e},this.Y_(t))}K_(){this.Vn.length!==0&&(csArray.prototype.forEach.call(csArray.prototype.flat.call(this.Vn),t=>this.X_(t)),this.Vn=[])}push(t){csArray.prototype.push.call(this.Vn,t)}shift(){this.K_();let t=this.wt.shift();if(t)return t.key&&this.Rh.delete(t.key),t.mutation}isEmpty(){return this.wt.isEmpty()&&this.Vn.length===0}}return s})(),hS=(()=>{class s{constructor(t){this.ye=t,this.Ma=!1,this.Ns=new WeakSet,this.Da=e=>{let i=e.getRootNode();i&&this.Ns.has(i)&&this.ye(e)}}observe(t){this.Ns.has(t)||(this.Ns.add(t),this.Ma||(di.subscribe(this.Da),this.Ma=!0))}disconnect(){this.Ma&&(di.unsubscribe(this.Da),this.Ma=!1),this.Ns=new WeakSet}}return s})(),ja=new WeakMap,Ha=new WeakMap;function kh(s,r){if(!s||typeof s!="object"&&typeof s!="function")return s;if(ja.has(s))return ja.get(s);let t=r();return ja.set(s,t),t}function Cc(s,r){return s.prototype=r.prototype,Object.defineProperty(s,"toString",{value:()=>r.toString()}),s}function uS(s,r,t,e,i){Object.defineProperty(s,r,{set(n){var o;let c=(o=t.set)===null||o===void 0?void 0:o.apply(this,[n]);return e(this,[r],[n],c),c},get(){var n;let o=(n=t.get)===null||n===void 0?void 0:n.apply(this);return kh(o,()=>{let c=new Proxy(o,{get(h,d){let f=Reflect.get(h,d);return typeof f!="function"?f:kh(f,()=>i&2?Cc(function(...g){let v=Ha.get(this)||this,_=Reflect.apply(f,v,g);return e(v,[r,d],g,_),_},f):Cc(function(...g){let v=Ha.get(this)||this;return Reflect.apply(f,v,g)},f))},set:i&1?(h,d,f)=>{let g=Reflect.set(h,d,f);return e(h,[r,d],[f],g),g}:Reflect.set});return Ha.set(c,o),c})}})}function dS(s,r,t,e){let i={};t.get&&(i.get=t.get),t.set&&(i.set=function(n){let o=t.set.call(this,n);return e(this,[r],[n],o),o}),t.value&&(i.value=Cc(function(...n){let o=Reflect.apply(t.value,this,n);return e(this,[r],n,o),o},t.value),i.writable=t.writable!==!1),t.configurable!==void 0&&(i.configurable=t.configurable),t.enumerable!==void 0&&(i.enumerable=t.enumerable),Object.defineProperty(s,r,i)}function Gt(s,r,t,e={}){let i=s&&s.prototype?s.prototype:s;if(!i)return()=>{};let n=csSymbol.for(`fd_spy_${r}`);if(n in i){let d=i[n];return d.add(t),()=>d.delete(t)}let o=i[n]=new Set([t]),c=Object.getOwnPropertyDescriptor(i,r);if(!c)return Di.warn(`Could not find descriptor for ${r} on target`,i),()=>o.delete(t);let h=(...d)=>{for(let f of o)try{f(...d)}catch(g){Di.warn(`Error in spy hook for ${r} on target`,i,g)}};return e.mode?uS(i,r,c,h,e.mode):dS(i,r,c,h),()=>o.delete(t)}function Me(s,r,t){let e=i=>t(i.target);return s.addEventListener(r,e,{capture:!0,passive:!0}),()=>{s.removeEventListener(r,e,{capture:!0})}}var fS=(()=>{class s{constructor(t){this.ye=t,this.Pt=new WeakMap,this.Ee=e=>this.ye({type:"state",target:e}),this.Ap=e=>this.ye({type:"setAdoptedStyleSheets",target:e}),this.Rr=e=>this.ye({type:"styleSheetUpdated",target:e}),this.Un=e=>{var i;let n=(i=this.J_(e))===null||i===void 0?void 0:i.parentStyleSheet;n&&this.Rr(n)},this.Q_=e=>this.ye({type:"styleSheetDisabledChanged",target:e}),this.Tp=e=>this.ye({type:"activeElementChanged",target:e.ownerDocument}),this.Da=e=>this.ye({type:"metadataChanged",target:e})}Z_(t){return csNodenodeType.apply(t)===Et.DOCUMENT_NODE}tw(t){let e=[Me(t,"input",this.Ee),Me(t,"change",this.Ee),Me(t,"checked",this.Ee),Me(t,"scroll",this.Ee),Me(t,"toggle",this.Ee),Me(t,"focusin",this.Tp),Me(t,"focusout",this.Tp),Me(t,"pointerover",i=>{this.ye({type:"pointerOverElement",target:i.ownerDocument,element:i})}),Me(t,"pointerout",i=>{this.ye({type:"pointerOverElement",target:i.ownerDocument,element:null})}),Me(t,"load",i=>{switch(i.localName){case"iframe":case"link":this.ye({type:"loaded",target:i});break}})];this.ka(t,()=>{csArray.prototype.forEach.call(e,i=>i())})}ew(t){let e=t.defaultView;if(!e)return;let i=[Me(e,"resize",()=>this.Ee(t)),Me(t,"visibilitychange",()=>this.Ee(t)),Me(t,"fullscreenchange",()=>this.Ee(t)),Gt(e.Document,"adoptedStyleSheets",this.Ap,{mode:2}),Gt(e.ShadowRoot,"adoptedStyleSheets",this.Ap,{mode:2}),Gt(e.Element,"attachShadow",(n,o,c,h)=>{this.ye({type:"attachShadow",target:n,shadowRoot:h})}),Gt(e.HTMLInputElement,"value",this.Ee),Gt(e.HTMLInputElement,"checked",this.Ee),Gt(e.HTMLSelectElement,"selectedIndex",this.Ee),Gt(e.CSSStyleSheet,"insertRule",this.Rr),Gt(e.CSSStyleSheet,"deleteRule",this.Rr),Gt(e.CSSStyleSheet,"replace",this.Rr),Gt(e.CSSStyleSheet,"replaceSync",this.Rr),Gt(e.CSSStyleSheet,"addRule",this.Rr),Gt(e.CSSStyleRule,"style",this.Un,{mode:1}),Gt(e.CSSGroupingRule,"insertRule",this.Un),Gt(e.CSSGroupingRule,"deleteRule",this.Un),Gt(e.CSSStyleDeclaration,"setProperty",this.Un),Gt(e.CSSStyleDeclaration,"removeProperty",this.Un),Gt(e.StyleSheet,"disabled",this.Q_),Gt(e.HTMLDialogElement,"show",this.Ee),Gt(e.HTMLDialogElement,"showModal",this.Ee),Gt(e.HTMLDialogElement,"close",this.Ee),Gt(e.CustomElementRegistry,"define",(n,o,c)=>{this.ye({type:"customElementRegistration",target:t,name:c[0]})})];this.ka(t,()=>{csArray.prototype.forEach.call(i,n=>n())})}J_(t){for(;t.parentRule!==null;)t=t.parentRule;return t}iw(t){let e=new csMutationObserver(i=>{this.ye(i)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.ka(t,()=>{e.disconnect()})}rw(t){let e=new hS(this.Da);e.observe(t),this.ka(t,()=>{e.disconnect()})}ka(t,e){this.Pt.get(t)==null||csArray.prototype.push.call(this.Pt.get(t),e)}observe(t){this.Pt.has(t)||(this.Pt.set(t,[]),this.tw(t),this.Z_(t)&&this.ew(t),this.iw(t),this.rw(t))}disconnect(t){let e=this.Pt.get(t)||[];for(let i of e)try{i()}catch(n){Di.warn(n)}this.Pt.delete(t)}}return s})(),Wd=new Cl,Dt,pS=40,gS=10;function mS(s){return csSetTimeout(()=>{let r=0,t=0,e=performance.now(),i=!0;s({get hasTimeLeft(){return r%gS===0&&(t=performance.now(),i=t-e<pS),r++,i}})},0)}function xh(){var s;let r=(s=Dt==null?void 0:Dt.subTasks)===null||s===void 0?void 0:s.shift();return r?(r.subTasks=Dt==null?void 0:Dt.subTasks,r):Wd.shift()}function Yd(){mS(s=>{for(Dt||(Dt=xh());s.hasTimeLeft&&Dt;){Dt.isRunning=!0;try{Dt.isEnded=Dt.run(s)!==!0}catch(r){Di.error("Error occurred while running task:",r),Dt.isEnded=!0}Dt.isRunning=!1,(Dt.isEnded||Dt.isAborted)&&(Dt=xh())}Dt&&Yd()})}function zr(s,r=an.Low){let t={run:s,isAborted:!1,isEnded:!1,abort:()=>{t.isAborted=!0}};return Dt!=null&&Dt.isRunning?(Dt.subTasks=Dt.subTasks||new Cl,Dt.subTasks.push(t,r)):Wd.push(t,r)===1&&!Dt&&Yd(),t}var yS=40;function Lh(s){return csString.prototype.replace.call(s,/[:\\]/g,"\\$&")}function Ba(s){return csString.prototype.replace.call(s,/\\([:\\\\])/g,"$1")}var Fa=["nextSibling","firstChild","contentDocument","shadowRoot","sheetId"];function $a(s,r){return!!s&&r in s&&!!s[r]}var Vh={"http://www.w3.org/1999/xhtml":void 0,"http://www.w3.org/2000/svg":"svg"},Ic=(()=>{class s{constructor(t){this.R=t,this.G=new fS(e=>{this.Ch.push(e),this.nw()}),this.Ye={},this.Xe=new Map,this.Ch=new lS,this.Hn=new Map,this.processedMutationsCount=0,this.serializedNodeCount=0,this.bp=0,this.Rp=yS}disconnect(){for(let t of this.Hn.values())this.G.disconnect(t);this.Hn.clear()}observe(t){return this.disconnect(),this.xa(t),this}getState(t=!0){let e=this.Ye;return this.Ye={...e},t&&this.Cp(),e}getChanges(){let t={};for(let[i,n]of this.Xe){let o=this.Ye[i];if(!(n&&!o))if(o&&!n)t[i]=hi(o);else{let c=id(n,o);c!==void 0&&(t[i]=c)}}return this.Cp(),sd(t)?t:void 0}setFrameRate(t){return this.Rp=t/1e3,this}onChange(t){return this.R=t,()=>{this.R===t&&(this.R=void 0,this.Bn&&(csClearTimeout(this.Bn),this.Bn=void 0))}}async getStateAsync(t=!0){return await this.Ip(),this.getState(t)}async getChangesAsync(){return await this.Ip(),this.getChanges()}async Ip(){return new Promise(t=>{zr(()=>t())})}Cp(){this.Xe.clear()}static*findNodes(t,e){for(let i of Object.values(t))e(i)&&(yield i)}static stringifyAttrKey(t,e){let i=Lh(e);return t?`${Lh(t)}:${i}`:i}static parseAttrKey(t){let e=!1,i=-1;for(let c=0;c<t.length;c++){let h=t[c];if(e)e=!1;else if(h==="\\")e=!0;else if(h===":"){i=c;break}}if(i===-1)return{namespaceURI:null,name:Ba(t)};let n=csString.prototype.slice.call(t,0,i),o=csString.prototype.slice.call(t,i+1);return{namespaceURI:Ba(n),name:Ba(o)}}static apply(t,e,i){let n={...t},o=new Set,c=new Set,h=v=>{c.has(v)?c.delete(v):o.add(v)},d=v=>{o.has(v)?o.delete(v):c.add(v)};function f(v,_){for(let b of Fa)b in _&&($a(v,b)&&h(v[b]),$a(_,b)&&d(_[b]))}for(let[v,_]of Object.entries(e)){if(_===null)continue;let b=v,M=n[b],x=M===void 0?_:rd(M,_);f(M,_),n[b]=x}let g=v=>{if(c.has(v))return;let _=n[v];if(_){delete n[v],i==null||i(v);for(let{nodeId:b}of s.nodeRelationsEntries(_))g(b)}};for(let v of o)g(v);return n}static nodeRelationsEntries(t,e=!1){let i=e?Fa.filter(o=>o!=="nextSibling"):Fa,n=[];for(let o of i)$a(t,o)&&csArray.prototype.push.call(n,{key:o,nodeId:t[o]});return n}At(t){if(t in this.Ye&&!this.Xe.has(t)){let e=this.Ye[t];this.Xe.set(t,hi(e)),this.Ye[t]=hi(e)}return this.Ye[t]}ow(t){try{let e=t.cssRules.length,i={};for(let n=0;n<e;n++){let o=t.cssRules[n];i[n]=o.cssText}return{type:Et.CSS_STYLESHEET_NODE,cssRules:i,disabled:t.disabled}}catch{return{type:Et.CSS_STYLESHEET_NODE,cssRules:{}}}}aw(t){return csArray.prototype.pop.call(csArray.from(window.csquerySelectorAll[t.nodeType].call(t,":hover")))||void 0}lw(t){let e=di.getAll(t);switch(csNodenodeType.apply(t)){case Et.DOCUMENT_NODE:{let i=t,n=i.activeElement||void 0,o=this.aw(i),c={type:Et.DOCUMENT_NODE,baseURI:i.baseURI,activeId:n&&ct(n),hoveredId:o&&ct(o),...this.Pp(t),metadata:e};return i.compatMode==="BackCompat"&&(c.quirksMode=!0),c}case Et.DOCUMENT_FRAGMENT_NODE:return{type:Et.DOCUMENT_FRAGMENT_NODE,mode:t.mode,metadata:e};case Et.COMMENT_NODE:return{type:Et.COMMENT_NODE,data:void 0,metadata:e};case Et.ELEMENT_NODE:{let i=t,n=i.namespaceURI||"";return{type:Et.ELEMENT_NODE,namespaceURI:n in Vh?Vh[n]:n,localName:i.localName,attributes:this.hw(i),state:this.Op(i),metadata:e}}case Et.TEXT_NODE:return{type:Et.TEXT_NODE,data:t.data||"",metadata:e};case Et.CDATA_SECTION_NODE:return{type:Et.CDATA_SECTION_NODE,data:t.data,metadata:e};case Et.DOCUMENT_TYPE_NODE:return{type:Et.DOCUMENT_TYPE_NODE,name:t.name,publicId:t.publicId,systemId:t.systemId,metadata:e};default:return null}}hw(t){return csArray.prototype.reduce.call(csArray.from(t.attributes),(e,i)=>{let n=e||{};return n[s.stringifyAttrKey(i.namespaceURI,i.name)]=i.value,n},void 0)}Pp(t){let e=t.defaultView,i=e==null?void 0:e.visualViewport;return{state:{scrollX:e==null?void 0:e.scrollX,scrollY:e==null?void 0:e.scrollY,visibility:t.visibilityState},viewport:{width:i==null?void 0:i.width,height:i==null?void 0:i.height},screen:{width:e==null?void 0:e.screen.width,height:e==null?void 0:e.screen.height}}}Op(t){let e={};return"value"in t&&t.value&&(e.value=t.value),"selectedIndex"in t&&t.selectedIndex!==void 0&&t.selectedIndex>=0&&(e.selectedIndex=t.selectedIndex),"checked"in t&&t.checked&&(e.checked=t.checked),t.popover&&t.matches(":popover-open")?e.popover=!0:t.localName==="dialog"&&(e.open=t.open),t.scrollLeft&&(e.scrollX=t.scrollLeft),t.scrollTop&&(e.scrollY=t.scrollTop),e}nw(){var t;((t=this.uw)===null||t===void 0?void 0:t.isEnded)!==!1&&(this.uw=zr(e=>(this.Cr(e),this.Np(),!this.Ch.isEmpty())))}Np(){if(!this.R||this.Bn)return;let t=performance.now()-this.bp,e=Math.max(0,this.Rp-t);this.Bn=csSetTimeout(()=>{this.Bn=void 0;let i=this.getChanges();this.bp=performance.now(),i&&this.R(i,this.getState())},e)}fw(t){for(let e=t==null?void 0:t.previousSibling;e;e=e.previousSibling)if(this.gs(e))return ct(e)}pw(t){var e;let i=csNodeparentNode.apply(t)||t.host||((e=t.defaultView)===null||e===void 0?void 0:e.frameElement);if(this.gs(i))return ct(i)}xa(t){let e=new Rc;e.pushMany(this.Mp(t,!1)),!e.isEmpty()&&zr(i=>{let n;for(;i.hasTimeLeft&&(n=e.shift());){e.pushMany(this.Mp(n));let o=csNodenextSibling.apply(n);o&&e.push(o)}return!!n})}gw(t){switch(t){case Et.DOCUMENT_NODE:return"contentDocument";case Et.DOCUMENT_FRAGMENT_NODE:return"shadowRoot";default:return"childList"}}Ir(t){zr(()=>{let e=t.ownerNode;if(e&&(!this.wr(e)||!this.gs(e)))return!1;if(this.gs(t)||!e||e.localName==="style"?this.Dp(t):this.Ih(ct(t),{type:Et.CSS_STYLESHEET_NODE,cssRules:{},disabled:t.disabled}),e&&this.gs(e)){let i=ct(e);this.At(i).sheetId=ct(t)}return!1})}kp(t){let e=0,i=ct(t),n=t.adoptedStyleSheets||[],o=n.length,c={};zr(h=>{if(!this.gs(t)||!this.wr(t)||n!==t.adoptedStyleSheets)return!1;for(;h.hasTimeLeft&&e<o;){let f=n[e];c[e]=this.gs(f)?ct(f):this.Dp(f),e+=1}if(e<o)return!0;let d=this.At(i);return d&&(d.adoptedStyleSheets=c),!1})}Dp(t){let e=ct(t);return this.Ih(e,this.ow(t)),e}Ih(t,e){this.serializedNodeCount++,this.Ye[t]=e,this.Np(),this.Xe.has(t)||this.Xe.set(t,null)}gs(t){return ct(t)in this.Ye}xp(t){var e;if(!s.trackIframeContent||t.localName!=="iframe")return!1;let i=t;try{return!!i.contentDocument&&!!(!((e=i.contentWindow)===null||e===void 0)&&e.document)}catch{return!1}}Lp(t){let e=ct(t),i=this.Ye[e];if(!i){Di.warn(`No serialized node id ${e}`);return}let n=this.pw(t);if(!n){Di.warn("No parent id for node",t);return}let o=this.gw(i.type);if(o==="childList"){let c=this.fw(t);this.Ph(e,c,n,!0)}else{let c=this.At(n);c[o]=e,i.parent=n}}*Mp(t,e=!0){var i,n,o,c;if(!this.wr(t))return;if(this.gs(t)){e&&this.Lp(t);return}let h=ct(t),d=this.lw(t);if(!d){Di.warn("Node was not serialized",t);return}switch(this.Ih(h,d),e&&this.Lp(t),d.type){case Et.DOCUMENT_NODE:case Et.DOCUMENT_FRAGMENT_NODE:{let g=t;this.Hn.set(h,g),this.G.observe(g),!((i=g.adoptedStyleSheets)===null||i===void 0)&&i.length&&this.kp(g);break}case Et.TEXT_NODE:{((n=t.parentElement)===null||n===void 0?void 0:n.localName)==="style"&&(d.data="");break}case Et.ELEMENT_NODE:{let g=t;switch(d.localName){case"iframe":this.xp(g)&&(yield g.contentDocument);break;case"link":g.rel==="stylesheet"&&g.sheet&&this.Ir(g.sheet);break;case"style":{let v=g.sheet;v&&this.Ir(v);break}default:ey(d.localName)&&(!((c=(o=t.ownerDocument)===null||o===void 0?void 0:o.defaultView)===null||c===void 0)&&c.customElements.get(d.localName))&&this.Vp(ct(t.ownerDocument),d.localName),csElementshadowRoot.apply(g)&&(yield csElementshadowRoot.apply(g));break}break}}let f=csNodefirstChild.apply(t);f&&(yield f)}Vp(t,e){let i=this.At(t),n=i.customElements||(i.customElements={});n[e]=1}Oh(t){let e=this.At(t);if(e){switch(e.type){case Et.DOCUMENT_NODE:case Et.DOCUMENT_FRAGMENT_NODE:this.G.disconnect(this.Hn.get(t)),this.Hn.delete(t)}delete this.Ye[t];for(let{nodeId:i}of s.nodeRelationsEntries(e))this.Oh(i)}}Ph(t,e,i,n){let o;if(e){let c=this.At(e);o=c.nextSibling,c.nextSibling=t}else{let c=this.At(i);o=c.firstChild,c.firstChild=t}if(n&&t&&o!==t){let c=this.At(t);if(c.nextSibling=o,o){let h=this.At(o);h.previousSibling=t}}if(t){let c=this.At(t);c.parent=i,c.previousSibling=e}}mw(t){var e;let i=this.At(t),n=new Set;for(let o=i==null?void 0:i.firstChild;o;o=(e=this.At(o))===null||e===void 0?void 0:e.nextSibling)n.add(o);return n}wr(t){return"isConnected"in t?t.isConnected:!t.ownerNode||t.ownerNode.isConnected}yw(t){let e=this.At(t);e&&(e.parent=void 0,e.nextSibling=void 0,e.previousSibling=void 0)}Cr(t){var e,i;let n;for(;t.hasTimeLeft&&(n=this.Ch.shift());){if(this.processedMutationsCount++,!this.gs(n.target)||!this.wr(n.target))continue;let o=ct(n.target);switch(n.type){case"attachShadow":{this.xa(n.shadowRoot),this.At(o).shadowRoot=ct(n.shadowRoot);break}case"childList":{let c,h=this.mw(o);for(let f=csNodefirstChild.apply(n.target);f;f=csNodenextSibling.apply(f)){this.gs(f)||this.xa(f);let g=ct(f);h.delete(g),this.Ph(g,c,o),c=g}this.Ph(void 0,c,o);for(let f of h)this.yw(f),this.Oh(f);let d=this.At(o);if(d.type===Et.ELEMENT_NODE&&d.localName==="style"){let f=n.target.sheet;f&&this.Ir(f)}break}case"characterData":{let c=this.At(o);if(c.type===Et.TEXT_NODE&&(c.data=n.target.data,((e=n.target.parentElement)===null||e===void 0?void 0:e.localName)==="style")){c.data="";let h=(i=n.target.parentElement)===null||i===void 0?void 0:i.sheet;h&&this.Ir(h)}break}case"attributes":{let c=s.stringifyAttrKey(n.attributeNamespace,n.attributeName),h=n.target,d=this.At(o),f=h.getAttributeNS(n.attributeNamespace,n.attributeName);d.attributes=d.attributes||{},f===null?delete d.attributes[c]:d.attributes[c]=f;break}case"state":{let c=this.At(o);c.type===Et.DOCUMENT_NODE?Object.assign(c,this.Pp(n.target)):c.state=this.Op(n.target);break}case"setAdoptedStyleSheets":{this.kp(n.target);break}case"styleSheetUpdated":{this.Ir(n.target);break}case"styleSheetDisabledChanged":{let c=this.At(o);c.disabled=n.target.disabled;break}case"loaded":{switch(n.target.localName){case"link":{let c=n.target;c.rel==="stylesheet"&&c.sheet&&this.Ir(c.sheet);break}case"iframe":{let c=n.target,h=this.At(o),d=c.contentDocument,f=d&&ct(d);h.contentDocument&&h.contentDocument!==f&&(this.Oh(h.contentDocument),delete h.contentDocument),this.xp(c)&&this.xa(d);break}}break}case"activeElementChanged":{let c=this.At(o),h=n.target.activeElement||void 0;c.activeId=h&&ct(h);break}case"pointerOverElement":{let c=this.At(o),h=n.element||void 0;c.hoveredId=h&&ct(h);break}case"customElementRegistration":{this.Vp(o,n.name);break}case"metadataChanged":{let c=this.At(o);c&&(c.metadata=hi(di.getAll(n.target)));break}}}}}return s.trackIframeContent=!1,s.cloneDeep=hi,s})(),Xd=(()=>{class s extends En{constructor(t){super(),this.et=t}isListening(t){return t.type==="DOM_INITIAL_STATE"||Li.isDOMEvent(t)&&t.domEvent==="initialDOM"}processEvent(t){if(Li.isDOMEvent(t))t.initialDOM.baseURI=this.et.anonymizeUrl(t.initialDOM.baseURI);else for(let e of Ic.findNodes(t.state,i=>i.type===Et.DOCUMENT_NODE))e&&e.type===Et.DOCUMENT_NODE&&(e.baseURI=this.et.anonymizeUrl(e.baseURI));return t}}return Ws([le("UrlAnonymizationProcessor.processEvent")],s.prototype,"processEvent",null),s})(),ES="textarea",Kd=(()=>{class s extends En{isListening(t){return t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE"||Li.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="characterDataChanged")}processEvent(t){if(t.type==="DOM_PATCH"||t.type==="DOM_INITIAL_STATE")return this.Ew(t),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.vw(t);break;case"characterDataChanged":this.Sw(t);break}return t}Ew(t){let e=t.type==="DOM_PATCH"?t.diff:t.state,i=t.state;for(let n in e){let o=e[n],c=i[n];if(!c.parent||!("data"in o)||c.type!==3)continue;let h=i[c.parent];this.Up(o,c.metadata,h.localName)}}vw(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)vt.traverse(i,(n,o)=>{var c;let h=(c=o==null?void 0:o.localName)!==null&&c!==void 0?c:t.targetLocalName,d=n.props;n.nodeType===3&&this.Up(n,d,h)})}Up(t,e,i){this.jp(i,e)&&(t.data=this.Hp(t.data))}Sw(t){this.jp(t.parentLocalName,t.targetProps)&&(t.newValue=this.Hp(t.newValue))}Hp(t){return csString.prototype.replace.call(t,/\S/g,"\u2022")}jp(t,e){return t===ES||(e==null?void 0:e[Hs.EDITABLE_NODE_PROP])===!0}}return Ws([le("AnonymizedEditableTextProcessor.processEvent")],s.prototype,"processEvent",null),s})(),Jd=(()=>{class s extends Es{async onStart(){this.Pr&&this.Pr.disconnect(),this.Pr=new Ic().observe(document);let t=await this.Pr.getStateAsync();this.produceEvent({type:"DOM_INITIAL_STATE",state:Ic.cloneDeep(t)}),this.Fn=this.Pr.onChange((e,i)=>{this.produceEvent({type:"DOM_PATCH",diff:e,state:i})})}onStop(){var t;(t=this.Fn)===null||t===void 0||t.call(this)}destroy(){var t;(t=this.Pr)===null||t===void 0||t.disconnect(),this.Pr=void 0}}return s})(),Qd=!0,eo=csSymbol("safe"),Uh=csSymbol("task");function Ut(s,r=Qd){var t;(t=s[eo])!==null&&t!==void 0||(s[eo]=function(e){let i=arguments;Ui(()=>(e[Uh]=Te,s.listener.apply(s.boundElement,i)),[gs.EventListener,s.type],e[Uh])}),s.boundElement.addEventListener(s.type,s[eo],r)}function jt(s,r=Qd){s.boundElement.removeEventListener(s.type,s[eo],r)}var vS=(()=>{class s{constructor(t){this.R=t,this.te={boundElement:window,type:"resize",listener:()=>this.resizeListener()},this.R=t}observe(){Ut(this.te),this.Nh()}Nh(){this.resizeListener()}disconnect(){jt(this.te)}resizeListener(){let t={width:te.windowWidth(),height:te.windowHeight()};this.R(t)}}return St([G("resize")],s.prototype,"resizeListener",null),s})(),ai=(()=>{let s;return function(r){r.PORTRAIT="Portrait",r.LANDSCAPE="Landscape"}(s||(s={})),s})(),Gn=(()=>{let s;return function(r){r.PORTRAIT_PRIMARY="portrait-primary",r.PORTRAIT_SECONDARY="portrait-secondary",r.LANDSCAPE_PRIMARY="landscape-primary",r.LANDSCAPE_SECONDARY="landscape-secondary"}(s||(s={})),s})(),qn=(()=>{let s;return function(r){r[r.PORTRAIT=0]="PORTRAIT",r[r.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",r[r.LANDSCAPE=-90]="LANDSCAPE",r[r.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(s||(s={})),s})(),SS=(()=>{let s;return function(r){let t=null;r.isScreenOrientationApiSupported=()=>{var c;return t!=null?t:t=!!(!((c=wt.screen)===null||c===void 0)&&c.orientation)},r.isDeprecatedScreenOrientationApiSupported=()=>"orientation"in wt;function e(){return ai.LANDSCAPE}function i(){var c;switch((c=wt.screen.orientation)===null||c===void 0?void 0:c.type){case Gn.PORTRAIT_PRIMARY:case Gn.PORTRAIT_SECONDARY:return ai.PORTRAIT;case Gn.LANDSCAPE_PRIMARY:case Gn.LANDSCAPE_SECONDARY:return ai.LANDSCAPE;default:return ai.PORTRAIT}}function n(){switch(window.orientation){case qn.PORTRAIT:case qn.PORTRAIT_REVERSE:return ai.PORTRAIT;case qn.LANDSCAPE:case qn.LANDSCAPE_REVERSE:return ai.LANDSCAPE;default:return ai.PORTRAIT}}function o(){return r.isScreenOrientationApiSupported()?i():r.isDeprecatedScreenOrientationApiSupported()?n():e()}r.getCurrentOrientation=o}(s||(s={})),s})(),_S=(()=>{class s extends Es{constructor(){super(...arguments),this.Mh=null,this.Dh=null,this.ci=new vS(t=>{this.produceEvent({...t,type:"viewportResize"}),this.onScreenPotentiallyChanged()})}onScreenPotentiallyChanged(){let t=SS.getCurrentOrientation(),{screenWidth:e,screenHeight:i}=this._w(t);if(e!==this.Mh||i!==this.Dh){this.Mh=e,this.Dh=i;let n={type:"screenResize",width:e,height:i};this.produceEvent(n)}}_w(t){let e,i,n=te.screenWidth(),o=te.screenHeight();return t===ai.PORTRAIT?(e=n,i=o):(e=Math.max(n,o),i=Math.min(n,o)),{screenWidth:e,screenHeight:i}}onStart(){this.ci.observe()}onStop(){this.Mh=null,this.Dh=null,this.ci.disconnect()}}return s})();function wS(s){let r=csEventtarget.apply(s);return r&&Lt(r)&&csElementshadowRoot.apply(r)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:r}var os=(()=>{class s{get selectors(){return this.Ke===""?null:this.Ke}constructor(t,e={closest:!1}){this.R=t,this.Ot=e,this.Ke="",this.$n=new ko,this.Cr=Hi(i=>{if(this.Ke==="")return;let n=[];for(let o of el(i,c=>c.addedNodes)){if(!(ug(o)||this.Ot.closest&&oo(o)))continue;let c=this.Ot.closest?this.Aw(o,this.Ke):this.findMatchingElements(o,this.Ke);Kl(c,n)}n.length&&this.R(n,"added")},"SelectorObserver.processMutations"),this.Tw=(i,n)=>{if(this.Ke===""||n!=="added")return;let o=this.findMatchingElements(i,this.Ke);o.length&&this.R(o,"added")},this.G=new as(this.Cr,this.Tw)}observe(t){this.Ke===""?this.G.observe():this.Ke+=",",this.Ke+=t;let e=this.findMatchingElements(document,t);for(let i of this.G.shadowRoots){let n=this.findMatchingElements(i,t);Kl(n,e)}e.length&&(dt(e,i=>{this.$n.add(i)}),this.R(e,"initial"))}processPendingMutations(){this.Cr(this.G.takeRecords())}disconnect(){this.G.disconnect(),this.$n.clear(),this.Ke=""}Aw(t,e){let i=[];if(oo(t)){if(t.parentElement){let n=gr(t.parentElement,e);n&&csArray.prototype.push.call(i,n)}return csArray.prototype.filter.call(i,n=>this.$n.has(n)===!1)}else{if(pi(t)){let n=gr(t,e);if(n)return csArray.prototype.push.call(i,n),csArray.prototype.filter.call(i,o=>this.$n.has(o)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let i=sn(window.csquerySelectorAll[t.nodeType].call(t,e));return Lt(t)&&Ie.call(t,e)&&csArray.prototype.push.call(i,t),csArray.prototype.filter.call(i,n=>this.$n.has(n)===!1)}}return St([G()],s.prototype,"observe",null),St([G()],s.prototype,"disconnect",null),St([le("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})(),AS=(()=>{class s extends Es{constructor(){super(),this.Bp=t=>{let e=wS(t);e&&this.kh(e,t.type)},this.ge=new zi((t,e)=>{switch(e){case"initial":case"added":this.Fp(t);break;case"removed":this.$p(t);break}}),this.W=new os((t,e)=>{(e==="initial"||e==="added")&&this.bw(t)})}static shouldProcessElement(t){return t.tagName==="VIDEO"&&Rt.isConnected(t)&&!$.isMaskedElement(t)&&!$.isMaskedElementChild(t)}static isPlaying(t){return!t.paused&&!t.ended}onStart(){this.Fp(document),this.ge.observe(),this.W.observe("video")}onStop(){this.$p(document),this.ge.disconnect(),this.W.disconnect()}kh(t,...e){if(this.isStarted&&s.shouldProcessElement(t))for(let i of e){let n=ct(t),o={type:"VideoEvent",videoEventType:i,nodeId:n};i==="seeked"&&(o.newTimePositionInSec=t.currentTime),tl(()=>this.produceEvent(o))}}bw(t){for(let e of t)this.kh(e,"seeked"),s.isPlaying(e)&&this.kh(e,"play")}Fp(t){for(let e of["play","pause","seeked"])Ut({type:e,listener:this.Bp,boundElement:t})}$p(t){for(let e of["play","pause","seeked"])jt({type:e,listener:this.Bp,boundElement:t})}}return s})();function TS(s){return s.nodeName==="SELECT"}function Il(s){return s.nodeName==="INPUT"}function bS(s){return s.nodeName==="TEXTAREA"||Il(s)&&!Zd(s)&&!tf(s)}function Zd(s){return Il(s)&&s.type==="number"}function tf(s){return Il(s)&&(s.type==="checkbox"||s.type==="radio")}var ef=(()=>{class s extends Es{constructor(t,e=[]){super(),this.ut=t,this.Rw=e,this.xh=new wv("low"),this.Or=i=>this.inputHandler(i),this.li=[],this.Lh=new Map,this.Cw(),this.Iw(),this.W=new os(i=>{for(let n of i){if(n instanceof HTMLInputElement)for(let o of this.Rw)this.Pw(n,o);this.Vh(n)&&be(()=>{this.Uh(n,ct(n))},"low")}}),this.ge=new zi((i,n)=>{switch(n){case"initial":case"added":Ut({type:"change",listener:this.Or,boundElement:i});break;case"removed":jt({type:"change",boundElement:i,listener:this.Or});break}})}Pw(t,e){let i=this.Lh.get(e);if(!i)i=new WeakSet,this.Lh.set(e,i);else if(i.has(t))return;i.add(t);let n=Sv(t,e,(o,c,h)=>{h!==c&&Rt.isConnected(o)&&this.zp(o)});n&&(this.isStarted&&n.activate(),csArray.prototype.push.call(this.li,n))}onStart(){Ut({type:"keyup",boundElement:document,listener:this.Or}),Ut({type:"change",boundElement:document,listener:this.Or}),dt(this.li,t=>t.activate()),this.W.observe(csArray.prototype.join.call(s.Ow,",")),this.ge.observe()}onStop(){jt({type:"keyup",boundElement:document,listener:this.Or}),jt({type:"change",boundElement:document,listener:this.Or}),dt(this.li,t=>t.deactivate()),this.W.disconnect(),this.ge.disconnect(),this.xh.clear(),this.Lh.clear()}Uh(t,e){var i,n,o;if(this.xh.has(t))return;if(this.xh.add(t),TS(t)){let d={type:"InputEvent",inputType:"select",target:ct(t),selectedIndex:t.selectedIndex,timestamp:K.now()};this.produceEvent(d);return}if(tf(t)){let d={type:"InputEvent",inputType:"checkable",target:ct(t),checked:t.checked,timestamp:K.now()};this.produceEvent(d);return}let c=bS(t),h=Zd(t);if(c||h){let d=(i=t.value)!==null&&i!==void 0?i:"";if(!((n=this.ut)===null||n===void 0)&&n.shouldEncrypt(t)){(o=this.ut)===null||o===void 0||o.registerInputNodeToEncrypt({targetId:e,targetValue:d,date:K.now()});return}let f=h?"0":"\u2022",g={type:"InputEvent",inputType:"text",target:ct(t),value:csString.prototype.replace.call(d,/\S/g,f),timestamp:K.now()};this.produceEvent(g)}}inputHandler(t){if(!this.isStarted)return;let e=oe(t),i=ct(e);!i||!this.Vh(e)||Rt.isConnected(e)&&be(()=>{this.Uh(e,i)},"low")}Cw(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")}Iw(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)}trackChanges(t,e,i=!1){let n=on(t.prototype,e,(o,c,h)=>{if(h!==c&&Rt.isConnected(o)){let d=i?o.parentElement:o;this.zp(d)}});n&&csArray.prototype.push.call(this.li,n)}Vh(t){return!$.isMaskedElement(t)&&!$.isMaskedElementChild(t)&&(To(t)||nl(t)||rl(t))}zp(t){if(this.isStarted&&Rt.isConnected(t)){let e=ct(t);e&&this.Vh(t)&&be(()=>{this.Uh(t,e)},"low")}}}return s.Ow=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],Ws([xt()],s.prototype,"inputHandler",null),Ws([G()],s.prototype,"trackChanges",null),s})();var RS=(()=>{class s{constructor(t=Number.POSITIVE_INFINITY){this.hi=[],this.ht=[],this.Nw=t}next(t){this.ht.length===this.Nw&&csArray.prototype.shift.call(this.ht),csArray.prototype.push.call(this.ht,t),this.ht.length===1&&csSetTimeout(()=>this.clear());for(let e of this.hi)e(t)}subscribe(t){if(Sr(this.hi,i=>t===i))return()=>{this.hi=csArray.prototype.filter.call(this.hi,i=>i!==t)};csArray.prototype.push.call(this.hi,t);for(let i of this.ht)t(i);return()=>{this.hi=csArray.prototype.filter.call(this.hi,i=>i!==t)}}clear(){this.ht=[]}hasObservers(){return this.hi.length>0}}return s})(),sf=(()=>{var s;class r{constructor(e){this.R=e}observe(){this.Mw=s.zn.subscribe(e=>this.R(e)),s.La||(s.La=!0,s.Ln.observe(),Re(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{s.Ms.add(i),s.zn.next(i)}))}disconnect(){s.La&&(this.Mw(),s.zn.hasObservers()||(s.La=!1,s.Ln.disconnect(),s.zn.clear(),s.Ms.clear()))}}return s=r,r.Ms=new ko,r.zn=new RS,r.Dw=Hi(t=>{be(()=>{for(let e of t)e.type==="childList"&&dt(e.addedNodes,i=>{Re(i,NodeFilter.SHOW_ELEMENT).visitAll(o=>{s.Ms.has(o)||(s.Ms.add(o),s.zn.next(o))})})})},"ElementObserver.findAllElements"),r.La=!1,r.Ln=new as(s.Dw),St([G()],r.prototype,"observe",null),St([G()],r.prototype,"disconnect",null),r})(),rf=(()=>{class s extends Es{constructor(){super(),this.Ds=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",this.kw=gi("CustomElementRegistrationProducer:onElementsFound",e=>{for(let i of e)$.isMaskedElement(i)||$.isMaskedElementChild(i)||fg(i)&&this.register(csString.prototype.toLowerCase.call(i.tagName))});let t=xo(this.kw);this.Gn=new sf(e=>t.push(e)),this.ai=new Set}onStart(){this.Ds&&this.Gn.observe()}onStop(){this.ai.clear(),this.Gn.disconnect()}async register(t){this.ai.has(t)||(this.ai.add(t),await window.customElements.whenDefined(t),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}))}}return Ws([G()],s.prototype,"register",null),s})(),jh=(()=>{class s{static isNavigationTimingObserverSupported(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0}static getTimeOrigin(){return window.performance.timeOrigin}static Gp(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(t=>s.xw(t))}static xw(t){let i=t.getEntriesByType("navigation")[0];i&&(this.ji=i,s.Nr(i))}static On(t){this.Lw(t),this.ji&&t(this.ji),this.He||this.Vw()}static Lw(t){this.Lt.add(t)}static Uw(t){this.Lt.delete(t)}static Vw(){if(this.qn||(this.qn=this.Gp()),!this.qn){this.ji||(this.ji={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.Nr(this.ji);return}this.qn.observe({type:"navigation",buffered:!0}),this.He=!0}static Nr(t){this.Lt.forEach(e=>e(t))}static Mn(t){this.Uw(t),this.Lt.size===0&&this.Wn()}static Wn(){var t;this.He&&((t=this.qn)===null||t===void 0||t.disconnect(),this.He=!1,this.ji=null,this.qn=this.Gp())}constructor(t){this.R=t}observe(){s.On(this.R)}disconnect(){s.Mn(this.R)}}return s.He=!1,s.Lt=new Set,s.ji=null,s})(),nf=(()=>{class s extends Es{constructor(){super(...arguments),this.Va=null,this.qp=new jh(t=>{if(this.Va)return;let e=this.jw(t);e&&(this.Va=e,this.produceEvent(e))})}onStart(){if(this.Va){this.produceEvent(this.Va);return}this.qp.observe()}onStop(){this.qp.disconnect()}jw(t){let e=jh.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:e,requestStart:Math.floor(e+t.requestStart),domInteractive:Math.floor(e+t.domInteractive)},timestamp:K.now()}}}return s})(),Zt=(()=>{let s;return function(r){r[r.TAP=0]="TAP",r[r.LONG_PRESS=1]="LONG_PRESS",r[r.DRAG=2]="DRAG",r[r.FLICK=3]="FLICK",r[r.PINCH_IN=4]="PINCH_IN",r[r.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Wn=(()=>{let s;return function(r){r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r[r.LEFT=3]="LEFT",r[r.RIGHT=4]="RIGHT"}(s||(s={})),s})(),CS=(()=>{class s{compute(t,e){let i=this.fi(e.x)-this.fi(t.x),n=this.fi(e.y)-this.fi(t.y),o=e.time-t.time;return{duration:o,distance:this.Wp(i,n),direction:this.Hw(i,n),velocity:this.Bw(i,n,o)}}computePinchMetrics(t,e){let i=this.fi(e.x)-this.fi(t.x),n=this.fi(e.y)-this.fi(t.y);return{duration:e.time-t.time,distance:this.Wp(i,n)}}getScale(t,e){return Math.abs(e/t-1)}fi(t){return t/window.devicePixelRatio}Wp(t,e){return Math.round(Math.sqrt(t*t+e*e))}Bw(t,e,i){let n=i/1e3,o=t/n,c=e/n;return Math.round(Math.abs(o)+Math.abs(c))}Hw(t,e){return Math.abs(t)>Math.abs(e)?t>0?Wn.RIGHT:Wn.LEFT:e>0?Wn.DOWN:Wn.UP}}return s})(),of=typeof performance!="undefined"&&!!performance.now,Hh=of?()=>performance.now():()=>csDate.now(),IS=(()=>{var s;return of?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),Yn={now(){return Math.round(Hh()+IS)},elapsed(){return Hh()}};function Bh(s,r=0){let t=Math.pow(10,r);return Math.round(s*t)/t}var PS=1e3,OS=100,NS=.1,Pc=(()=>{class s{constructor(){this.ee={},this.jh=()=>{},this.Ua=new CS,this.Oe()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.jh=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.Fw(t))return;this.$w(t)&&this.Oe();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Yn.now()};if(t.touches.length===1)this.ee.startPinchTime=e.time,this.ee.firstTouch=e;else if(t.touches.length===2&&(this.ee.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Yn.now()},this.ee.firstTouch&&this.ee.secondTouch)){let i=this.Ua.computePinchMetrics(this.ee.firstTouch,this.ee.secondTouch);this.Mr=i.distance}csArray.prototype.push.call(this.Yn,e),this.ja=oe(t)}processActionMove(){this.Hh=!0}processActionUp(t){if(this.zw(t)){if(csArray.prototype.push.call(this.Yn,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Yn.now()}),this.Gw(t)&&this.ee.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.ee.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Yn.now()};this.ee.firstTouch&&(this.ee.firstTouch=e,this.ee.secondTouch=i),this.qw(t)}this.Mr||this.Ww()&&this.Yw(t)}}Oe(){this.Yn=[],this.ja=null,this.Hh=!1,this.Mr=null,this.Xn=!0}Yw(t){let e=this.Ua.compute(this.Yn[0],this.Yn[1]);this.Xn=t.isTrusted;let i=this.Hh?this.Xw(e):this.Kw(e);if(this.Jw(i.type,t.changedTouches)){let n=t.changedTouches[0];i.pageX=Bh(n.pageX,1),i.pageY=Bh(n.pageY,1)}this.jh(i,t)}qw(t){if(!(this.ee.firstTouch&&this.ee.secondTouch))return;let e=this.Ua.computePinchMetrics(this.ee.firstTouch,this.ee.secondTouch);this.Xn=t.isTrusted;let i=this.Qw(e);i&&this.jh(i,t)}Qw(t){return!this.Mr||this.Ua.getScale(this.Mr,t.distance)<NS?void 0:{type:this.Mr>t.distance?Zt.PINCH_IN:Zt.PINCH_OUT,target:this.ja,distance:t.distance,isTrusted:this.Xn}}Xw(t){return{type:t.velocity<OS?Zt.DRAG:Zt.FLICK,target:this.ja,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Xn}}Kw(t){return{type:t.duration<PS?Zt.TAP:Zt.LONG_PRESS,target:this.ja,isTrusted:this.Xn}}Jw(t,e){return t===Zt.TAP&&e&&e.length===1}$w(t){return t.touches.length===1}Ww(){return this.Yn.length===2}Fw(t){return t.touches.length>0}zw(t){return t.changedTouches.length>0}Gw(t){return this.Hh&&!!this.Mr&&t.changedTouches.length===1&&t.touches.length===1}}return s})(),MS="touchstart",DS="touchmove",kS="touchend",af=(()=>{class s{constructor(t){this.R=t}observe(){s.Yp&&s.Bh(this.R)}disconnect(){s.Yp&&s.Fn(this.R)}static Zw(t,e){csArray.prototype.forEach.call(qs(s.Lt),i=>i(t,e))}static Bh(t){s.Lt.has(t)||(s.Lt.add(t),s.Lt.size===1&&(s.Kn.onGesture(s.Zw),csArray.prototype.forEach.call(s.pi,e=>Ut(e))))}static Fn(t){s.Lt.delete(t),s.Lt.size===0&&csArray.prototype.forEach.call(s.pi,e=>jt(e))}static Fh(t){if(s.Kn.isValidTouchEvent(t))switch(t.type){case"touchstart":s.Kn.processActionDown(t);break;case"touchmove":s.Kn.processActionMove();break;case"touchend":s.Kn.processActionUp(t);break}}}return s.pi=[{boundElement:wt.document,type:MS,listener:r=>s.Fh(r)},{boundElement:wt.document,type:DS,listener:r=>s.Fh(r)},{boundElement:wt.document,type:kS,listener:r=>s.Fh(r)}],s.Yp=Pc.isGestureDetectionSupported(),s.Lt=new Set,s.Kn=new Pc,s})(),cf=(()=>{class s extends Es{constructor(){super(),this.Jn=new af(this.$h.bind(this))}onStart(){this.Jn.observe()}onStop(){this.Jn.disconnect()}$h(t){let e=this.tA(t);e&&this.produceEvent(e)}tA(t){return this.eA(t)?{type:"Gesture",targetId:ct(t.target),data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null}eA(t){return t.target!==null&&!(Lt(t.target)&&$.isMaskedElementChild(t.target))}}return s})();var lr=[],Oc=!1,lf=Hi(LS,"executeTasks");function xS(s){if(csArray.prototype.push.call(lr,s),!Oc){for(let r=0;r<3;r++)csSetTimeout(lf);Oc=!0}}function LS(){let s=csDate.now();for(let r=0;r<lr.length;r++)if(lr[r](),csDate.now()-s>=35){lr=csArray.prototype.slice.call(lr,r+1),csSetTimeout(lf);return}lr=[],Oc=!1}var ri=(()=>{let s;return function(r){r[r.Started=0]="Started",r[r.Stopped=1]="Stopped",r[r.Processing=2]="Processing",r[r.Completed=3]="Completed"}(s||(s={})),s})(),hf=(()=>{class s{constructor(){this.wt=new hn,this.xt=ri.Stopped,this.R=null,this.Jp=t=>{this.xt===ri.Stopped||!t||(this.R(t),this.Qp())}}get queueLength(){return this.wt.length}start(t){if(this.R)throw new Error("callback already set");this.xt=ri.Started,this.R=t}push(t){this.wt.push(t),this.cA()}stop(){this.R=null,this.xt=ri.Stopped,this.wt.clear()}static pipe(t,e){let i=t,n=new csArray;for(let c of e){let h=new s;h.start(d=>{c.pushEvent(d)}),csArray.prototype.push.call(n,h),dt(i,d=>d.subscribe(f=>h.push(f))),i=[c]}let o=new VS(n);return dt(i,c=>c.subscribe(h=>o.push(h))),o}Zp(){return this.xt===ri.Stopped}ms(){return this.xt===ri.Processing}Qp(){if(!this.Zp()){if(this.wt.isEmpty){this.xt=ri.Completed;return}this.xt=ri.Processing,xS(()=>{let t=this.wt.pop();t instanceof bl?t.complete(this.Jp):this.Jp(t)})}}cA(){this.Zp()||this.ms()||this.Qp()}}return s})(),VS=(()=>{class s extends hf{constructor(t){super(),this.tg=t}get queueLength(){return csArray.prototype.reduce.call(this.tg,(t,e)=>t+e.queueLength,0)}stop(){super.stop(),dt(this.tg,t=>t.stop())}}return s})(),uf=(()=>{class s{constructor(t,e=[]){this.producers=t,this.processors=e,this.X=!1,this.Lt=[]}get pendingEvents(){var t,e;return(e=(t=this.wt)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0}start(){if(this.X)throw new Error("Recording is already started.");let t=this.Lt;this.wt=hf.pipe(this.producers,this.processors),this.wt.start(e=>csArray.prototype.forEach.call(t,i=>i(e))),dt(this.producers,e=>e.start()),dt(this.processors,e=>e.start()),this.X=!0}stop(){this.wt.stop(),this.Lt.length=0;for(let t of this.producers)t.stop();for(let t of this.processors)t.stop();this.X=!1,this.Lt=[]}subscribe(t){if(this.X)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Lt,t),()=>this.Lt=csArray.prototype.filter.call(this.Lt,e=>e!==t)}}return s})(),US=2,Pl=(()=>{class s{constructor(t){this.lA=t,this.Ha=0}addString(t){this.Ha+=t.length*US}addArrayBuffer(t){this.Ha+=t.byteLength}isThresholdReached(){return this.Ha>this.lA}reset(){this.Ha=0}}return s})(),jS=(()=>{class s{constructor(t){this.Ba={},this.Ne=new Pl(t)}save({key:t,metadata:e,events:i}){this.Ne.isThresholdReached()||(this.Ne.addString(t),typeof i=="string"?this.Ne.addString(i):this.Ne.addArrayBuffer(i),!this.Ne.isThresholdReached()&&(this.Ba[t]={metadata:e,events:i}))}recover(t){let e=[];csArray.prototype.forEach.call(this.hA(),i=>{let n=this.Ba[i];n!==void 0&&(delete n.metadata.datatype,csArray.prototype.push.call(e,n),this.uA(i))}),e.length!==0&&(t(e),this.Ne.reset())}hA(){return Object.keys(this.Ba)}uA(t){delete this.Ba[t]}}return s})(),ni=(()=>{let s;return function(r){r[r.NOT_STARTED=0]="NOT_STARTED",r[r.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",r[r.OPEN_FAILED=2]="OPEN_FAILED",r[r.READY=3]="READY"}(s||(s={})),s})(),HS=(()=>{class s{constructor(t,e,i){this.Dr=t,this.dA=i,this.Hi=ni.NOT_STARTED,this.Fa=[],this.Xh=0,this.fA=self.origin,this.Me=typeof window=="object"?"":"worker-",this.Ne=new Pl(e),this.fh()}async fh(){await this.eg(),this.Hi===ni.READY?this.pA():this.dA(this.Fa)}pA(){csArray.prototype.forEach.call(this.Fa,t=>{this.save(t)}),this.Fa=[]}async save(t){try{if(this.Hi===ni.OPEN_IN_PROGRESS){csArray.prototype.push.call(this.Fa,t);return}if(this.Hi!==ni.READY||this.Ne.isThresholdReached())return;let{key:e,metadata:i,events:n}=t;if(this.Ne.addString(e),typeof n=="string"?this.Ne.addString(n):this.Ne.addArrayBuffer(n),this.Ne.isThresholdReached())return;await this.oe.put(`${this.fA}/${e}`,new Response(n,{headers:i}))}catch{}}async recover(t){!this.oe&&(await this.eg(),this.Hi!==ni.READY)||this.gA(t)}async eg(){try{this.Hi=ni.OPEN_IN_PROGRESS,this.oe=await self.caches.open(`${this.Me}${this.Dr}`),this.Hi=ni.READY}catch{this.Hi=ni.OPEN_FAILED}}async gA(t){try{if(this.Xh++,this.Xh>1)return;let e=await this.oe.keys();if(e.length===0)return;let i=await this.oe.matchAll(),n=csArray.prototype.map.call(i,c=>{let h={};c.headers.forEach((f,g)=>{h[g]=f}),delete h["content-type"];let d=h.datatype;return delete h.datatype,d==="json"||d==="base64"?c.text().then(f=>({metadata:h,events:f})):c.arrayBuffer().then(f=>({metadata:h,events:f}))}),o=await Promise.all(n);await Promise.all(csArray.prototype.map.call(e,c=>this.oe.delete(c))),t(o),this.Ne.reset()}catch{}finally{this.Xh--}}}return s})(),BS=(()=>{class s{constructor(t){try{this.mA(t)}catch{this.Kh()}}mA(t){self.caches?this.yA(t):this.Kh()}save(t){this.$a.save(t)}recover(t){this.$a.recover(t)}yA(t){this.$a=new HS(t,s.sg,e=>{this.Kh(e)})}Kh(t){this.$a=new jS(s.sg),t&&csArray.prototype.forEach.call(t,e=>{this.$a.save(e)})}}return s.sg=1024*1024*16,s})(),df=(()=>{class s{constructor(t){this.ig=[],this.rg=[],this.Je={},this.Qn=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Je[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Je[e]}):this.Je={}}onBeaconSuccess(t){csArray.prototype.push.call(this.ig,t)}onBeaconFailure(t){csArray.prototype.push.call(this.rg,t)}send(t){let e=ul.toQuery({...this.Je,ct:pn.UNCOMPRESSED}),i=this.EA(e,t);return i?csArray.prototype.forEach.call(this.ig,n=>n()):csArray.prototype.forEach.call(this.rg,n=>n(this.Je)),i}EA(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let i=csNavigatorsendBeacon(`${this.Qn}?${t}`,e||"");if(i)return i}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Qn}?${t}`,e||"")}}return s})(),FS=(()=>{class s{constructor(t,e){this.w=t,this.C=e,this.Zn=De.ETR_DISABLED,this.za=De.ETR_PENDING,this.Jh=!0}getEtrStatus(t){t===void 0&&(t=this.C.getSession());let e=t==null?void 0:t.etrStatus;return this.ng()&&e===De.ETR_SAVED_SESSION?e:this.Zn}onEventTriggerRecording(t,e){switch(e){case fi.ETR_PAGE:this.og(De.ETR_SAVED_PAGE);break;case fi.ETR_LEGACY:case fi.ETR_SESSION:this.og(De.ETR_SAVED_SESSION);break}}onCollectStateChange(t,e){t===W.RECORDING_TEMPORARILY?this.Jh=!0:this.Jh=!1,t===W.ANALYTICS_ONLY&&e===Ve.ETR_ON?this.ag(this.za):this.ag(De.ETR_DISABLED)}ag(t){this.Zn=t,this.za=De.ETR_PENDING,this.cg(t),this.w.emitRecordingContextChange()}og(t){this.Jh?Number(t)>Number(this.za)&&(this.za=t):this.ng()&&Number(t)>Number(this.Zn)&&(this.Zn=t,this.cg(t),this.w.emitRecordingContextChange())}cg(t){let e=this.C.getSession();e!==null&&e.etrStatus===De.ETR_NOT_SAVED_SESSION&&t===De.ETR_SAVED_SESSION&&(e.etrStatus=t,this.C.setSession(e))}ng(){return this.Zn!==De.ETR_DISABLED}}return s})();function $S(s,r,t){let{timestamp:e}=s;switch(s.domEvent){case"initialDOM":{let{initialDOM:i}=s,n={type:J.INITIAL_DOM,date:e,args:[i]};t.emitInitialDomDone(n);break}case"nodesAdded":{csArray.prototype.forEach.call(s.nodes,i=>{r({type:J.MUTATION_INSERT,date:e,args:[s.target,s.nextSibling,i]})});break}case"nodesMoved":{for(let i of s.nodesIds)r({type:J.MUTATION_MOVE,date:e,args:[i,s.nextSibling,s.target]});break}case"nodesRemoved":{csArray.prototype.forEach.call(s.nodesIds,i=>{r({type:J.MUTATION_REMOVE,date:e,args:[i]})});break}case"attributeChanged":{let{target:i,namespace:n,attribute:o,newValue:c}=s;r({type:J.MUTATION_ATTRIBUTE,date:e,args:[i,n,o,c]});break}case"characterDataChanged":{let{target:i,newValue:n}=s;r({type:J.MUTATION_CHARACTER_DATA,date:e,args:[i,n]});break}case"cssRuleInserted":{let{target:i,rule:n,index:o}=s,c=mt(o)?[i,n,o]:[i,n];r({type:J.STYLESHEET_RULE_INSERT,date:e,args:c});break}case"cssRuleDeleted":{let{target:i,index:n}=s;r({type:J.STYLESHEET_RULE_DELETE,date:e,args:[i,n]});break}case"cssRuleUpdated":{let{target:i,rule:n,index:o}=s;r({type:J.STYLESHEET_RULE_UPDATE,date:e,args:[i,n,o]});break}case"cssStyleSheetDisabled":{let{target:i,disabled:n}=s;r({type:J.STYLESHEET_DISABLED,date:e,args:[i,n]});break}case"shadowRootAttached":{let{target:i,shadowRoot:n}=s;r({type:J.ATTACH_SHADOW,date:e,args:[i,n]});break}case"adoptedStyleSheetRegistered":{let{sheetId:i,cssRules:n,disabled:o}=s;r({type:J.REGISTER_ADOPTED_STYLE_SHEET,date:e,args:[i,{cssRules:n,disabled:o}]});break}case"adoptedStyleSheetsSet":{let{target:i,sheetsIds:n}=s;r({type:J.SET_ADOPTED_STYLE_SHEETS,date:e,args:[i,n]});break}case"adoptedStyleSheetRuleInserted":{let{sheetId:i,rule:n,index:o}=s,c=mt(o)?[i,n,o]:[i,n];r({type:J.ADOPTED_STYLESHEET_RULE_INSERT,date:e,args:c});break}case"adoptedStyleSheetRuleDeleted":{let{sheetId:i,index:n}=s;r({type:J.ADOPTED_STYLESHEET_RULE_DELETE,date:e,args:[i,n]});break}case"adoptedStyleSheetRuleUpdated":{let{sheetId:i,rule:n,index:o}=s,c=[i,n,o];r({type:J.ADOPTED_STYLESHEET_RULE_UPDATE,date:e,args:c});break}case"adoptedStyleSheetDisabled":{let{sheetId:i,disabled:n}=s,o=[i,n];r({type:J.ADOPTED_STYLESHEET_DISABLED,date:e,args:o});break}default:Y.error("translateDOMEvent: DOMEvent not supported");break}}function zS(s){let r=GS(s.data);return{type:J.GESTURE_RECOGNITION,args:[s.targetId,r],date:s.timestamp}}function GS(s){let r={type:qS(s.type)};for(let t in s){let e=s[t];e!==void 0&&t!=="type"&&(r[t]=e)}return r}function qS(s){switch(s){case Zt.DRAG:case Zt.FLICK:return Fr.SWIPE;case Zt.LONG_PRESS:return Fr.LONG_PRESS;case Zt.TAP:return Fr.TAP;case Zt.PINCH_IN:return Fr.PINCH_IN;case Zt.PINCH_OUT:return Fr.PINCH_OUT}}function WS(s){switch(s.inputType){case"text":return{type:J.INPUT_TEXT,args:[s.target,s.value],date:s.timestamp};case"select":return{type:J.INPUT_SELECT,args:[s.target,s.selectedIndex],date:s.timestamp};case"checkable":return{type:J.INPUT_CHECKABLE,args:[s.target,s.checked],date:s.timestamp}}}var za=(()=>{let s;return function(r){r.REQUEST_START="requestStart",r.DOM_INTERACTIVE="domInteractive",r.TIME_ORIGIN="timeOrigin"}(s||(s={})),s})();function YS(s){return{type:J.PERFORMANCE_TIMINGS,args:[{performanceTiming:za.REQUEST_START,timestamp:s.timings.requestStart},{performanceTiming:za.DOM_INTERACTIVE,timestamp:s.timings.domInteractive},{performanceTiming:za.TIME_ORIGIN,timestamp:s.timings.timeOrigin}],date:s.timestamp}}var XS=500,Ga=0;function KS(){return{processEvent(s,r){if(s.originalEvent.type===J.PERFORMANCE_RESOURCE_TIMING)return Ga>=XS?null:(Ga+=1,r({...s.originalEvent,date:s.timestamp}));r(s.originalEvent)},reset(){Ga=0}}}function Fh(s){let r=s.type==="DOM_INITIAL_STATE"?s.state:s.diff;for(let t in r){let e=r[t];e&&(delete e.parent,delete e.previousSibling,delete e.metadata)}return s}function JS(s,r){let t=[],e=!1;return{push(i){if(csArray.prototype.push.call(t,i),t.length===r.batchSize){this.flush();return}r.autoFlushDelay&&r.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(()=>{e=!1,t.length>0&&this.flush()},r.autoFlushDelay))},flush(){if(!t.length)return;let i=t;t=[],s(i)}}}var QS=20;function ZS(s){return JS(r=>{let t={visibleInViewPort:r},e={type:J.TEXT_VISIBILITY,date:K.now(),args:[t]};s(e)},{batchSize:QS,autoFlushDelay:1e3})}function t_(s){switch(s.videoEventType){case"play":return{type:J.VIDEO_PLAY,args:[s.nodeId],date:s.timestamp};case"pause":return{type:J.VIDEO_PAUSE,args:[s.nodeId],date:s.timestamp};case"seeked":{let r=s;return{type:J.VIDEO_SEEK,args:[r.nodeId,r.newTimePositionInSec],date:s.timestamp}}default:return null}}var ff=(()=>{class s{get pendingEvents(){return this.qa.pendingEvents}constructor(t,e,i,n,o){this.qa=t,this.w=e,this.ks=i,this.xs=n,this.Ls=o,this.se=()=>{},this.eo=()=>{},this.hg=ZS(c=>this.se(c))}start(){var t,e;this.ug=KS(),this.qa.subscribe(i=>{var n,o,c,h,d,f,g;let v=i,{timestamp:_}=v;switch(v.type){case"Legacy":{let b=v.eventType==="user"?(n=this.eo)!==null&&n!==void 0?n:()=>{}:this.se;this.ug.processEvent(v,b)}break;case"CustomElementRegistration":{this.se({type:J.CUSTOM_ELEMENT_REGISTRATION,date:_,args:[v.tagName]});break}case"DomEvent":{$S(v,this.se,this.w);break}case"InputEvent":{let b=WS(v);(o=this.eo)===null||o===void 0||o.call(this,b);break}case"inputEncryptedText":{let{target:b,value:M,encryptedData:x,encryptionMetadata:N}=v;(c=this.eo)===null||c===void 0||c.call(this,{type:J.INPUT_ENCRYPTED_TEXT,date:_,args:[b,M,x,N]});break}case"encryptedCharacterDataChanged":{let{target:b,rawData:M,encryptedData:x,encryptionMetadata:N}=v;this.se({type:J.MUTATION_ENCRYPTED_CHARACTER_DATA,date:_,args:[b,M,x,N]});break}case"StaticResource":{let{url:b}=v;this.se({type:J.STATIC_RESOURCE_URL,date:_,args:[b]});break}case"ResizeMaskedElement":{let{target:b,width:M,height:x}=v;this.se({type:J.MUTATION_ATTRIBUTE,date:_,args:[b,"","style",`width:${M}px !important;height:${x}px !important;`]});break}case"Gesture":{let b=zS(i);(h=this.eo)===null||h===void 0||h.call(this,b);break}case"TextVisibility":{this.hg.push(v.text);break}case"StaticResourceManagerEvent":{(d=this.ks)===null||d===void 0||d.processEvent(v);break}case"screenResize":{let{width:b,height:M}=v,x={type:J.SCREEN_RESIZE,date:_,args:[b,M]};this.se(x);break}case"viewportResize":{let{width:b,height:M}=v,x={type:J.RESIZE,date:_,args:[b,M]};this.se(x);break}case"PerformanceTiming":{this.se(YS(v));break}case"CustomError":{let b=(f=this.Ls)===null||f===void 0?void 0:f.translate(v);b&&this.se(b);break}case"JSError":{let b=(g=this.xs)===null||g===void 0?void 0:g.translate(v);b&&this.se(b);break}case"VideoEvent":{let b=t_(v);b&&this.se(b);break}case"DOM_INITIAL_STATE":{let b=Fh(v),M={type:J.DOM_INITIAL_STATE,date:_,args:[b.state]};this.w.emitInitialDomDone(M);break}case"DOM_PATCH":{let b=Fh(v),M={type:J.DOM_PATCH_STATE,date:_,args:[b.diff]};this.se(M);break}case"warning":{Y.warn(v.message);break}default:Y.error(`WebRecorderEventTranslator: Event not supported (${v.type})`);break}}),this.w.emitInitialDomStart(),(t=this.xs)===null||t===void 0||t.start(),(e=this.Ls)===null||e===void 0||e.start(),this.qa.start()}stop(){var t,e,i;this.reset(),this.flush(),this.qa.stop(),(t=this.ks)===null||t===void 0||t.flushEvents(),(e=this.xs)===null||e===void 0||e.stop(),(i=this.Ls)===null||i===void 0||i.stop()}flush(){this.hg.flush()}onEvent(t,e){var i;this.se=t,this.eo=e,(i=this.ks)===null||i===void 0||i.onEvent(n=>this.se(n))}reset(){this.ug.reset()}}return s})();var pf=(()=>{class s extends Es{constructor(t){super(),this.Be=t}subscribe(t){return super.subscribe(t)}onStart(){dt(this.Be,t=>{t.onEvent(e=>{var i;return this.kr(e,(i=t.eventType)!==null&&i!==void 0?i:"browser")})}),dt(this.Be,t=>{var e;(e=t.start)===null||e===void 0||e.call(t)})}onStop(){dt(this.Be,t=>{var e;return(e=t.stop)===null||e===void 0?void 0:e.call(t)})}kr(t,e){this.produceEvent({timestamp:K.now(),type:"Legacy",originalEvent:t,eventType:e})}}return s})(),Ol=(()=>{class s{emit(t,e,i,n=document){let c=`${i!==void 0?`${i}`:`${s.TA}`}${t}`,h=s.createEvent(c,{detail:e});h!==null&&n.dispatchEvent(h)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let i=this.bA();if(i===null)return null;let{bubbles:n=!1,cancelable:o=!1,detail:c}=e;return i.initCustomEvent(t,n,o,c),i}static bA(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.TA="cs.tracking.",s})(),ze=(()=>{let s;return function(r){r.Visible="visible",r.Hidden="hidden",r.Blur="blur",r.PagehideVisible="pagehideVisible",r.PagehideHidden="pagehideHidden",r.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),gf=(()=>{class s{constructor(){this.B=!1,this.mi=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.ae(ze.Hidden):this.ae(ze.Visible);case"pagehide":return document.visibilityState==="hidden"?this.ae(ze.PagehideHidden):this.ae(ze.PagehideVisible);case"blur":return this.ae(ze.Blur);case"navigate":return this.RA(t)?this.ae(ze.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.B||(this.B=!0,this.Qh(),this.CA(),this.IA(),Yl()&&this.PA())}stop(){this.B&&(this.B=!1,this.Zh(),this.OA(),this.NA(),Yl()&&this.MA())}onEvent(t){this.ae=t}PA(){window.navigation.addEventListener("navigate",this.mi)}MA(){window.navigation.removeEventListener("navigate",this.mi)}Qh(){document.addEventListener("visibilitychange",this.mi)}Zh(){document.removeEventListener("visibilitychange",this.mi)}CA(){window.addEventListener("pagehide",this.mi)}OA(){window.removeEventListener("pagehide",this.mi)}IA(){window.addEventListener("blur",this.mi)}NA(){window.removeEventListener("blur",this.mi)}RA(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})(),pe=(()=>{let s;return function(r){r[r.Active=0]="Active",r[r.Paused=1]="Paused",r[r.Stopped=2]="Stopped"}(s||(s={})),s})(),e_=(()=>{class s{constructor(t,e,i=[]){this.kr=t,this.tu=e,this.DA=i,this.Wa=null,this.xt=pe.Active,this.ht=[]}reset(){this.Wa=null,this.ht=[],this.xt=pe.Active}disconnect(){this.xt=pe.Stopped}kA(){this.tu(pe.Paused),this.xt=pe.Paused,csSetTimeout(()=>{this.xt===pe.Paused&&this.eu()},s.STOP_TIMEOUT)}xA(){this.tu(pe.Active),this.xt=pe.Active,dt(this.ht,this.kr),this.ht=[]}eu(){this.ht=[],this.tu(pe.Stopped),this.xt=pe.Stopped}pushEvent(t,e){if(e.isUserEvent&&(this.Wa=t.date,this.xt!==pe.Active)){this.xA(),this.kr(t);return}if(this.LA(t)){this.kr(t);return}switch(this.xt){case pe.Active:if(this.VA(t,e)){this.kA(),csArray.prototype.push.call(this.ht,t);return}this.kr(t);break;case pe.Paused:csArray.prototype.push.call(this.ht,t);break;case pe.Stopped:break}}VA(t,e){return!e.isUserEvent&&this.Wa!==null&&t.date-this.Wa>s.INACTIVITY_TIMEOUT}LA(t){return csArray.prototype.indexOf.call(this.DA,t.type)>-1}}return s.INACTIVITY_TIMEOUT=5e3,s.STOP_TIMEOUT=5e3,s})(),s_=2e3,i_=(()=>{class s extends Xt{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b,M=[],x,N,C,H,j){super(),this.E=t,this.z=e,this.UA=i,this.V=n,this.C=o,this.Qe=c,this.St=h,this.Ue=d,this.ut=f,this.J=g,this.Vt=v,this.Nt=_,this.Fe=b,this.Be=M,this.dg=x,this.$e=N,this.so=C,this.xs=H,this.Ls=j,this.ii=0,this.yi=new Ol,this.xr={allowFromQuotaService:!0,allowFromSerialization:!0},this.fg=Po(()=>{this.z.eventsCount()>0&&this.pg()},s_),this.Vs=O=>this.processBrowserEvent(O),this.io=O=>this.Ut(O),this.Ya=0,this.ro=0,this.Ze=new gf,this.su=!1,this.gg=50*1024,this.$i=!1,this.no=!1,this.Vi=[],this.Xa=new e_(O=>this.Q(O),O=>{switch(O){case pe.Active:this.jA();break;case pe.Stopped:this.HA();break}},[J.RESOURCE_HASHES,J.TEXT_VISIBILITY,J.API_ERROR,J.JAVASCRIPT_ERROR]),this.mg=O=>{this.Vt.removeBatchInProgress(`${O.params.sn}.${O.params.pn}.${O.params.ri}`)}}init(){this.iu(),this.J.onLoad(this.mg),this.J.onError(this.mg)}jA(){csArray.prototype.forEach.call(this.dg,t=>t.start())}HA(){csArray.prototype.forEach.call(this.dg,t=>t.stopForInactivity())}iu(){var t,e,i;this.Fe.onEvent(this.Vs,this.io),(t=this.ut)===null||t===void 0||t.onInputNodeToEncrypt(this.io),(e=this.ut)===null||e===void 0||e.onApiErrorToEncrypt(n=>{this.yg(n)}),(i=this.ut)===null||i===void 0||i.onUserIdentifierToEncrypt(this.Vs),this.Ze.onEvent(n=>{if(csSetTimeout(()=>this.zi("page-state",n)),n!==ze.Visible){if(n===ze.Blur)return this.Eg();if(!this.su)return this.su=!0,csSetTimeout(()=>{this.su=!1}),n===ze.Hidden?this.Eg():this.BA()}})}isRecording(){return this.C.hasValidSession()&&this.isStarted}Eg(){if(!this.canSendEvents())return;this.Fe.flush(),this.Vt.saveBatchesInProgress(),dt(this.Be,c=>{var h,d;return dt((d=(h=c.getPendingEvents)===null||h===void 0?void 0:h.call(c))!==null&&d!==void 0?d:[],f=>this.z.addEvent(f))});let t=this.z.getEvents();if(t.length===0)return;this.zi("pending-events",this.Fe.pendingEvents);let e=this.J.getQueryParams();e.rst=this.getRecordingStartTimestamp(),this.ro=t[t.length-1].date,e.let=this.getRecordingLastEventTimestamp();let i=this.z.getCurrentRequestIndex(),n=i.getCurrentIndex();e.ri=n.toString(),this.Nt.removeQueryParams(),this.Nt.setQueryParams(e);let o=this.z.stringifyEvents();if(o.length>this.gg){let c=this.vg();if(c.length>0){let h=ki(c);this.Nt.send(h)||this.Vt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:h}),i.increment()}if(this.z.eventsCount()>0){e.ri=i.getCurrentIndex().toString();let h=this.z.stringifyEvents();this.Vt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:h}),i.increment()}}else this.Nt.send(o)||this.Vt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:o}),i.increment();this.Nt.removeQueryParams(),this.z.clearEvents()}BA(){if(!this.canSendEvents())return;this.Fe.flush();let t=this.J.getQueryParams();this.Vt.saveBatchesInProgress(),t.rst=this.getRecordingStartTimestamp(),delete t.ri,t.hlm="true",this.Nt.removeQueryParams(),dt(this.Be,n=>{var o,c;return dt((c=(o=n.getPendingEvents)===null||o===void 0?void 0:o.call(n))!==null&&c!==void 0?c:[],h=>this.z.addEvent(h))});let e=this.z.getEvents();if(e.length===0){delete t.let,delete t.rst,this.Nt.setQueryParams(t),this.Nt.send(),this.Nt.removeQueryParams();return}this.zi("pending-events",this.Fe.pendingEvents),this.ro=e[e.length-1].date,t.let=this.getRecordingLastEventTimestamp(),this.Nt.setQueryParams(t);let i=this.z.stringifyEvents();if(i.length>this.gg){let n=this.vg();if(n.length>0){let o=ki(n);this.Nt.send(o)||this.Vt.save({key:`${t.sn}.${t.pn}.last`,metadata:{...t,datatype:"json"},events:o})}else delete t.let,delete t.rst,delete t.ri,this.Nt.removeQueryParams(),this.Nt.setQueryParams(t),this.Nt.send(),this.Nt.removeQueryParams();if(this.z.eventsCount()>0){t.rst=this.getRecordingStartTimestamp(),t.let=this.getRecordingLastEventTimestamp();let o=this.z.getCurrentRequestIndex(),c=o.getCurrentIndex();t.ri=c.toString();let h=this.z.stringifyEvents();this.Vt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:h}),o.increment()}}else this.Nt.send(i)||(this.Vt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:i}),this.z.getCurrentRequestIndex().increment());this.Nt.removeQueryParams(),this.z.clearEvents()}blockSendingEventsFromQuotaService(){this.xr.allowFromQuotaService=!1}allowSendingEventsFromQuotaService(){this.xr.allowFromQuotaService=!0}blockSendingEventsFromSerialization(){this.xr.allowFromSerialization=!1}allowSendingEventsFromSerialization(){this.xr.allowFromSerialization=!0}canSendEvents(){return this.xr.allowFromQuotaService&&this.xr.allowFromSerialization}onIframeJavascriptError(t){var e;if(this.Qe&&this.xs){(e=this.Qe)===null||e===void 0||e.anonymize(t);let i=this.xs.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:K.now(),type:"JSError"});i&&this.Vs(i)}}onIframeCustomError(t){if(this.Ls){let e=this.Ls.translate({...t,timestamp:K.now(),type:"CustomError"});e&&this.Vs(e)}}onIframeDetailedApiError(t){this.Sg(t)}onIframeRecordingUserEvent(t){for(let e of t)this.Ut(e)}onIframeRecordingBrowserEvent(t){if(this.isStarted)for(let e of t)this.processBrowserEvent(e)}processBrowserEvent(t){this.V.isCurrentPageviewValid()&&this.Xa.pushEvent(t,{isUserEvent:!1})}Ut(t){this.V.refreshSession(),this.V.isSessionValid()&&this.Xa.pushEvent(t,{isUserEvent:!0})}Q(t){qt.general.nbEvents.increase(),this.z.addEvent(t),this.z.isThresholdReached()?this.pushEvents():this.z.isFull()&&this.fg(),this._g(t)}_g(t){this.E.emitDebugEvents&&this.yi.emit("recordingEvent",{...t,typeName:J[t.type]})}onStart(){var t;this.zi("tag-version","15.174.2"),this.zi("page-state",document.visibilityState),this.Xa.reset(),this.Ze.start(),this.initStates(),this.Fe.start(),this.St&&this.Ue&&this.St.subscribe(s.jt,e=>this.Sg(e),{detailedEvent:!0}),this.E.emitDebugEvents&&this.yi.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.Vi,e=>this.wg(e)),this.Vi=[],this.$i&&((t=this.$e)===null||t===void 0||t.enableOnlineAssets(),this.$i=!1)}onStop(){var t;this.Ze.stop(),this.St&&this.St.unsubscribe(s.jt),this.Fe.stop(),this.Xa.disconnect(),(t=this.$e)===null||t===void 0||t.disableOnlineAssets()}clearStates(){this.Fe.flush(),this.fg.cancel(),this.pushEvents(),this.J.removeQueryParams()}initStates(){this.Ya=K.now(),this.z.getCurrentRequestIndex().reset(),this.ii=0,this.J.setQueryParams(this.UA.getRequestParameters())}pushEvents(){dt(this.Be,t=>{var e;return(e=t.flushEvents)===null||e===void 0?void 0:e.call(t)}),this.z.eventsCount()>0&&(this.isStarted?this.pg():this.z.clearEvents())}pg(){if(!this.canSendEvents())return;let t=this.z.getOrderedBatchSlots();for(let e of t){let i=e.batch.getEvents();if(!i.length)continue;this.ro=i[i.length-1].date;let n=e.metadata.requestIndex,o=n.getCurrentIndex(),c=this.Ya>this.ro?i[0].date:this.Ya;this.J.setQueryParams({pn:csString(e.metadata.pageNumber),ri:o.toString(),rst:c.toString(),let:this.getRecordingLastEventTimestamp()});let h=this.J.getQueryParams();this.Vt.addBatchInProgress(`${h.sn}.${h.pn}.${o}`,{...this.J.getQueryParams()},i),this.J.send(i),n.increment(),e.batch.clearEvents(),this.Ag&&this.Ag()}this.z.clearEmptyBatchSlots()}addInitialDom(t){this.z.addEventByTimestamp(t),this._g(t)}Sg(t){if(this.so&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.so.truncate(t),this.ut){this.ut.registerApiErrorToEncrypt(t);return}t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.yg(t)}yg(t){if(this.ii<s.FA){let e={type:J.API_ERROR,date:K.now(),args:[this.Ue.anonymize(t)]};this.Vs(e),this.ii=this.ii+1,rt.counters.networkRequests.count("collected")}}$A(t){t===fi.ETR_SESSION?this.J.setQueryParams({[s.zA]:s.Tg}):t===fi.ETR_PAGE&&this.J.setQueryParams({[s.GA]:s.Tg})}clearEvents(){this.z.clearEvents()}onCustomJavaScriptErrorEvent(t){var e;let i=(e=this.xs)===null||e===void 0?void 0:e.translate({type:"JSError",timestamp:K.now(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Vs(i)}onCustomErrorEvent(t){var e;let i=(e=this.Ls)===null||e===void 0?void 0:e.translate({type:"CustomError",timestamp:K.now(),message:t.message,attributes:t.attributes});i&&this.Vs(i)}onPageEvent(t){this.bg(t)}onUserIdentifierEvent(t){var e;let i={userIdentifier:t,date:K.now(),keyId:this.E.encryptionPublicKeyId};(e=this.ut)===null||e===void 0||e.registerUserIdentifierToEncrypt(i)}onEventTriggerRecording(t,e){this.isStarted?this.wg({eventName:t,eventType:e}):csArray.prototype.push.call(this.Vi,{eventName:t,eventType:e})}wg(t){this.$A(t.eventType),this.bg(t.eventName),this.pushEvents()}bg(t){let e={type:J.PAGE_EVENT,date:K.now(),args:[{eventName:csString.prototype.slice.call(t,0,s.qA)}]};this.z.addEvent(e)}triggerUnanonymizationConsentGranted(){let t={date:K.now(),type:J.UNANONYMIZED_CONSENT_GRANTED};this.z.addEvent(t)}triggerUnanonymizationConsentWithdrawn(){let t={date:K.now(),type:J.UNANONYMIZED_CONSENT_WITHDRAWN};this.z.addEvent(t)}triggerRecordingForSessionGranted(){this.zi("consent-granted")}triggerRecordingForSessionWithdrawn(){this.zi("consent-withdrawn")}activateOnlineAssetsOnNextPageview(){this.no=!0}getStaticResourceManagerStatus(){return this.$e?{isStarted:this.E.useStaticResourceManager&&qd.isSupported(),onlineAssets:{activated:this.$e.isOnlineAssetsActivated(),enabledOnNextPageview:this.no}}:null}resetOnlineAssetsOnPageview(){this.$i=!1,this.no=!1}updateOnlineAssetsOnPageview(){this.$e&&this.no&&(this.$i=!0,this.no=!1)}onRecordingRequestSent(t){this.Ag=t}getRecordingStartTimestamp(){return this.Ya.toString()}getRecordingLastEventTimestamp(){return this.ro.toString()}onOptOut(){dt(this.Be,t=>{var e;return(e=t.releaseResources)===null||e===void 0?void 0:e.call(t)})}zi(t,e){if(!this.E.emitRecordInfoEvents)return;let i={date:K.now(),type:J.RECORDING_INFO_EVENT,args:e==null?[t]:[t,e]};this.z.addEvent(i)}vg(){return this.z.extractEvents(J.API_ERROR,J.JAVASCRIPT_ERROR,J.CUSTOM_ERROR,J.TEXT_VISIBILITY,J.POINTER_DOWN)}}return s.jt="RecordingService",s.qA=255,s.FA=20,s.GA="etrp",s.zA="etrs",s.Tg="1",it([le("addInitialDom")],s.prototype,"addInitialDom",null),s})(),r_=(()=>{class s extends Xt{constructor(t,e,i){super(),this.ce=t,this.Nt=e,this.J=i,this.ru=!1,this.oo={},this.WA=n=>{if(n.length!==0)for(let o of n){let{metadata:c,events:h}=o;this.YA(c.rt)&&this.J.send(h,c)}},window.addEventListener("focus",()=>{this.recover()})}onStart(){this.oo={}}onStop(){}recover(){this.ce.recover(this.WA)}addBatchInProgress(t,e,i){this.oo[t]={metadata:{...e},events:i}}removeBatchInProgress(t){delete this.oo[t]}blockSendingLastMessage(){this.ru=!1}allowSendingLastMessage(){this.ru=!0}sendLastMessageBeacon(){if(this.ru){let{ri:t,rst:e,let:i,...n}=this.J.getQueryParams();n.hlm="true",this.Nt.setQueryParams(n),this.Nt.send()}}YA(t){return!!t&&csString.prototype.indexOf.call(t,W.RECORDING_TEMPORARILY)===-1}saveBatchesInProgress(){csArray.prototype.forEach.call(Object.keys(this.oo),t=>{let{metadata:e,events:i}=this.oo[t];this.ce.save({key:`${e.sn}.${e.pn}.${e.ri}`,metadata:{...e,datatype:"json"},events:csJSON.stringify(i)})})}save(t){this.ce.save(t)}}return it([G("RecordingRecovery")],s.prototype,"recover",null),s})();var mf=2*1e3*1024,n_=200,$h=(()=>{class s{constructor(t=mf){this.Bt=[],this.ou=new Pl(t)}addEvent(t){this.ou.addString(ki(t)),csArray.prototype.push.call(this.Bt,t)}addEventByTimestamp(t){let e=0;for(;e<this.Bt.length&&!(this.Bt[e].date>=t.date);e+=1);csArray.prototype.splice.call(this.Bt,e,0,t)}eventsCount(){return this.Bt.length}clearEvents(){this.ou.reset(),this.Bt=[]}isFull(){return this.eventsCount()>=n_}isThresholdReached(){return this.ou.isThresholdReached()}getEvents(){return this.Bt}extractEvents(...t){let e=[],i=[];return csArray.prototype.forEach.call(this.Bt,n=>{csArray.prototype.indexOf.call(t,n.type)!==-1?csArray.prototype.push.call(e,n):csArray.prototype.push.call(i,n)}),this.Bt=i,e}stringifyEvents(){return ki(this.Bt)}FO(t){t.type===J.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)}}return it([le("RecordingBatch.addEvent")],s.prototype,"addEvent",null),s})(),zh=(()=>{class s{constructor(){this.Ka=1}getCurrentIndex(){return this.Ka}increment(){this.Ka+=1}reset(){this.Ka=1}getRequestParameters(){return{ri:`${this.Ka}`}}}return s})(),o_=3,a_=8,c_=(()=>{class s{constructor(t,e=mf,i=o_){this.sT=t,this.Ng=e,this.au=i,this.Ja={}}addEvent(t){this.Mg().addEvent(t)}addEventByTimestamp(t){this.Mg().addEventByTimestamp(t)}eventsCount(){return csArray.prototype.reduce.call(this.Gi(),(t,e)=>t+e.batch.eventsCount(),0)}isFull(){return csArray.prototype.some.call(this.Gi(),t=>t.batch.isFull())}isThresholdReached(){let t=this.Gi();return t.length>=this.au||csArray.prototype.some.call(t,e=>e.batch.isThresholdReached())}getEvents(){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(t,e)=>csArray.prototype.concat.call(t,e.batch.getEvents()),[])}extractEvents(...t){return csArray.prototype.reduce.call(this.getOrderedBatchSlots(),(e,i)=>csArray.prototype.concat.call(e,i.batch.extractEvents(...t)),[])}stringifyEvents(){return ki(this.getEvents())}clearEvents(){csArray.prototype.forEach.call(this.Gi(),t=>t.batch.clearEvents())}clearEmptyBatchSlots(){let t=this.getOrderedBatchSlots();for(let e=0;e<t.length-1;e++)t[e].batch.eventsCount()===0&&delete this.Ja[t[e].metadata.pageNumber]}Gi(){return mE(this.Ja)}getOrderedBatchSlots(){return csArray.prototype.sort.call(this.Gi(),l_)}Dg(){let t=this.sT();if(t<=0)return{batch:new $h(this.Ng),metadata:{pageNumber:0,requestIndex:new zh}};let e=this.Ja[t];if(e)return e;let i={batch:new $h(this.Ng),metadata:{pageNumber:t,requestIndex:new zh}};return this.Ja[t]=i,this.Gi().length>Math.max(this.au,a_)&&Y.warn(`RecordingBatchGroup: max number of slots overflowed(${this.Gi().length}/${this.au})`),i}Mg(){return this.Dg().batch}getCurrentRequestIndex(){return this.Dg().metadata.requestIndex}}return s})();function l_(s,r){return s.metadata.pageNumber-r.metadata.pageNumber}function Ae(s,r=0){let t=Math.pow(10,r);return Math.round(s*t)/t}var yf=(()=>{class s{constructor(t,e){this.Dt=t,this.D=e,this.pi=[{boundElement:window,type:"hashchange",listener:()=>this.hashChangeListener()},{boundElement:document,type:"visibilitychange",listener:()=>this.visibilityChangeListener()}]}onEvent(t){this.j=t}start(){this.qi(),this.triggerInitialEvents()}stop(){this.Wi()}qi(){csArray.prototype.forEach.call(this.pi,t=>Ut(t))}Wi(){csArray.prototype.forEach.call(this.pi,t=>jt(t))}triggerInitialEvents(){this.hashChangeListener()}hashChangeListener(){let t={type:J.HASH_CHANGE,args:[this.D.anonymizePII(this.Dt.href)],date:K.now()};this.j(t)}visibilityChangeListener(){let t={type:J.VISIBILITY_CHANGE,args:[document.visibilityState],date:K.now()};this.j(t)}}return it([G("hashChange")],s.prototype,"hashChangeListener",null),it([G("visibilityChange")],s.prototype,"visibilityChangeListener",null),s})(),ur=(()=>{let s;return function(r){r[r.COPY=0]="COPY",r[r.CUT=1]="CUT",r[r.PASTE=2]="PASTE"}(s||(s={})),s})(),gt=(()=>{let s;return function(r){r[r.SPACE=0]="SPACE",r[r.ENTER=1]="ENTER",r[r.BACKSPACE=2]="BACKSPACE",r[r.DELETE=3]="DELETE",r[r.ARROWUP=4]="ARROWUP",r[r.ARROWDOWN=5]="ARROWDOWN",r[r.ARROWLEFT=6]="ARROWLEFT",r[r.ARROWRIGHT=7]="ARROWRIGHT",r[r.CAPSLOCK=8]="CAPSLOCK",r[r.SHIFT=9]="SHIFT",r[r.TAB=10]="TAB",r[r.ALPHANUMERICAL=11]="ALPHANUMERICAL",r[r.ESCAPE=12]="ESCAPE",r[r.END=13]="END",r[r.ALT=14]="ALT",r[r.CTRL=15]="CTRL",r[r.META=16]="META"}(s||(s={})),s})();function h_(s){if(!U(s))return null;let t=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(s);return t?Number(t[2]):null}var Gh="data-cs-scroll-container";function u_(s){try{if(Nt(csEventtarget.apply(s)))return!0}catch{}return!1}var dr=(()=>{let s;return function(r){function t(i){return!!(Nt(i)&&u_(i)&&pi(csEventtarget.apply(i))&&csEventtarget.apply(i).getAttribute(Gh)!==null)}r.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${Gh}]`)}r.getScrollContainer=e}(s||(s={})),s})(),d_=33,Ef=(()=>{class s{constructor(){this.eventType="user",this.hu=[],this.hT=[{type:"pointerup",listener:e=>this.pointerUpListener(e),boundElement:document},{type:"pointermove",listener:e=>this.pointerMoveListener(e),boundElement:document},{type:"pointerdown",listener:e=>this.pointerDownListener(e),boundElement:document}],this.uT=[{type:"touchstart",listener:e=>this.touchStartListener(e),boundElement:document},{type:"touchmove",listener:e=>this.touchMoveListener(e),boundElement:document},{type:"touchend",listener:e=>this.touchEndCancelListener(e),boundElement:document},{type:"touchcancel",listener:e=>this.touchEndCancelListener(e),boundElement:document}],this.Za=[{type:"click",listener:e=>this.clickListener(e),boundElement:document},{type:"keyup",listener:e=>this.keyUpListener(e),boundElement:document},{type:"keydown",listener:e=>this.keyDownListener(e),boundElement:document},{type:"copy",listener:e=>this.copyListener(e),boundElement:document},{type:"cut",listener:e=>this.cutListener(e),boundElement:document},{type:"paste",listener:e=>this.pasteListener(e),boundElement:document},{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e)),boundElement:document},{type:"mouseover",listener:e=>this.mouseOverListener(e),boundElement:document}],this.du=[{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e))}];let t=h_(window.navigator.userAgent);(t===null||t&&t>=16)&&csArray.prototype.push.call(this.du,{type:"mouseover",listener:e=>this.mouseOverListener(e)}),this.ge=new zi((e,i)=>{switch(i){case"initial":case"added":this.qi(e);break;case"removed":this.Wi(e);break}})}init(){this.dT(),this.fT(),this.fu()}onEvent(t){csArray.prototype.push.call(this.hu,t)}le(t,e=!1){csArray.prototype.forEach.call(this.hu,i=>i(t,e))}start(){this.Nh(),this.qi(document),this.ge.observe()}stop(){this.Wi(document),this.ge.disconnect(),this.hu=[]}fT(){this.pT()&&csArray.prototype.push.call(this.Za,...this.hT)}dT(){this.gT()&&csArray.prototype.push.call(this.Za,...this.uT)}qi(t){ao(t)?csArray.prototype.forEach.call(this.Za,e=>Ut(e)):csArray.prototype.forEach.call(this.du,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Ut(i)})}Wi(t){ao(t)?csArray.prototype.forEach.call(this.Za,e=>jt(e)):csArray.prototype.forEach.call(this.du,e=>{let i={type:e.type,listener:e.listener,boundElement:t};jt(i)})}pT(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"}gT(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"}Nh(){this.mT()}mT(){let t=dr.getScrollContainer()||document,e=ct(t),i=this.kg(t);if(i.top!==0||i.left!==0){let n={type:J.SCROLL,args:[e,i.left,i.top],date:K.now()};this.le(n,!0)}}kg(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}}scrollListener(t){if($.isMaskedElement(t)||$.isMaskedElementChild(t))return;let e=ct(t),i=this.kg(t),n={type:J.SCROLL,args:[e,i.left,i.top],date:K.now()};this.le(n)}mouseOverListener(t){if($.isMaskedElementChild(t.target))return;let e=ct(t.target),i={type:J.MOUSE_OVER,args:[e],date:K.now()};this.le(i)}clickListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n={type:J.CLICK,args:[i],date:K.now()};this.le(n)}keyUpListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n=this.F[t.key];if(n===void 0)return;let o={type:J.KEY_UP,args:[i,n],date:K.now()};this.le(o)}keyDownListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n=this.F[t.key];if(n===void 0)return;let o={type:J.KEY_DOWN,args:[i,n],date:K.now()};this.le(o)}copyListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n={type:J.CLIPBOARD_COMMAND,args:[i,ur.COPY],date:K.now()};this.le(n)}cutListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n={type:J.CLIPBOARD_COMMAND,args:[i,ur.CUT],date:K.now()};this.le(n)}pasteListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n={type:J.CLIPBOARD_COMMAND,args:[i,ur.PASTE],date:K.now()};this.le(n)}pointerUpListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n={type:J.POINTER_UP,args:[t.pointerId,t.pointerType,Ae(t.clientX,1),Ae(t.clientY,1),i,t.button],date:K.now()};this.le(n)}pointerMoveListener(t){let e={type:J.POINTER_MOVE,args:[t.pointerId,t.pointerType,Ae(t.clientX,1),Ae(t.clientY,1)],date:K.now()};this.le(e)}pointerDownListener(t){let e=oe(t);if($.isMaskedElementChild(e))return;let i=ct(e),n={type:J.POINTER_DOWN,args:[t.pointerId,t.pointerType,Ae(t.clientX,1),Ae(t.clientY,1),i,t.button,{pageX:Ae(t.pageX,1),pageY:Ae(t.pageY,1)}],date:K.now()};this.le(n)}touchStartListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let n=e[i],o={type:J.TOUCH_START,args:[n.identifier,Ae(n.clientX,1),Ae(n.clientY,1)],date:K.now()};this.le(o)}}touchMoveListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let n=e[i],o={type:J.TOUCH_MOVE,args:[n.identifier,Ae(n.clientX,1),Ae(n.clientY,1)],date:K.now()};this.le(o)}}touchEndCancelListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let n=e[i],o={type:t.type==="touchend"?J.TOUCH_END:J.TOUCH_CANCEL,args:[n.identifier,Ae(n.clientX,1),Ae(n.clientY,1)],date:K.now()};this.le(o)}}fu(){this.F={},this.F[" "]=gt.SPACE,this.F.Spacebar=gt.SPACE,this.F.Backspace=gt.BACKSPACE,this.F.Enter=gt.ENTER,this.F.Delete=gt.DELETE,this.F.ArrowUp=gt.ARROWUP,this.F.ArrowDown=gt.ARROWDOWN,this.F.ArrowLeft=gt.ARROWLEFT,this.F.ArrowRight=gt.ARROWRIGHT,this.F.Up=gt.ARROWUP,this.F.Down=gt.ARROWDOWN,this.F.Left=gt.ARROWLEFT,this.F.Right=gt.ARROWRIGHT,this.F.CapsLock=gt.CAPSLOCK,this.F.Shift=gt.SHIFT,this.F.Tab=gt.TAB,this.F.Escape=gt.ESCAPE,this.F.Esc=gt.ESCAPE,this.F.End=gt.END,this.F.Alt=gt.ALT,this.F.Control=gt.CTRL,this.F.Meta=gt.META}}return it([le("RecordingPageEvents.start")],s.prototype,"start",null),it([G("scroll")],s.prototype,"scrollListener",null),it([G("mouseOver"),xt(),oy()],s.prototype,"mouseOverListener",null),it([G("click"),xt()],s.prototype,"clickListener",null),it([G("Event handler type: keyup")],s.prototype,"keyUpListener",null),it([G("Event handler type: keydown")],s.prototype,"keyDownListener",null),it([G("Event handler type: copy")],s.prototype,"copyListener",null),it([G("Event handler type: cut")],s.prototype,"cutListener",null),it([G("Event handler type: paste")],s.prototype,"pasteListener",null),it([G("Event handler type: pointerup"),xt()],s.prototype,"pointerUpListener",null),it([G("Event handler type: pointermove"),xt(),Fi({wait:d_})],s.prototype,"pointerMoveListener",null),it([G("Event handler type: pointerdown"),xt()],s.prototype,"pointerDownListener",null),it([G("Event handler type: touchstart"),xt()],s.prototype,"touchStartListener",null),it([G("Event handler type: touchmove"),xt()],s.prototype,"touchMoveListener",null),it([G("Event handler type: touchend-cancel"),xt()],s.prototype,"touchEndCancelListener",null),s})(),vf=(()=>{class s{constructor(t={maskingEnabled:!0}){this.yT=t}onScannedAsset(t){this.tc=t}sc(){let t=window.location.href,e=csString.prototype.indexOf.call(t,"#");return e===-1?t:csString.prototype.substring.call(t,0,e)}scanCssString(t){this.pu(tn(t))}scanElement(t,e){this.yT.maskingEnabled&&($.getMaskedElementDetails(t).state!==$.MaskedElementState.NotMasked||e&&$.isMaskedAttribute(t,e))||(Ao(t)?this.ET(t):il(t)?this.vT(t,e):(this.ST(t,e),this._T(t,e),this.wT(t,e)))}vT(t,e){var i;if((!e||e==="href")&&t.href){let o={assetId:((i=t.sheet)===null||i===void 0?void 0:i.href)||t.href,assetBasePath:this.sc(),assetRawPath:xd(t)};this.tc({type:"stylesheet",asset:o})}}ET(t){var e;let i=new Set;if(t.textContent)for(let o of tn(t.textContent))i.add(o);let n;try{n=(e=t.sheet)===null||e===void 0?void 0:e.cssRules}catch(o){o.name==="SecurityError"||o.name==="InvalidAccessError"||Y.error(o.message)}if(n)for(let o=0;o<n.length;o++){let c=n.item(o).cssText;for(let h of tn(c))i.add(h)}this.pu(qs(i))}gu(t){return!this.AT(t)&&!ss(t)&&!Gu(t)}ST(t,e){if(ig(t)||sg(t)){if(!e||e==="src"){let i=t.getAttribute("src");if(i&&this.gu(i)){let n={assetId:t.src,assetRawPath:i,assetBasePath:this.sc()};this.tc({type:"asset",asset:n})}}(!e||e==="srcset")&&t.srcset&&this.TT(t.srcset)}}_T(t,e){if(csNodenodeType.apply(t)!==1){Tt.warn(`StaticResourceUrlTracker: Wrong element nodeType: ${t==null?void 0:t.nodeName}/${csNodenodeType.apply(t)}`);return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){let i=t.getAttribute("style");if(typeof i=="string")this.scanCssString(i);else throw new Error("Unexpected style: "+t.outerHTML)}}TT(t){this.pu(Rl(t))}wT(t,e){if((ag(t)||cg(t)||lg(t))&&(!e||e==="href"||e==="xlink:href")){let i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.gu(i)){let n={assetId:Fs(i),assetRawPath:i,assetBasePath:this.sc()};this.tc({type:"asset",asset:n})}}}pu(t){return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,e=>this.gu(e)),e=>({rawUrl:e,absoluteUrl:Fs(e)})),e=>{let i={assetId:e.absoluteUrl,assetBasePath:this.sc(),assetRawPath:e.rawUrl};this.tc({type:"asset",asset:i})})}AT(t){return/^https:\/\/\w+:\w+@/.test(t)}}return s})(),f_=30,p_=0,Sf=(()=>{class s{constructor(t,e=f_,i=p_){this.bT=t,this.RT=e,this.CT=i,this.ss=new hn,this.Ge=!1,this.mu=0,this.xg=()=>{for(this.mu=0;this.ss.length;){if(this.mu>=this.RT){csSetTimeout(this.xg,this.CT);return}let n=K.elapsed(),o=this.ss.pop();if(!o)break;this.runTask(o);let c=K.elapsed()-n;this.mu+=c}this.Ge=!1}}schedule(t,e=!1){if(!this.bT||e){t();return}qt.general.pendingTasks.increase(),this.ss.push(t),this.IT()}IT(){this.Ge||(this.Ge=!0,csSetTimeout(()=>{this.xg()}))}runTask(t){qt.general.pendingTasks.decrease(),t()}runPendingTasks(){this.ss.forEach(t=>{this.runTask(t)}),this.ss.clear()}clearQueue(){qt.general.pendingTasks.clear(),qt.mutations.pendingMutations.clear(),this.ss.clear()}isEmpty(){return this.ss.length===0}}return it([G("TaskScheduler"),le("runTask")],s.prototype,"runTask",null),it([le("runPendingTasks")],s.prototype,"runPendingTasks",null),s})(),_f=(()=>{class s{constructor(){this.X=!1,this.Lg=new Al(t=>t.type==="cssRuleInserted"&&this.PT(t)),this.OT=xo(t=>{this.X&&t.length>0&&this.M.schedule(()=>dt(t,e=>this.lo.scanElement(e)))}),this.NT=({type:t,asset:e})=>{var i,n,o;t==="stylesheet"&&((i=this.MT)===null||i===void 0||i.call(this,e)),(n=this.DT)===null||n===void 0||n.call(this,e);let c={date:K.now(),type:J.STATIC_RESOURCE_URL,args:[e.assetId]};(o=this.j)===null||o===void 0||o.call(this,c)},this.M=new Sf(!0,30,0),this.Gn=new sf(t=>this.kT(t)),this.U=new as(t=>this.Cr(t)),this.lo=new vf,this.lo.onScannedAsset(this.NT)}onEvent(t){this.j=t}onAsset(t){this.DT=t}onStyleSheetFound(t){this.MT=t}start(){this.X||(this.X=!0,this.Lg.observe(),this.Gn.observe(),this.U.observe())}stop(){this.X&&(this.Lg.disconnect(),this.Gn.disconnect(),this.U.disconnect(),this.X=!1)}PT(t){!t.rule||!this.X||this.lo.scanCssString(t.rule)}kT(t){this.X&&$.getMaskedElementDetails(t).state===$.MaskedElementState.NotMasked&&this.OT.push(t)}Cr(t){csSetTimeout(()=>{for(let e of t)switch(e.type){case"attributes":this.lo.scanElement(e.target,e.attributeName);break;case"characterData":this.xT(e.target);break;case"childList":}})}xT(t){oo(t)&&csNodeparentNode.apply(t)&&Ao(csNodeparentNode.apply(t))&&this.lo.scanCssString(t.data)}}return s})(),g_="csPersisted",qh="v2/recording",wf=["isRecording"],Nl=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],Af=["replay:resourceManager:getStatus","cssrm:getStatus"],m_=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N,C,H,j,O,et,Z){this.Ei=t,this.C=e,this.E=i,this.qe=n,this.S=o,this.D=c,this.V=h,this.ve=d,this.Qe=f,this.St=g,this.Ue=v,this.Ct=_,this.w=b,this.vi=M,this.LT=x,this.Xt=N,this.Ht=C,this.et=H,this.so=j,this.nt=O,this.$O=et,this.ut=Z}init(){var t,e,i;let n=[],o=[];csArray.prototype.push.call(o,new Fd),this.ho=new Gd(this.nt.shouldUseAnonymization(),this.E.whitelistedAttributes,this.D,this.E.anonymizeDigits),this.Yi();let c=new BS(g_);this.VT(c),this.z=new c_(()=>{var O;return((O=this.C.getSession())===null||O===void 0?void 0:O.pageNumber)||0});let h=new _f;csArray.prototype.push.call(n,h);let d=new nn(this.qe,{getRequestParameters:()=>({let:this.recordingService.getRecordingLastEventTimestamp()})},{getRequestParameters:()=>({rst:this.recordingService.getRecordingStartTimestamp()})},{getRequestParameters:()=>({rt:csArray.prototype.join.call(this.C.getRecordingTypes(),",")})}),f=new df(`${this.E.getRecordingUri()}/${qh}`);csArray.prototype.push.call(o,this.ho),csArray.prototype.push.call(o,new Xd(this.et)),csArray.prototype.push.call(o,new Kd),this.Xi=new Ef,this.Xi.init(),csArray.prototype.push.call(n,this.Xi),this.Vt=new r_(c,f,this.J),csArray.prototype.push.call(n,new yf(window.location,this.D));let g=!1,v=g?new Jd:new Bd,_=g?null:new _S,b=g?null:new AS,M=g?null:new ef(this.ut,(e=this.E.experimental)===null||e===void 0?void 0:e.trackedCustomInputProperties),x=g?null:new rf,N=csArray.prototype.filter.call([_,this.ve,v,new pf(csArray.prototype.filter.call(n,O=>O)),x,new nf,new cf,M,b],Boolean),C=new uf(N,o),H=new ff(C,this.w,this.ks,this.xs,this.Ls),j=csArray.prototype.filter.call([v,_,b,M,x],Boolean);this.recordingService=new i_(this.E,this.z,d,this.V,this.C,this.Qe,this.St,this.Ue,this.ut,this.J,this.Vt,f,H,n,j,this.$e,this.so,this.xs,this.Ls),this.vi.addListener(this.recordingService),this.LT.addListener(this.recordingService),this.recordingService.init(),this.S.register(wf,()=>this.C.isReplayRecorded()&&!this.Xt.isUrlExcludedForSessionReplay()),this.S.register(Nl,()=>{this.recordingService.activateOnlineAssetsOnNextPageview(),this.w.emitRecordingContextChange()}),this.S.register(Af,()=>this.recordingService.getStaticResourceManagerStatus()),this.uo=new FS(this.w,this.C),this.vi.addListener(this.uo),this.Ei.enableRecordingContext(this.recordingService,this.C,this.uo),this.yu()}onAfterNaturalPageView(){var t;this.Xt.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.zO)===null||t===void 0||t.initState()}onStartTracking(){this.Vt.recover(),this.Yi(),this.C.isReplayRecorded()&&!this.Xt.isUrlExcludedForSessionReplay()&&(this.C.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.ic())}onArtificialPageViewEnd(){this.C.isReplayRecorded()&&!this.Xt.isUrlExcludedForSessionReplay()&&!this.C.isTemporarilyRecorded()&&this.Vt.sendLastMessageBeacon(),this.recordingService.clearStates(),this.fo()}onAfterArtificialPageView(){this.Yi(),this.C.isReplayRecorded()&&!this.Xt.isUrlExcludedForSessionReplay()?(this.C.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.ic()):this.recordingService.resetOnlineAssetsOnPageview()}onBeforeSessionRenewal(){this.recordingService.clearStates(),this.fo()}onOptout(){this.fo(),this.recordingService.onOptOut()}onReplayUnanonymizationConsentGranted(){this.Yi(),this.recordingService.triggerUnanonymizationConsentGranted(),this.w.emitRecordingContextChange()}onReplayUnanonymizationConsentWithdrawn(){this.Yi(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.w.emitRecordingContextChange()}onCollectStateChange(t,e){t===W.QUOTA_REACHED||t===W.ANALYTICS_ONLY&&e===Ve.ETR_OFF?(this.recordingService.clearEvents(),this.fo()):(this.J.setQueryParams({rt:csArray.prototype.join.call(this.C.getRecordingTypes(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents(),this.uo.onCollectStateChange(t,e))}onTargetingRulesMatched(){this.C.isReplayRecorded()&&!this.Xt.isUrlExcludedForSessionReplay()&&!this.recordingService.isRecording()&&this.ic()}onInitialDomStart(){this.recordingService.blockSendingEventsFromSerialization(),this.Vt.blockSendingLastMessage()}onInitialDomDone(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Vt.allowSendingLastMessage(),this.Xi.start(),this.recordingService.pushEvents()}onAfterReplayRecordingConsentGranted(){this.C.isReplayRecorded()&&!this.Xt.isUrlExcludedForSessionReplay()&&(this.C.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.ic(),this.recordingService.triggerRecordingForSessionGranted())}onAfterReplayRecordingConsentWithdrawn(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.fo())}yu(){var t,e,i,n,o,c;if(!((i=(e=(t=this.E.experimental)===null||t===void 0?void 0:t.sessionReplay)===null||e===void 0?void 0:e.shadowRoot)===null||i===void 0)&&i.filterByHostSelector){let h=(c=(o=(n=this.E.experimental)===null||n===void 0?void 0:n.sessionReplay)===null||o===void 0?void 0:o.shadowRoot)===null||c===void 0?void 0:c.filterByHostSelector;dt(h,d=>{de(d)&&as.setShadowRootFilter(f=>{try{return Ie.call(f.host,d)}catch{return!1}})})}}ic(){this.recordingService.start(),this.Vt.start(),this.w.emitRecordingContextChange()}fo(){this.recordingService.stop(),this.Vt.stop(),this.w.emitRecordingContextChange()}VT(t){let e="byteArray";this.J=this.Ht.create(`${this.E.getRecordingUri()}/${qh}`,e,t)}Yi(){var t;let e=this.nt.shouldUseAnonymization();this.ho.setAnonymization(e),(t=this.UT)===null||t===void 0||t.setAnonymization(e)}}return it([le("Recording.onStartTracking")],s.prototype,"onStartTracking",null),it([le("onInitialDomDone")],s.prototype,"onInitialDomDone",null),s})(),y_=(()=>{class s extends ee{validateArgs(t){return!!ut(t)}execute(){this.commandsService.applyFromImplementation(Nl[0],[],"SrmOnlineAssetsTemplate")}}return s})(),ui=(()=>{let s;return function(r){function t(n){return n.replayConsentRequiredForSession}r.isReplayConsentNeeded=t;function e(n){return n.collectState===W.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||n.collectState===W.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}r.isRecordingBlockedByConsent=e;function i(n){return n.collectState===W.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}r.isRecordingWithDrawn=i}(s||(s={})),s})(),Wr=(()=>{let s;return function(r){r[r.NOT_NEEDED=1]="NOT_NEEDED",r[r.NOT_EXPRESSED=2]="NOT_EXPRESSED",r[r.WITHDRAWN=3]="WITHDRAWN",r[r.GRANTED=4]="GRANTED"}(s||(s={})),s})(),E_=(()=>{class s{constructor(t,e,i,n){this.N=t,this.C=e,this.E=i,this.ds=n,this.Vg=!1}isNaturalPageViewSent(){return this.Vg}setNaturalPageViewSent(t){this.Vg=t}getTrackingContext(){let t=this.C.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let i=this.E.projectId,n=this.E.uxaDomain,o=t.pageNumber,c=this.ds.getPageViewType(),h=this.C.isReplayRecorded(),d=this.jT(t);return{projectId:i,sessionKey:e,pageNumber:o,pageViewType:c,isRecording:h,uxaDomain:n,recordingConsentState:d,...this.E.smbConfig}}getSessionKey(){let t=this.N.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}jT(t){return ui.isReplayConsentNeeded(this.E)?t.collectState===W.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Wr.NOT_EXPRESSED:t.collectState===W.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Wr.WITHDRAWN:Wr.GRANTED:Wr.NOT_NEEDED}}return s})(),v_=(()=>{class s{constructor(t){this.Mt=t,this.he=[]}handleCommand(t){if(Ce(t)&&(this.po(t),this.Mt.isNaturalPageViewSent())){let e=this.Mt.getTrackingContext();e!==null&&this.Ft(t,e)}}po(t){csArray.prototype.push.call(this.he,t)}executeRegisteredCallbacks(){let t=this.Mt.getTrackingContext();t!==null&&csArray.prototype.map.call(this.he,e=>this.Ft(e,t))}Ft(t,e){csSetTimeout(()=>{t(e)})}}return s})(),S_=(()=>{class s{constructor(t){this.Mt=t,this.Ki=[]}handleCommand(t){if(this.Mt.isNaturalPageViewSent())return this.HT(t);this.go(t)}HT(t){let e=this.Mt.getSessionKey();return this.Ug(t)&&e!==null&&this.Ft(t.callback,e),e}go(t){this.Ug(t)&&csArray.prototype.push.call(this.Ki,t.callback)}flushPendingCallbacks(){let t=this.Mt.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.Ki,e=>{this.Ft(e,t)}),this.Ki=[]}Ug(t){return t&&typeof t.callback=="function"}Ft(t,e){csSetTimeout(()=>{t(e)})}}return s})(),__=(()=>{class s{constructor(t,e){this.Z=t,this.Mt=e}onTrackingContextRequestCallback(t){let e=this.Mt.getTrackingContext();e!==null&&this.Z.sendToChildren(z.TrackingContextResultMessage,{...t,trackingContext:e})}onIframeIntegrationCallback(t){if(!this.Mt.isNaturalPageViewSent())return;let e=this.Mt.getTrackingContext();e!==null&&(t.trackingContext=e,this.Z.sendToChildren(z.IntegrationCallback,t))}sendAfterPageViewCallbackToChildren(){let t=this.Mt.getTrackingContext();if(t===null)return;let e={trackingContext:t,initiator:pr.AfterPageView};this.Z.sendToChildren(z.IntegrationCallback,e)}}return s})();function Tf(s,r){let{isRecording:t,pageNumber:e,projectId:i,siteId:n,uxaDomain:o,csLiteDomain:c}=s,h=/^(.+)\.(\d+)$/.exec(s.sessionKey),d;if(t&&h){let[,f,g]=h;n?d=`${c}/sites/${n}/player?uu=${f}&sn=${g}&pn=${e}`:d=`${o}/quick-playback/index.html?pid=${i}&uu=${f}&sn=${g}&pvid=${e}&recordingType=cs`,r.withTimestamp&&(d+=`&t=${K.now()-r.recordingStartTimestamp}`)}return{replayLink:d,isRecording:t}}var w_=(()=>{class s{constructor(t){this.Mt=t}handleCommand(t,e){qe(t)&&Ce(e)&&this.Ft(t,e)}Ft(t,e){csSetTimeout(()=>{let i=this.Mt.getTrackingContext();if(i){let n=Tf(i,t);e(n)}})}}return s})(),bf=(()=>{class s{constructor(){this.he=new Set}handleCommand(t,e){return!Ce(t)||this.he.has(t)?null:(this.he.add(t),e&&(this.Me=e,this.jg(t,e)),()=>this.he.delete(t))}executeCallbacks(t){this.BT(t)&&(this.Me=t,this.he.forEach(e=>this.jg(e,t)))}jg(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}BT(t){let{isRecording:e,recordingStartTimestamp:i,etrState:n,etrStatus:o,collectState:c}=t;return this.Me&&(this.Me.isRecording!==e||this.Me.recordingStartTimestamp!==i||this.Me.etrState!==n||this.Me.etrStatus!==o||this.Me.collectState!==c)}}return s})(),Lo=["afterPageView"],Rf=["getSessionKey"],Cf=["onRecordingContextChange","onRecordingStateChange"],If=["replay:link:generate"],A_=(()=>{class s{constructor(t,e,i,n,o,c,h,d){this.N=t,this.C=e,this.S=i,this.yt=n,this.Z=o,this.E=c,this.ds=h,this.Ei=d,this.rc=null}init(){this.Mt=new E_(this.N,this.C,this.E,this.ds),this.Eu=new v_(this.Mt),this.Hg=new S_(this.Mt),this.mo=new bf,this.FT=new w_(this.Mt),this.rc=new __(this.Z,this.Mt),this.yt.addListener(this.rc),this.S.register(Rf,t=>this.Hg.handleCommand(t)),this.S.register(Lo,t=>this.Eu.handleCommand(t)),this.S.register(Cf,t=>this.mo.handleCommand(t,this.Ei.getRecordingContext())),this.S.register(If,(t,e)=>{this.Lr&&this.FT.handleCommand({...t,recordingStartTimestamp:this.Ei.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.Mt.setNaturalPageViewSent(!0),this.Hg.flushPendingCallbacks(),this.Eu.executeRegisteredCallbacks(),(t=this.rc)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.Eu.executeRegisteredCallbacks(),(t=this.rc)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.mo.executeCallbacks(this.Ei.getRecordingContext())}setRecordingService(t){this.Lr=t}}return it([Fi({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})(),Ue=(()=>{class s{onEvent(t){this.onEventCallback=t}constructor(t,e,i,n){this.commandsService=t,this.condition=i,this.experimentalConfig=n,this.isStarted=!1,this.Bg=!1,this.args=e}start(){this.Bg||(this.onInit(),this.Bg=!0),this.isStarted||(this.onStart(),this.isStarted=!0)}stop(){this.isStarted&&(this.onStop(),this.isStarted=!1)}}return it([G()],s.prototype,"start",null),it([G()],s.prototype,"stop",null),s})(),T_=(()=>{class s extends Ue{validateArgs(t){return!!ut(t)}$T(){this.isStarted&&this.onEventCallback()}onInit(){this.commandsService.applyFromImplementation(Lo[0],[()=>this.$T()],"AfterPageViewTrigger")}onStart(){}onStop(){}}return s})(),Nc=(()=>{class s extends Ue{constructor(){super(...arguments),this.vu={pageviewTypes:["natural","artificial"]}}validateArgs(t){var e;return ut(t)&&qe(t)&&csArray.isArray(t.pageviewTypes)&&Cu(t.pageviewTypes,n=>U(n))||(Y.implementation(`BeforePageViewTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.pageviewTypes}, fallback to default config.`),this.args=this.vu),!0}onInit(){this.zT=this.args.pageviewTypes}onPageView(t){this.isStarted&&csArray.prototype.indexOf.call(this.zT,t)!==-1&&this.onEventCallback()}onStart(){}onStop(){}}return s})(),Wh="once per pageview",b_="always",R_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Tt=!0}validateArgs(t){if(ut(t)){let e=U(t.selector),i=t.frequency?t.frequency===Wh||t.frequency===b_:!0;return e&&i}return!1}onInit(){if(!de(this.args.selector)){this.Tt=!1;return}this.yo=this.args.frequency?this.args.frequency===Wh:!0,this.G=new os((t,e)=>this.R(t,e))}onStart(){this.Tt&&this.G.observe(this.args.selector)}onStop(){this.Tt&&(this.G.processPendingMutations(),this.G.disconnect())}R(t,e){e==="added"&&(this.yo?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach(i=>this.onEventCallback({element:i})))}}return s})(),Yh="once per pageview",C_="always",I_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Su=!1,this.es=!1,this.yo=!0}validateArgs(t){if(ut(t)){let e=U(t.selector),i=t.frequency?t.frequency===Yh||t.frequency===C_:!0;return e&&i}return!1}onInit(){if(!mo.isSupported())return;this.es=!0,this.yo=this.args.frequency?this.args.frequency===Yh:!0;let t=this.Fg();this.W=new os((e,i)=>{if(i==="initial")for(let n of e)Rt.isVisibleInViewportInForeground(n)&&(n[this._u]=!0);this.wu(e)},{closest:t}),this.kt=new mo({delay:0,trackOnce:!1,reobserve:!0,allowSameMatch:!0})}onStart(){!this.es||this.isStarted||(this._u=csSymbol("skipElement"),this.Su=!1,this.kt.start((t,e)=>this.Au(t,e)),this.W.observe(this.args.selector))}onStop(){!this.es||!this.isStarted||(this.W.disconnect(),this.kt.stop())}Au(t,e){if(this.isStarted&&e===Zr.VisibleInViewPort){let n=this.Fg()?t.closest(this.args.selector):t;if(n){if(n&&n[this._u]){delete n[this._u];return}this.yo&&this.stop(),(!this.yo||!this.Su)&&(this.Su=!0,this.onEventCallback({element:n}))}}}wu(t){for(let e of t)this.kt.observe(e)}Fg(){var t;return((t=this.experimentalConfig)===null||t===void 0?void 0:t.useClosestElement)!==!1}}return s})(),P_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Tu=!1,this.Tt=!0,this.gi=!0,this.Si={boundElement:document,type:"click",listener:t=>{if(this.Tu){this.Tu=!1;return}this.onClickOrTap(t)}},this.GT=(t,e)=>{t.type===Zt.TAP&&(this.Tu=!0,this.onClickOrTap(e))}}validateArgs(t){return ut(t)?U(t.selector):!1}onClickOrTap({target:t}){if(Nt(t)&&pi(t)){let e=gr(t,this.args.selector);e&&this.onEventCallback({element:e})}}onInit(){if(!de(this.args.selector)){this.Tt=!1;return}this.Jn=new af(this.GT)}onStart(){var t;this.Tt&&(Ut(this.Si,this.gi),(t=this.Jn)===null||t===void 0||t.observe())}onStop(){var t;this.Tt&&(jt(this.Si,this.gi),(t=this.Jn)===null||t===void 0||t.disconnect())}}return it([G("onClickOrTap"),xt()],s.prototype,"onClickOrTap",null),s})(),O_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Tt=!0,this.$g=!1}validateArgs(t){return ut(t)?U(t.selector):!1}onInit(){if(!de(this.args.selector)){this.Tt=!1;return}this.G=new os((t,e)=>{this.R(t,e)})}onStart(){this.Tt&&(this.G.observe(this.args.selector),this.$g=!0)}onStop(){this.Tt&&(this.G.processPendingMutations(),this.G.disconnect())}R(t,e){this.$g?e==="added"&&new Set(t).forEach(i=>this.onEventCallback({element:i})):this.onEventCallback({element:t[0]})}}return s})(),N_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Tt=!0}validateArgs(t){return ut(t)?U(t.selector):!1}onInit(){if(!de(this.args.selector)){this.Tt=!1;return}this.W=new os(t=>this.qT(t)),this.U=new as(t=>this.WT(t))}onStart(){this.Tt&&(this.nc=csSymbol("MatchingElement"),this.W.observe(this.args.selector),this.U.observe())}onStop(){this.Tt&&(this.W.processPendingMutations(),this.W.disconnect(),this.U.disconnect())}qT(t){new Set(t).forEach(e=>this.YT(e))}WT(t){let e=el(t,n=>n.removedNodes),i=[];for(let n of e)csArray.prototype.push.call(i,...this.XT(n));new Set(i).forEach(n=>this.onEventCallback({element:n}))}YT(t){t[this.nc]=!0}XT(t){let e=[];return Re(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{i[this.nc]&&(Rt.isConnected(i)?Ie.call(i,this.args.selector)||delete i[this.nc]:delete i[this.nc],csArray.prototype.push.call(e,i))}),e}}return s})(),M_=(()=>{class s extends Ue{constructor(){super(...arguments),this.oc=!0}validateArgs(t){return ut(t)?U(t.selector):!1}onInit(){if(!de(this.args.selector)||!mo.isSupported()){this.oc=!1;return}this.kt=new mo({delay:0,trackOnce:!0,reobserve:!0}),this.W=new os(t=>this.wu(t),{closest:!0})}wu(t){for(let e of t)this.kt.observe(e)}Au(t,e){if(this.isStarted&&e===Zr.VisibleInViewPort){let i=gr(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.oc=!1)}}onStart(){this.oc&&(this.kt.start((t,e)=>this.Au(t,e)),this.W.observe(this.args.selector))}onStop(){this.oc&&(this.kt.stop(),this.W.disconnect())}}return s})(),D_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Tt=!0,this.gi=!0,this.Si={boundElement:document,type:"submit",listener:t=>this.submitListener(t)}}validateArgs(t){return ut(t)?U(t.selector):!1}submitListener({target:t}){Nt(t)&&pi(t)&&Ie.call(t,this.args.selector)&&this.onEventCallback({element:t})}onInit(){de(this.args.selector)||(this.Tt=!1)}onStart(){this.Tt&&Ut(this.Si,this.gi)}onStop(){this.Tt&&jt(this.Si,this.gi)}}return it([G("submitListener"),xt()],s.prototype,"submitListener",null),s})(),k_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Si={boundElement:window,type:"hashchange",listener:t=>this.hashChangedListener(t)}}validateArgs(t){return!!ut(t)}hashChangedListener(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()}onInit(){}onStart(){Ut(this.Si)}onStop(){jt(this.Si)}}return it([G("hashChangedListener"),xt()],s.prototype,"hashChangedListener",null),s})(),x_=(()=>{class s{static KT(){var t,e,i,n;if("history"in window){let o=Object.getOwnPropertyDescriptors(history);if(!((t=o.pushState)===null||t===void 0)&&t.writable&&(!((e=o.replaceState)===null||e===void 0)&&e.writable))return history}if(History.prototype){let o=Object.getOwnPropertyDescriptors(History.prototype);if(!((i=o.pushState)===null||i===void 0)&&i.writable&&(!((n=o.replaceState)===null||n===void 0)&&n.writable))return History.prototype}Tt.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")}static bu(){let t=s.KT();s.Eo===null&&Ce(t==null?void 0:t.pushState)&&(s.Eo=Us({target:t,methodName:"pushState",hook:({args:e})=>{s.zg("pushstate",e)}})),s.vo===null&&Ce(t==null?void 0:t.replaceState)&&(s.vo=Us({target:t,methodName:"replaceState",hook:({args:e})=>{s.zg("replacestate",e)}}))}static On(t){var e,i;s.Pe.add(t),s.Pe.size===1&&((s.Eo===null||s.vo===null)&&s.bu(),(e=s.Eo)===null||e===void 0||e.activate(),(i=s.vo)===null||i===void 0||i.activate(),Ut(s.Gg),Ut(s.qg))}static Mn(t){var e,i;s.Pe.delete(t),s.Pe.size===0&&((e=s.Eo)===null||e===void 0||e.deactivate(),(i=s.vo)===null||i===void 0||i.deactivate(),jt(s.Gg),jt(s.qg))}static zg(t,e){let i={type:t,state:e[0]};U(e[2])&&(i.url=e[2]),s.Nr(i)}static popstateListener(t){s.Nr({type:"popstate",state:t.state})}static hashchangeListener(t){s.Nr({type:"hashchange",state:null,url:t.newURL})}static Nr(t){csArray.prototype.forEach.call(qs(s.Pe),e=>{e(t)})}constructor(t){this.R=t}observe(){s.On(this.R)}disconnect(){s.Mn(this.R)}}return s.Eo=null,s.vo=null,s.Gg={boundElement:wt,type:"popstate",listener:r=>s.popstateListener(r)},s.qg={boundElement:wt,type:"hashchange",listener:r=>s.hashchangeListener(r)},s.Pe=new Set,St([G("popstateListener"),xt()],s,"popstateListener",null),St([G("hashchangeListener"),xt()],s,"hashchangeListener",null),s})(),L_=(()=>{class s extends Ue{validateArgs(t){if(ut(t)){let e=U(t.useDebounce),i=t.useDebounce==="yes"?Bt(t==null?void 0:t.window):!0,n=U(t.listeners);return e&&i&&n}return!1}onInit(){this.args.useDebounce==="yes"?this.ae=so(()=>{this.onEventCallback()},this.args.window):this.ae=this.onEventCallback,this.G=new x_(t=>this.JT(t))}Wg(){return window.location.href}JT(t){let e=t.type==="replacestate"&&this.args.listeners.indexOf("replaceState")===-1,i=t.type==="hashchange"&&this.args.listeners.indexOf("hashchange")===-1;if(e||i)return;let n=this.Wg();this.Yg!==n&&(this.Yg=n,this.ae())}onStart(){this.Yg=this.Wg(),this.G.observe()}onStop(){this.G.disconnect()}}return s})(),V_=(()=>{class s extends Ue{constructor(){super(...arguments),this.Tt=!0,this.Xg={boundElement:document,type:"mouseover",listener:t=>this.mouseoverListener(t)},this.Kg={boundElement:document,type:"mouseleave",listener:t=>this.mouseleaveListener(t)}}validateArgs(t){return ut(t)?U(t.selector):!1}onInit(){de(this.args.selector)||(this.Tt=!1)}mouseleaveListener({target:t}){Nt(t)&&pi(t)&&t[this.ac]&&delete t[this.ac]}mouseoverListener({target:t}){if(Nt(t)&&pi(t)){let e=gr(t,this.args.selector);e!==null&&!e[this.ac]&&(e[this.ac]=!0,this.onEventCallback({element:e}))}}onStart(){this.Tt&&(this.ac=csSymbol("Hovered"),Ut(this.Kg,!0),Ut(this.Xg,!0))}onStop(){this.Tt&&(jt(this.Xg),jt(this.Kg))}}return it([G("mouseleaveListener"),xt()],s.prototype,"mouseleaveListener",null),it([G("mouseoverListener"),xt()],s.prototype,"mouseoverListener",null),s})(),U_=(()=>{class s{static readyStateChangeListener(t){csArray.prototype.forEach.call(qs(s.callbacks),e=>e(t))}static Bh(t){s.callbacks.has(t)||(s.callbacks.add(t),s.callbacks.size===1&&Ut(s.eventHandler,!1))}static Fn(t){s.callbacks.delete(t),s.callbacks.size===0&&jt(s.eventHandler,!1)}constructor(t){this.R=t}observe(){s.Bh(this.R)}disconnect(){s.Fn(this.R)}}return s.callbacks=new Set,s.eventHandler={boundElement:wt.document,type:"readystatechange",listener:s.readyStateChangeListener},St([G("readyStateChangeListener"),xt()],s,"readyStateChangeListener",null),s})(),j_=(()=>{class s extends Ue{constructor(){super(...arguments),this.vu={state:"Any"}}validateArgs(t){var e;return ut(t)&&U(t.state)||(Y.implementation(`PageStateTrigger has wrong argument: ${(e=this.args)===null||e===void 0?void 0:e.state}, fallback to default config.`),this.args=this.vu),!0}onInit(){this.xt=this.args.state.toLowerCase(),this.G=new U_(()=>{this.Jg(this.xt,document.readyState)&&(this.onEventCallback(),this.G.disconnect())})}onStart(){this.Jg(this.xt,document.readyState)?this.onEventCallback():this.G.observe()}onStop(){this.G.disconnect()}Jg(t,e){let i=s.Qg[e];return s.Qg[t]<=i}}return s.Qg={complete:3,interactive:2,loading:1,any:0},s})(),H_=(()=>{class s{constructor(t,e){this.S=t,this.QT=e,this.ZT={ApiErrorsMaskUrl:fE,NetworkRequestMaskUrls:ev,ArtificialPageview:Pd,BlockAllowListForSr:TE,CustomError:bE,CustomVariable:CE,DataCsEncrypt:PE,DataCsOverride:NE,DynamicVariable:jE,EcTransactionAll:zE,EcTransactionCreate:GE,EcTransactionItemsAdd:qE,EcTransactionSend:WE,ElementUnmasking:YE,EventTriggerRecordingPage:ZE,EventTriggerRecordingSession:tv,PageEvent:sv,PiiMasking:iv,RecordingEventTrigger:rv,SetPath:nv,SetQuery:ov,SrmOnlineAssets:y_},this.Vr={AfterPageView:T_,ElementAdded:R_,ElementBecomesVisible:I_,ElementExist:O_,ElementRemoved:N_,ElementVisibility:M_,ElementClick:P_,FormSubmit:D_,HashChange:k_,HistoryChange:L_,Mouseover:V_,PageState:j_,BeforePageView:Nc}}tb(t){let e=this.ZT[t.name];return e?new e(this.S,t.args):(Y.error(`Implementations: template ${t.name} does not exist`),null)}eb(t){var e;let i=this.Vr[t.name];if(!i)return Y.error(`Implementations: trigger ${t.name} does not exist`),null;let n=(e=this.QT)===null||e===void 0?void 0:e[t.name];return new i(this.S,t.args,t.condition,n)}parse(t){let e=[];for(let{triggers:i,template:n}of t){let o=this.tb(n);if(!o)continue;if(!o.validateArgs(o.args)){Y.implementation(`${n.name} has wrong argument.`);continue}for(let h of i){let d=this.eb(h);if(!d)continue;if(!d.validateArgs(d.args)){Y.implementation(`${h.name} has wrong argument.`);continue}csArray.prototype.push.call(e,{name:`${h.name}_${n.name}`,trigger:d,template:o})}}return e}}return s})();function B_(s){return csArray.isArray(s)?csArray.prototype.map.call(s,yd):yl(s)?[s]:csArray.from(Ed(s))}function F_(s,r){try{let e=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(s);if(!e)return null;let i=e[1],n=e[2],o=Sd(r,B_(i));if(typeof o!="object"||o===null)return null;let c=[];return csArray.prototype.forEach.call(Object.keys(o),h=>{let d=o[h];typeof d=="object"&&d!==null&&!csArray.isArray(d)&&n in d&&csArray.prototype.push.call(c,d)}),c}catch{return null}}function $_(s,r){let e=/^\[([0-9]+):([0-9+])\]$/.exec(s);if(!e)return null;let i=parseInt(e[1],10),n=parseInt(e[2],10);return n<=i||n>r.length?null:csArray.prototype.slice.call(r,i,n)}function z_(s,r){let t=csString.prototype.split.call(s,"|");if(t.length>2)return null;let e=F_(csString.prototype.trim.call(t[0]),r);return t.length===2?e===null?null:$_(csString.prototype.trim.call(t[1]),e):e}var G_=(()=>{class s{constructor(t,e,i,n){this.sb=t,this.M=i,this.Me={window,document,location,cookies:{}},this.Vr=new Set,this.ib=new H_(e,n)}init(){Object.defineProperty(this.Me,"cookies",{get:()=>this.rb()});let t=this.ib.parse(this.sb);for(let{name:e,trigger:i,template:n}of t)i instanceof Nc&&n instanceof Pd||(this.Vr.add(i),i.onEvent(o=>{this.onTriggerEvent(o,n),rt.counters.CSTCSnippetUsed.count(e)}))}start(t=!1){this.Vr.forEach(e=>{e.condition&&!Ad(e.condition,this.Me)||(t?this.M.schedule(()=>{e.start()}):e.start())})}stop(){this.Vr.forEach(t=>{t.stop()})}onBeforePageView(t){this.Vr.forEach(e=>{if(e instanceof Nc){e.onPageView(t);return}})}onTriggerEvent(t,e){let i=this.nb(t),n={...this.Me,...i},o=[];if(Hy(e.args)&&U(e.args.iterable)&&e.args.iterable.length>0){let c=z_(e.args.iterable,n);if(Nt(c)){let h=csArray.prototype.map.call(c,d=>({...n,$:d}));csArray.prototype.push.call(o,...h)}}else csArray.prototype.push.call(o,n);if(e instanceof fn){for(let c of o)e.execute(e.args,c);return}for(let c of o){let h=vc(e.args,c);h&&e.execute(h)}}rb(){let t;try{t=document.cookie}catch{t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(e,i)=>{let[n,o]=csString.prototype.split.call(i,"=");return o!==void 0&&(e[n]=o),e},{})}nb(t){let e={...t};for(let i in e)Lt(e[i])&&($.isMaskedElement(e[i])||$.isMaskedElementChild(e[i]))&&delete e[i];return e}}return it([le("implementationsService.start")],s.prototype,"start",null),it([G()],s.prototype,"onTriggerEvent",null),s})(),Pf=(()=>{class s{constructor(t,e,i,n){this.Us=new G_(t,e,i,n)}init(){this.Us.init()}onInitTracking(){this.Us.start(!0)}onOptout(){this.Us.stop()}onBeforeSessionRenewal(){this.Us.stop(),this.Us.start()}onArtificialPageViewEnd(){this.Us.stop()}onBeforeArtificialPageView(){this.Us.start(),this.Us.onBeforePageView("artificial")}onBeforeNaturalPageView(){this.Us.onBeforePageView("natural")}}return s})(),Ml=["optout"],Of=["optin"],q_=(()=>{class s{constructor(t,e){this.S=t,this.hs=e}init(){this.S.register(Ml,()=>{this.hs.activate()})}}return s})(),Yr="_cs_optout",W_=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.pt=i}get(){return this.E.cookielessTrackingEnabled?this.pt.getItem(Yr):this.I.get(Yr)}set(t){this.E.cookielessTrackingEnabled?this.pt.setItem(Yr,t):this.I.set(Yr,t,Zc)}}return s})(),Xh="1",Y_=(()=>{class s{constructor(t,e,i){this.w=t,this.Dt=e,this.gt=i}init(){!this.isActive()&&this.ob()&&this.activate()}isActive(){return this.gt.get()===Xh}activate(){this.w.emitOptout(),this.gt.set(Xh)}ob(){return csString.prototype.indexOf.call(this.Dt.href,Yr)>0}}return s})(),X_=(()=>{class s{constructor(){this.Ve=null,this.ab=1}startInterval(){this.Ve=window.csSetInterval(()=>{let t=this.ab++;if(this.flush(`interval.${t}`),t>=5){this.stopInterval();return}},5e3)}flush(t){rt.counters.tasks.flush(t),rt.counters.longTasks.flush(t)}clear(){rt.counters.tasks.reset(),rt.counters.longTasks.reset(),this.stopInterval()}stopInterval(){this.Ve&&(csClearInterval(this.Ve),this.Ve=null)}}return s})(),K_=(()=>{class s{constructor(){this.So=!1,this._o=null,this.js=new X_}onStartTracking(){this.cb()}cb(){let t=csArray.prototype.filter.call(performance.getEntriesByType("resource"),e=>{var i;if(e.initiatorType!=="script")return!1;let n=csString.prototype.split.call(e.name,"/")[2]||"",o=(i=window.CSCurrentScript)===null||i===void 0?void 0:i.src;return o?o===e.name:n==="t.contentsquare.net"});csArray.prototype.forEach.call(t,e=>{if(e.transferSize===0)return;let i=e.responseEnd-e.responseStart,n=e.transferSize;i>=0&&rt.counters.downloadTime.push(i),n>=0&&rt.counters.transferSize.push(n)}),rt.counters.downloadTime.count>0&&rt.counters.downloadTime.flush(),rt.counters.transferSize.count>0&&rt.counters.transferSize.flush()}Zg(){let t=zi.shadowRootsCount;t!==void 0&&rt.counters.dom.add("shadow-dom",t),rt.counters.mutations.flush(),rt.counters.dom.flush(),rt.counters.blockingTime.flush(),rt.counters.inpContribution.flush()}onBeforeArtificialPageView(){this.Zg(),this._o&&csClearTimeout(this._o),this.js.stopInterval(),this.So=!0}onBeforeNaturalPageView(){this.Zg()}onAfterNaturalPageView(t){t===Bs.Natural?(this.js.flush("boot"),this.js.startInterval()):(this._o&&csClearTimeout(this._o),this.js.stopInterval(),this.So=!0)}onInitialDomStart(){this.So||this.js.stopInterval()}onInitialDomDone(){this.So||(this.So=!0,this.js.flush("initial-dom"),this._o=window.csSetTimeout(()=>{this.js.flush("post-initial-dom"),this.js.startInterval()},5e3))}onOptout(){this.js.clear()}}return s})(),J_=(()=>{let s;return function(r){r.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),Q_=(()=>{class s{constructor(){}static init(t){(!this.Ru||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let i=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Ru=new Map,i){let n=csString.prototype.split.call(i,".");for(let o=0;o<n.length;o++){let[c,h]=csString.prototype.split.call(n[o],"=");this.Ru.set(c,h||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.Ru)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(J_.COMPRESSION_DISABLED)}static Log(t){return(e,i,n)=>{var o;let c=i.toString(),h=`${(o=e.constructor)===null||o===void 0?void 0:o.name}.${c}`,d=n.value;Z_(s.getString("debugLog"),t)&&(n.value=function(...f){return console.log(h,...f),d.bind(this)(...f)})}}}return s})();function Z_(s,r){var t;return s==null?!1:s===r||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+r+")(,|$)")))===null||t===void 0)&&t.length)}var tw=(()=>{class s{constructor(t){this.lb=t,this.tm=[],this.Cu={},this.hb=0}static async create(t,e={}){let i=new s(t),n;return csArray.prototype.forEach.call(Object.entries(e),([o,c])=>{e[o]=c,i.register(c)}),await i.Ur().catch(o=>{Tt.warn("Failed to start worker: "+o.toString()),n=new t}),new Proxy(i,{get(o,c){return c==="__worker"?i.Se:t.prototype[c]instanceof Function?(...h)=>n?Promise.resolve(n[c](...h)):i.em(c,h):n?Promise.resolve(n[c]):i.em(c,[])}})}em(t,e){let i=++this.hb;return new Promise((n,o)=>{this.Cu[i]=(c,h)=>{delete this.Cu[i],c?o(c):n(h)},this.Se.postMessage({id:i,command:t,params:e})})}register(t){csArray.prototype.push.call(this.tm,t.toString())}Ur(){try{let t=Kh.toString()+`
`+csArray.prototype.join.call(this.tm,`
`)+`

const klass = (${this.lb.toString()});

${Kh.name}()`,e=new Blob([t],{type:"application/javascript"}),i=csURL.createObjectURL(e);this.Se=new Worker(i),this.Se.addEventListener("message",n=>{var o,c,h,d,f;if(n.data!=="ping"){if(!((o=n.data)===null||o===void 0)&&o.critical||!n.data.id){Tt.error("Worker error:",(h=(c=n.data)===null||c===void 0?void 0:c.critical)!==null&&h!==void 0?h:"No ID");return}(f=(d=this.Cu)[n.data.id])===null||f===void 0||f.call(d,n.data.error,n.data.result)}})}catch(t){return Promise.reject(t)}return new Promise((t,e)=>{this.Se.onerror=i=>e(new Error(i.message)),this.Se.onmessage=()=>{this.Se.onmessage=this.Se.onerror=null,t()}})}}return s})();function Kh(){let s=new klass;self.postMessage("ping"),self.onmessage=r=>{var t,e,i;if(!(!((t=r.data)===null||t===void 0)&&t.command))return self.postMessage({critical:"Invalid command",id:(e=r.data)===null||e===void 0?void 0:e.id,command:(i=r.data)===null||i===void 0?void 0:i.command});Promise.resolve().then(()=>{let n=s[r.data.command];return typeof n=="function"?n.apply(s,r.data.params):n}).then(n=>{var o;self.postMessage({result:n,id:r.data.id,command:(o=r.data)===null||o===void 0?void 0:o.command})},n=>{var o,c;self.postMessage({error:n,id:(o=r.data)===null||o===void 0?void 0:o.id,command:(c=r.data)===null||c===void 0?void 0:c.command})})}}function Mc(){function i(a){let S=a.length;for(;--S>=0;)a[S]=0}let n=0,o=1,c=2,h=3,d=258,f=29,g=256,v=g+1+f,_=30,b=19,M=2*v+1,x=15,N=16,C=7,H=256,j=16,O=17,et=18,Z=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Vt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Kt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),he=512,I=new Array((v+2)*2);i(I);let X=new Array(_*2);i(X);let tt=new Array(he);i(tt);let ot=new Array(d-h+1);i(ot);let Mt=new Array(f);i(Mt);let Ft=new Array(_);i(Ft);function We(a,S,w,A,m){this.static_tree=a,this.extra_bits=S,this.extra_base=w,this.elems=A,this.max_length=m,this.has_stree=a&&a.length}let vs,Ys,ge;function Ye(a,S){this.dyn_tree=a,this.max_code=0,this.stat_desc=S}let Pe=a=>a<256?tt[a]:tt[256+(a>>>7)],fe=(a,S)=>{a.pending_buf[a.pending++]=S&255,a.pending_buf[a.pending++]=S>>>8&255},Ct=(a,S,w)=>{a.bi_valid>N-w?(a.bi_buf|=S<<a.bi_valid&65535,fe(a,a.bi_buf),a.bi_buf=S>>N-a.bi_valid,a.bi_valid+=w-N):(a.bi_buf|=S<<a.bi_valid&65535,a.bi_valid+=w)},At=(a,S,w)=>{Ct(a,w[S*2],w[S*2+1])},B=(a,S)=>{let w=0;do w|=a&1,a>>>=1,w<<=1;while(--S>0);return w>>>1},Rr=a=>{a.bi_valid===16?(fe(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},mi=(a,S)=>{let w=S.dyn_tree,A=S.max_code,m=S.stat_desc.static_tree,D=S.stat_desc.has_stree,P=S.stat_desc.extra_bits,k=S.stat_desc.extra_base,ht=S.stat_desc.max_length,st,re,Ee,It,Ns,ti,jn=0;for(It=0;It<=x;It++)a.bl_count[It]=0;for(w[a.heap[a.heap_max]*2+1]=0,st=a.heap_max+1;st<M;st++)re=a.heap[st],It=w[w[re*2+1]*2+1]+1,It>ht&&(It=ht,jn++),w[re*2+1]=It,!(re>A)&&(a.bl_count[It]++,Ns=0,re>=k&&(Ns=P[re-k]),ti=w[re*2],a.opt_len+=ti*(It+Ns),D&&(a.static_len+=ti*(m[re*2+1]+Ns)));if(jn!==0){do{for(It=ht-1;a.bl_count[It]===0;)It--;a.bl_count[It]--,a.bl_count[It+1]+=2,a.bl_count[ht]--,jn-=2}while(jn>0);for(It=ht;It!==0;It--)for(re=a.bl_count[It];re!==0;)Ee=a.heap[--st],!(Ee>A)&&(w[Ee*2+1]!==It&&(a.opt_len+=(It-w[Ee*2+1])*w[Ee*2],w[Ee*2+1]=It),re--)}},Xs=(a,S,w)=>{let A=new Array(x+1),m=0,D,P;for(D=1;D<=x;D++)A[D]=m=m+w[D-1]<<1;for(P=0;P<=S;P++){let k=a[P*2+1];k!==0&&(a[P*2]=B(A[k]++,k))}},Cr=()=>{let a,S,w,A,m,D=new Array(x+1);for(w=0,A=0;A<f-1;A++)for(Mt[A]=w,a=0;a<1<<Z[A];a++)ot[w++]=A;for(ot[w-1]=A,m=0,A=0;A<16;A++)for(Ft[A]=m,a=0;a<1<<lt[A];a++)tt[m++]=A;for(m>>=7;A<_;A++)for(Ft[A]=m<<7,a=0;a<1<<lt[A]-7;a++)tt[256+m++]=A;for(S=0;S<=x;S++)D[S]=0;for(a=0;a<=143;)I[a*2+1]=8,a++,D[8]++;for(;a<=255;)I[a*2+1]=9,a++,D[9]++;for(;a<=279;)I[a*2+1]=7,a++,D[7]++;for(;a<=287;)I[a*2+1]=8,a++,D[8]++;for(Xs(I,v+1,D),a=0;a<_;a++)X[a*2+1]=5,X[a*2]=B(a,5);vs=new We(I,Z,g+1,v,x),Ys=new We(X,lt,0,_,x),ge=new We(new Array(0),Vt,0,b,C)},qi=a=>{let S;for(S=0;S<v;S++)a.dyn_ltree[S*2]=0;for(S=0;S<_;S++)a.dyn_dtree[S*2]=0;for(S=0;S<b;S++)a.bl_tree[S*2]=0;a.dyn_ltree[H*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0},Wi=a=>{a.bi_valid>8?fe(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},Yi=(a,S,w,A)=>{Wi(a),A&&(fe(a,w),fe(a,~w)),a.pending_buf.set(a.window.subarray(S,S+w),a.pending),a.pending+=w},Ss=(a,S,w,A)=>{let m=S*2,D=w*2;return a[m]<a[D]||a[m]===a[D]&&A[S]<=A[w]},_e=(a,S,w)=>{let A=a.heap[w],m=w<<1;for(;m<=a.heap_len&&(m<a.heap_len&&Ss(S,a.heap[m+1],a.heap[m],a.depth)&&m++,!Ss(S,A,a.heap[m],a.depth));)a.heap[w]=a.heap[m],w=m,m<<=1;a.heap[w]=A},yi=(a,S,w)=>{let A,m,D=0,P,k;if(a.last_lit!==0)do A=a.pending_buf[a.d_buf+D*2]<<8|a.pending_buf[a.d_buf+D*2+1],m=a.pending_buf[a.l_buf+D],D++,A===0?At(a,m,S):(P=ot[m],At(a,P+g+1,S),k=Z[P],k!==0&&(m-=Mt[P],Ct(a,m,k)),A--,P=Pe(A),At(a,P,w),k=lt[P],k!==0&&(A-=Ft[P],Ct(a,A,k)));while(D<a.last_lit);At(a,H,S)},_s=(a,S)=>{let w=S.dyn_tree,A=S.stat_desc.static_tree,m=S.stat_desc.has_stree,D=S.stat_desc.elems,P,k,ht=-1,st;for(a.heap_len=0,a.heap_max=M,P=0;P<D;P++)w[P*2]!==0?(a.heap[++a.heap_len]=ht=P,a.depth[P]=0):w[P*2+1]=0;for(;a.heap_len<2;)st=a.heap[++a.heap_len]=ht<2?++ht:0,w[st*2]=1,a.depth[st]=0,a.opt_len--,m&&(a.static_len-=A[st*2+1]);for(S.max_code=ht,P=a.heap_len>>1;P>=1;P--)_e(a,w,P);st=D;do P=a.heap[1],a.heap[1]=a.heap[a.heap_len--],_e(a,w,1),k=a.heap[1],a.heap[--a.heap_max]=P,a.heap[--a.heap_max]=k,w[st*2]=w[P*2]+w[k*2],a.depth[st]=(a.depth[P]>=a.depth[k]?a.depth[P]:a.depth[k])+1,w[P*2+1]=w[k*2+1]=st,a.heap[1]=st++,_e(a,w,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],mi(a,S),Xs(w,ht,a.bl_count)},Wt=(a,S,w)=>{let A,m=-1,D,P=S[0*2+1],k=0,ht=7,st=4;for(P===0&&(ht=138,st=3),S[(w+1)*2+1]=65535,A=0;A<=w;A++)D=P,P=S[(A+1)*2+1],!(++k<ht&&D===P)&&(k<st?a.bl_tree[D*2]+=k:D!==0?(D!==m&&a.bl_tree[D*2]++,a.bl_tree[j*2]++):k<=10?a.bl_tree[O*2]++:a.bl_tree[et*2]++,k=0,m=D,P===0?(ht=138,st=3):D===P?(ht=6,st=3):(ht=7,st=4))},Jt=(a,S,w)=>{let A,m=-1,D,P=S[0*2+1],k=0,ht=7,st=4;for(P===0&&(ht=138,st=3),A=0;A<=w;A++)if(D=P,P=S[(A+1)*2+1],!(++k<ht&&D===P)){if(k<st)do At(a,D,a.bl_tree);while(--k!==0);else D!==0?(D!==m&&(At(a,D,a.bl_tree),k--),At(a,j,a.bl_tree),Ct(a,k-3,2)):k<=10?(At(a,O,a.bl_tree),Ct(a,k-3,3)):(At(a,et,a.bl_tree),Ct(a,k-11,7));k=0,m=D,P===0?(ht=138,st=3):D===P?(ht=6,st=3):(ht=7,st=4)}},se=a=>{let S;for(Wt(a,a.dyn_ltree,a.l_desc.max_code),Wt(a,a.dyn_dtree,a.d_desc.max_code),_s(a,a.bl_desc),S=b-1;S>=3&&a.bl_tree[Kt[S]*2+1]===0;S--);return a.opt_len+=3*(S+1)+5+5+4,S},ie=(a,S,w,A)=>{let m;for(Ct(a,S-257,5),Ct(a,w-1,5),Ct(a,A-4,4),m=0;m<A;m++)Ct(a,a.bl_tree[Kt[m]*2+1],3);Jt(a,a.dyn_ltree,S-1),Jt(a,a.dyn_dtree,w-1)},jo=a=>{let S=4093624447,w;for(w=0;w<=31;w++,S>>>=1)if(S&1&&a.dyn_ltree[w*2]!==0)return 0;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return 1;for(w=32;w<g;w++)if(a.dyn_ltree[w*2]!==0)return 1;return 0},Ir=!1,Ho=a=>{Ir||(Cr(),Ir=!0),a.l_desc=new Ye(a.dyn_ltree,vs),a.d_desc=new Ye(a.dyn_dtree,Ys),a.bl_desc=new Ye(a.bl_tree,ge),a.bi_buf=0,a.bi_valid=0,qi(a)},Pr=(a,S,w,A)=>{Ct(a,(n<<1)+(A?1:0),3),Yi(a,S,w,!0)},_t=a=>{Ct(a,o<<1,3),At(a,H,I),Rr(a)},Ei=(a,S,w,A)=>{let m,D,P=0;a.level>0?(a.strm.data_type===2&&(a.strm.data_type=jo(a)),_s(a,a.l_desc),_s(a,a.d_desc),P=se(a),m=a.opt_len+3+7>>>3,D=a.static_len+3+7>>>3,D<=m&&(m=D)):m=D=w+5,w+4<=m&&S!==-1?Pr(a,S,w,A):a.strategy===4||D===m?(Ct(a,(o<<1)+(A?1:0),3),yi(a,I,X)):(Ct(a,(c<<1)+(A?1:0),3),ie(a,a.l_desc.max_code+1,a.d_desc.max_code+1,P+1),yi(a,a.dyn_ltree,a.dyn_dtree)),qi(a),A&&Wi(a)},Xi=(a,S,w)=>(a.pending_buf[a.d_buf+a.last_lit*2]=S>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=S&255,a.pending_buf[a.l_buf+a.last_lit]=w&255,a.last_lit++,S===0?a.dyn_ltree[w*2]++:(a.matches++,S--,a.dyn_ltree[(ot[w]+g+1)*2]++,a.dyn_dtree[Pe(S)*2]++),a.last_lit===a.lit_bufsize-1);var Bo=Ho,An=Pr,Fo=Ei,$o=Xi,zo=_t,Go={_tr_init:Bo,_tr_stored_block:An,_tr_flush_block:Fo,_tr_tally:$o,_tr_align:zo},Tn=(a,S,w,A)=>{let m=a&65535|0,D=a>>>16&65535|0,P=0;for(;w!==0;){P=w>2e3?2e3:w,w-=P;do m=m+S[A++]|0,D=D+m|0;while(--P);m%=65521,D%=65521}return m|D<<16|0};let qo=()=>{let a,S=[];for(var w=0;w<256;w++){a=w;for(var A=0;A<8;A++)a=a&1?3988292384^a>>>1:a>>>1;S[w]=a}return S},Wo=new Uint32Array(qo());var je=(a,S,w,A)=>{let m=Wo,D=A+w;a^=-1;for(let P=A;P<D;P++)a=a>>>8^m[(a^S[P])&255];return a^-1},ws={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Rn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:Or,_tr_stored_block:Nr,_tr_flush_block:As,_tr_tally:me,_tr_align:Cn}=Go,{Z_NO_FLUSH:Ts,Z_PARTIAL_FLUSH:Ks,Z_FULL_FLUSH:In,Z_FINISH:yt,Z_BLOCK:vi,Z_OK:Qt,Z_STREAM_END:bs,Z_STREAM_ERROR:we,Z_DATA_ERROR:Yo,Z_BUF_ERROR:Mr,Z_DEFAULT_COMPRESSION:Xo,Z_FILTERED:Ko,Z_HUFFMAN_ONLY:Ki,Z_RLE:Pn,Z_FIXED:On,Z_DEFAULT_STRATEGY:Nn,Z_UNKNOWN:Jo,Z_DEFLATED:Rs}=Rn,Qo=9,Zo=15,ta=8,Dr=256+1+29,Mn=30,ia=19,ra=2*Dr+1,na=15,ft=3,Xe=258,ye=Xe+ft+1,kr=32,Cs=42,Ji=69,Qi=73,Si=91,Zi=103,Is=113,Ke=666,$t=1,_i=2,He=3,Js=4,xr=3,Je=(a,S)=>(a.msg=ws[S],S),tr=a=>(a<<1)-(a>4?9:0),Qe=a=>{let S=a.length;for(;--S>=0;)a[S]=0},Be=(a,S,w)=>(S<<a.hash_shift^w)&a.hash_mask,Oe=a=>{let S=a.state,w=S.pending;w>a.avail_out&&(w=a.avail_out),w!==0&&(a.output.set(S.pending_buf.subarray(S.pending_out,S.pending_out+w),a.next_out),a.next_out+=w,S.pending_out+=w,a.total_out+=w,a.avail_out-=w,S.pending-=w,S.pending===0&&(S.pending_out=0))},zt=(a,S)=>{As(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,S),a.block_start=a.strstart,Oe(a.strm)},pt=(a,S)=>{a.pending_buf[a.pending++]=S},Fe=(a,S)=>{a.pending_buf[a.pending++]=S>>>8&255,a.pending_buf[a.pending++]=S&255},Lr=(a,S,w,A)=>{let m=a.avail_in;return m>A&&(m=A),m===0?0:(a.avail_in-=m,S.set(a.input.subarray(a.next_in,a.next_in+m),w),a.state.wrap===1?a.adler=Tn(a.adler,S,m,w):a.state.wrap===2&&(a.adler=je(a.adler,S,m,w)),a.next_in+=m,a.total_in+=m,m)},Vr=(a,S)=>{let w=a.max_chain_length,A=a.strstart,m,D,P=a.prev_length,k=a.nice_match,ht=a.strstart>a.w_size-ye?a.strstart-(a.w_size-ye):0,st=a.window,re=a.w_mask,Ee=a.prev,It=a.strstart+Xe,Ns=st[A+P-1],ti=st[A+P];a.prev_length>=a.good_match&&(w>>=2),k>a.lookahead&&(k=a.lookahead);do if(m=S,!(st[m+P]!==ti||st[m+P-1]!==Ns||st[m]!==st[A]||st[++m]!==st[A+1])){A+=2,m++;do;while(st[++A]===st[++m]&&st[++A]===st[++m]&&st[++A]===st[++m]&&st[++A]===st[++m]&&st[++A]===st[++m]&&st[++A]===st[++m]&&st[++A]===st[++m]&&st[++A]===st[++m]&&A<It);if(D=Xe-(It-A),A=It-Xe,D>P){if(a.match_start=S,P=D,D>=k)break;Ns=st[A+P-1],ti=st[A+P]}}while((S=Ee[S&re])>ht&&--w!==0);return P<=a.lookahead?P:a.lookahead},Ps=a=>{let S=a.w_size,w,A,m,D,P;do{if(D=a.window_size-a.lookahead-a.strstart,a.strstart>=S+(S-ye)){a.window.set(a.window.subarray(S,S+S),0),a.match_start-=S,a.strstart-=S,a.block_start-=S,A=a.hash_size,w=A;do m=a.head[--w],a.head[w]=m>=S?m-S:0;while(--A);A=S,w=A;do m=a.prev[--w],a.prev[w]=m>=S?m-S:0;while(--A);D+=S}if(a.strm.avail_in===0)break;if(A=Lr(a.strm,a.window,a.strstart+a.lookahead,D),a.lookahead+=A,a.lookahead+a.insert>=ft)for(P=a.strstart-a.insert,a.ins_h=a.window[P],a.ins_h=Be(a,a.ins_h,a.window[P+1]);a.insert&&(a.ins_h=Be(a,a.ins_h,a.window[P+ft-1]),a.prev[P&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=P,P++,a.insert--,!(a.lookahead+a.insert<ft)););}while(a.lookahead<ye&&a.strm.avail_in!==0)},Qs=(a,S)=>{let w=65535;for(w>a.pending_buf_size-5&&(w=a.pending_buf_size-5);;){if(a.lookahead<=1){if(Ps(a),a.lookahead===0&&S===Ts)return $t;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;let A=a.block_start+w;if((a.strstart===0||a.strstart>=A)&&(a.lookahead=a.strstart-A,a.strstart=A,zt(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-ye&&(zt(a,!1),a.strm.avail_out===0))return $t}return a.insert=0,S===yt?(zt(a,!0),a.strm.avail_out===0?He:Js):(a.strstart>a.block_start&&(zt(a,!1),a.strm.avail_out===0),$t)},er=(a,S)=>{let w,A;for(;;){if(a.lookahead<ye){if(Ps(a),a.lookahead<ye&&S===Ts)return $t;if(a.lookahead===0)break}if(w=0,a.lookahead>=ft&&(a.ins_h=Be(a,a.ins_h,a.window[a.strstart+ft-1]),w=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),w!==0&&a.strstart-w<=a.w_size-ye&&(a.match_length=Vr(a,w)),a.match_length>=ft)if(A=me(a,a.strstart-a.match_start,a.match_length-ft),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ft){a.match_length--;do a.strstart++,a.ins_h=Be(a,a.ins_h,a.window[a.strstart+ft-1]),w=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Be(a,a.ins_h,a.window[a.strstart+1]);else A=me(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(A&&(zt(a,!1),a.strm.avail_out===0))return $t}return a.insert=a.strstart<ft-1?a.strstart:ft-1,S===yt?(zt(a,!0),a.strm.avail_out===0?He:Js):a.last_lit&&(zt(a,!1),a.strm.avail_out===0)?$t:_i},cs=(a,S)=>{let w,A,m;for(;;){if(a.lookahead<ye){if(Ps(a),a.lookahead<ye&&S===Ts)return $t;if(a.lookahead===0)break}if(w=0,a.lookahead>=ft&&(a.ins_h=Be(a,a.ins_h,a.window[a.strstart+ft-1]),w=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ft-1,w!==0&&a.prev_length<a.max_lazy_match&&a.strstart-w<=a.w_size-ye&&(a.match_length=Vr(a,w),a.match_length<=5&&(a.strategy===Ko||a.match_length===ft&&a.strstart-a.match_start>4096)&&(a.match_length=ft-1)),a.prev_length>=ft&&a.match_length<=a.prev_length){m=a.strstart+a.lookahead-ft,A=me(a,a.strstart-1-a.prev_match,a.prev_length-ft),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=m&&(a.ins_h=Be(a,a.ins_h,a.window[a.strstart+ft-1]),w=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=ft-1,a.strstart++,A&&(zt(a,!1),a.strm.avail_out===0))return $t}else if(a.match_available){if(A=me(a,0,a.window[a.strstart-1]),A&&zt(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return $t}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(A=me(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ft-1?a.strstart:ft-1,S===yt?(zt(a,!0),a.strm.avail_out===0?He:Js):a.last_lit&&(zt(a,!1),a.strm.avail_out===0)?$t:_i},Dn=(a,S)=>{let w,A,m,D,P=a.window;for(;;){if(a.lookahead<=Xe){if(Ps(a),a.lookahead<=Xe&&S===Ts)return $t;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=ft&&a.strstart>0&&(m=a.strstart-1,A=P[m],A===P[++m]&&A===P[++m]&&A===P[++m])){D=a.strstart+Xe;do;while(A===P[++m]&&A===P[++m]&&A===P[++m]&&A===P[++m]&&A===P[++m]&&A===P[++m]&&A===P[++m]&&A===P[++m]&&m<D);a.match_length=Xe-(D-m),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ft?(w=me(a,1,a.match_length-ft),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(w=me(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),w&&(zt(a,!1),a.strm.avail_out===0))return $t}return a.insert=0,S===yt?(zt(a,!0),a.strm.avail_out===0?He:Js):a.last_lit&&(zt(a,!1),a.strm.avail_out===0)?$t:_i},oa=(a,S)=>{let w;for(;;){if(a.lookahead===0&&(Ps(a),a.lookahead===0)){if(S===Ts)return $t;break}if(a.match_length=0,w=me(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,w&&(zt(a,!1),a.strm.avail_out===0))return $t}return a.insert=0,S===yt?(zt(a,!0),a.strm.avail_out===0?He:Js):a.last_lit&&(zt(a,!1),a.strm.avail_out===0)?$t:_i};function Ne(a,S,w,A,m){this.good_length=a,this.max_lazy=S,this.nice_length=w,this.max_chain=A,this.func=m}let Zs=[new Ne(0,0,0,0,Qs),new Ne(4,4,8,4,er),new Ne(4,5,16,8,er),new Ne(4,6,32,32,er),new Ne(4,4,16,16,cs),new Ne(8,16,32,32,cs),new Ne(8,16,128,128,cs),new Ne(8,32,128,256,cs),new Ne(32,128,258,1024,cs),new Ne(32,258,258,4096,cs)],kn=a=>{a.window_size=2*a.w_size,Qe(a.head),a.max_lazy_match=Zs[a.level].max_lazy,a.good_match=Zs[a.level].good_length,a.nice_match=Zs[a.level].nice_length,a.max_chain_length=Zs[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ft-1,a.match_available=0,a.ins_h=0};function aa(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ra*2),this.dyn_dtree=new Uint16Array((2*Mn+1)*2),this.bl_tree=new Uint16Array((2*ia+1)*2),Qe(this.dyn_ltree),Qe(this.dyn_dtree),Qe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(na+1),this.heap=new Uint16Array(2*Dr+1),Qe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Dr+1),Qe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ur=a=>{if(!a||!a.state)return Je(a,we);a.total_in=a.total_out=0,a.data_type=Jo;let S=a.state;return S.pending=0,S.pending_out=0,S.wrap<0&&(S.wrap=-S.wrap),S.status=S.wrap?Cs:Is,a.adler=S.wrap===2?0:1,S.last_flush=Ts,Or(S),Qt},jr=a=>{let S=Ur(a);return S===Qt&&kn(a.state),S},ca=(a,S)=>!a||!a.state||a.state.wrap!==2?we:(a.state.gzhead=S,Qt),sr=(a,S,w,A,m,D)=>{if(!a)return we;let P=1;if(S===Xo&&(S=6),A<0?(P=0,A=-A):A>15&&(P=2,A-=16),m<1||m>Qo||w!==Rs||A<8||A>15||S<0||S>9||D<0||D>On)return Je(a,we);A===8&&(A=9);let k=new aa;return a.state=k,k.strm=a,k.wrap=P,k.gzhead=null,k.w_bits=A,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=m+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+ft-1)/ft),k.window=new Uint8Array(k.w_size*2),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<m+6,k.pending_buf_size=k.lit_bufsize*4,k.pending_buf=new Uint8Array(k.pending_buf_size),k.d_buf=1*k.lit_bufsize,k.l_buf=3*k.lit_bufsize,k.level=S,k.strategy=D,k.method=w,jr(a)},la=(a,S)=>sr(a,S,Rs,Zo,ta,Nn),Hr=(a,S)=>{let w,A;if(!a||!a.state||S>vi||S<0)return a?Je(a,we):we;let m=a.state;if(!a.output||!a.input&&a.avail_in!==0||m.status===Ke&&S!==yt)return Je(a,a.avail_out===0?Mr:we);m.strm=a;let D=m.last_flush;if(m.last_flush=S,m.status===Cs)if(m.wrap===2)a.adler=0,pt(m,31),pt(m,139),pt(m,8),m.gzhead?(pt(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),pt(m,m.gzhead.time&255),pt(m,m.gzhead.time>>8&255),pt(m,m.gzhead.time>>16&255),pt(m,m.gzhead.time>>24&255),pt(m,m.level===9?2:m.strategy>=Ki||m.level<2?4:0),pt(m,m.gzhead.os&255),m.gzhead.extra&&m.gzhead.extra.length&&(pt(m,m.gzhead.extra.length&255),pt(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(a.adler=je(a.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=Ji):(pt(m,0),pt(m,0),pt(m,0),pt(m,0),pt(m,0),pt(m,m.level===9?2:m.strategy>=Ki||m.level<2?4:0),pt(m,xr),m.status=Is);else{let P=Rs+(m.w_bits-8<<4)<<8,k=-1;m.strategy>=Ki||m.level<2?k=0:m.level<6?k=1:m.level===6?k=2:k=3,P|=k<<6,m.strstart!==0&&(P|=kr),P+=31-P%31,m.status=Is,Fe(m,P),m.strstart!==0&&(Fe(m,a.adler>>>16),Fe(m,a.adler&65535)),a.adler=1}if(m.status===Ji)if(m.gzhead.extra){for(w=m.pending;m.gzindex<(m.gzhead.extra.length&65535)&&!(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>w&&(a.adler=je(a.adler,m.pending_buf,m.pending-w,w)),Oe(a),w=m.pending,m.pending===m.pending_buf_size));)pt(m,m.gzhead.extra[m.gzindex]&255),m.gzindex++;m.gzhead.hcrc&&m.pending>w&&(a.adler=je(a.adler,m.pending_buf,m.pending-w,w)),m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=Qi)}else m.status=Qi;if(m.status===Qi)if(m.gzhead.name){w=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>w&&(a.adler=je(a.adler,m.pending_buf,m.pending-w,w)),Oe(a),w=m.pending,m.pending===m.pending_buf_size)){A=1;break}m.gzindex<m.gzhead.name.length?A=m.gzhead.name.charCodeAt(m.gzindex++)&255:A=0,pt(m,A)}while(A!==0);m.gzhead.hcrc&&m.pending>w&&(a.adler=je(a.adler,m.pending_buf,m.pending-w,w)),A===0&&(m.gzindex=0,m.status=Si)}else m.status=Si;if(m.status===Si)if(m.gzhead.comment){w=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>w&&(a.adler=je(a.adler,m.pending_buf,m.pending-w,w)),Oe(a),w=m.pending,m.pending===m.pending_buf_size)){A=1;break}m.gzindex<m.gzhead.comment.length?A=m.gzhead.comment.charCodeAt(m.gzindex++)&255:A=0,pt(m,A)}while(A!==0);m.gzhead.hcrc&&m.pending>w&&(a.adler=je(a.adler,m.pending_buf,m.pending-w,w)),A===0&&(m.status=Zi)}else m.status=Zi;if(m.status===Zi&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&Oe(a),m.pending+2<=m.pending_buf_size&&(pt(m,a.adler&255),pt(m,a.adler>>8&255),a.adler=0,m.status=Is)):m.status=Is),m.pending!==0){if(Oe(a),a.avail_out===0)return m.last_flush=-1,Qt}else if(a.avail_in===0&&tr(S)<=tr(D)&&S!==yt)return Je(a,Mr);if(m.status===Ke&&a.avail_in!==0)return Je(a,Mr);if(a.avail_in!==0||m.lookahead!==0||S!==Ts&&m.status!==Ke){let P=m.strategy===Ki?oa(m,S):m.strategy===Pn?Dn(m,S):Zs[m.level].func(m,S);if((P===He||P===Js)&&(m.status=Ke),P===$t||P===He)return a.avail_out===0&&(m.last_flush=-1),Qt;if(P===_i&&(S===Ks?Cn(m):S!==vi&&(Nr(m,0,0,!1),S===In&&(Qe(m.head),m.lookahead===0&&(m.strstart=0,m.block_start=0,m.insert=0))),Oe(a),a.avail_out===0))return m.last_flush=-1,Qt}return S!==yt?Qt:m.wrap<=0?bs:(m.wrap===2?(pt(m,a.adler&255),pt(m,a.adler>>8&255),pt(m,a.adler>>16&255),pt(m,a.adler>>24&255),pt(m,a.total_in&255),pt(m,a.total_in>>8&255),pt(m,a.total_in>>16&255),pt(m,a.total_in>>24&255)):(Fe(m,a.adler>>>16),Fe(m,a.adler&65535)),Oe(a),m.wrap>0&&(m.wrap=-m.wrap),m.pending!==0?Qt:bs)},ha=a=>{if(!a||!a.state)return we;let S=a.state.status;return S!==Cs&&S!==Ji&&S!==Qi&&S!==Si&&S!==Zi&&S!==Is&&S!==Ke?Je(a,we):(a.state=null,S===Is?Je(a,Yo):Qt)},ua=(a,S)=>{let w=S.length;if(!a||!a.state)return we;let A=a.state,m=A.wrap;if(m===2||m===1&&A.status!==Cs||A.lookahead)return we;if(m===1&&(a.adler=Tn(a.adler,S,w,0)),A.wrap=0,w>=A.w_size){m===0&&(Qe(A.head),A.strstart=0,A.block_start=0,A.insert=0);let ht=new Uint8Array(A.w_size);ht.set(S.subarray(w-A.w_size,w),0),S=ht,w=A.w_size}let D=a.avail_in,P=a.next_in,k=a.input;for(a.avail_in=w,a.next_in=0,a.input=S,Ps(A);A.lookahead>=ft;){let ht=A.strstart,st=A.lookahead-(ft-1);do A.ins_h=Be(A,A.ins_h,A.window[ht+ft-1]),A.prev[ht&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=ht,ht++;while(--st);A.strstart=ht,A.lookahead=ft-1,Ps(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=ft-1,A.match_available=0,a.next_in=P,a.input=k,a.avail_in=D,A.wrap=m,Qt};var da=la,fa=sr,Br=jr,pa=Ur,ga=ca,ir=Hr,Os=ha,xn=ua,ma="pako deflate (from Nodeca project)",Ai={deflateInit:da,deflateInit2:fa,deflateReset:Br,deflateResetKeep:pa,deflateSetHeader:ga,deflate:ir,deflateEnd:Os,deflateSetDictionary:xn,deflateInfo:ma};let ya=(a,S)=>Object.prototype.hasOwnProperty.call(a,S);var Ln=function(a){let S=Array.prototype.slice.call(arguments,1);for(;S.length;){let w=S.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(let A in w)ya(w,A)&&(a[A]=w[A])}}return a},Ti=a=>{let S=0;for(let A=0,m=a.length;A<m;A++)S+=a[A].length;let w=new Uint8Array(S);for(let A=0,m=0,D=a.length;A<D;A++){let P=a[A];w.set(P,m),m+=P.length}return w},bi={assign:Ln,flattenChunks:Ti};let ls=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ls=!1}let Ri=new Uint8Array(256);for(let a=0;a<256;a++)Ri[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;Ri[254]=Ri[254]=1;var Ea=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let S,w,A,m,D,P=a.length,k=0;for(m=0;m<P;m++)w=a.charCodeAt(m),(w&64512)===55296&&m+1<P&&(A=a.charCodeAt(m+1),(A&64512)===56320&&(w=65536+(w-55296<<10)+(A-56320),m++)),k+=w<128?1:w<2048?2:w<65536?3:4;for(S=new Uint8Array(k),D=0,m=0;D<k;m++)w=a.charCodeAt(m),(w&64512)===55296&&m+1<P&&(A=a.charCodeAt(m+1),(A&64512)===56320&&(w=65536+(w-55296<<10)+(A-56320),m++)),w<128?S[D++]=w:w<2048?(S[D++]=192|w>>>6,S[D++]=128|w&63):w<65536?(S[D++]=224|w>>>12,S[D++]=128|w>>>6&63,S[D++]=128|w&63):(S[D++]=240|w>>>18,S[D++]=128|w>>>12&63,S[D++]=128|w>>>6&63,S[D++]=128|w&63);return S};let Vn=(a,S=a.length)=>{if(S<65534&&a.subarray&&ls)return String.fromCharCode.apply(null,a.length===S?a:a.subarray(0,S));let w="";for(let A=0;A<S;A++)w+=String.fromCharCode(a[A]);return w};var va=(a,S)=>{let w=S||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,S));let A,m,D=new Array(w*2);for(m=0,A=0;A<w;){let P=a[A++];if(P<128){D[m++]=P;continue}let k=Ri[P];if(k>4){D[m++]=65533,A+=k-1;continue}for(P&=k===2?31:k===3?15:7;k>1&&A<w;)P=P<<6|a[A++]&63,k--;if(k>1){D[m++]=65533;continue}P<65536?D[m++]=P:(P-=65536,D[m++]=55296|P>>10&1023,D[m++]=56320|P&1023)}return Vn(D,m)},Sa=(a,S)=>{S=S||a.length,S>a.length&&(S=a.length);let w=S-1;for(;w>=0&&(a[w]&192)===128;)w--;return w<0||w===0?S:w+Ri[a[w]]>S?w:S},Un={string2buf:Ea,buf2string:va,utf8border:Sa};function _a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wa=_a;let u=Object.prototype.toString,{Z_NO_FLUSH:l,Z_SYNC_FLUSH:p,Z_FULL_FLUSH:y,Z_FINISH:E,Z_OK:T,Z_STREAM_END:V,Z_DEFAULT_COMPRESSION:L,Z_DEFAULT_STRATEGY:R,Z_DEFLATED:F}=Rn;function q(a){this.options=bi.assign({level:L,method:F,chunkSize:16384,windowBits:15,memLevel:8,strategy:R},a||{});let S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wa,this.strm.avail_out=0;let w=Ai.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(w!==T)throw new Error(ws[w]);if(S.header&&Ai.deflateSetHeader(this.strm,S.header),S.dictionary){let A;if(typeof S.dictionary=="string"?A=Un.string2buf(S.dictionary):u.call(S.dictionary)==="[object ArrayBuffer]"?A=new Uint8Array(S.dictionary):A=S.dictionary,w=Ai.deflateSetDictionary(this.strm,A),w!==T)throw new Error(ws[w]);this._dict_set=!0}}q.prototype.push=function(a,S){let w=this.strm,A=this.options.chunkSize,m,D;if(this.ended)return!1;for(S===~~S?D=S:D=S===!0?E:l,typeof a=="string"?w.input=Un.string2buf(a):u.call(a)==="[object ArrayBuffer]"?w.input=new Uint8Array(a):w.input=a,w.next_in=0,w.avail_in=w.input.length;;){if(w.avail_out===0&&(w.output=new Uint8Array(A),w.next_out=0,w.avail_out=A),(D===p||D===y)&&w.avail_out<=6){this.onData(w.output.subarray(0,w.next_out)),w.avail_out=0;continue}if(m=Ai.deflate(w,D),m===V)return w.next_out>0&&this.onData(w.output.subarray(0,w.next_out)),m=Ai.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===T;if(w.avail_out===0){this.onData(w.output);continue}if(D>0&&w.next_out>0){this.onData(w.output.subarray(0,w.next_out)),w.avail_out=0;continue}if(w.avail_in===0)break}return!0},q.prototype.onData=function(a){this.chunks.push(a)},q.prototype.onEnd=function(a){a===T&&(this.result=bi.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function Q(a,S){S=S||{};let w=new q(S);if(w.push(a,!0),w.err)throw w.msg||ws[w.err];return w.result}function nt(a,S){return S=S||{},S.gzip=!0,Q(a,S)}return(a,S,w)=>{let A=nt(a);return S==="base64"?A=btoa(Vn(A)):A=A.buffer,w&&w(A),A}}var ew=(()=>{class s extends bd{constructor(){super(),this.algorithm=pn.GZIP,this.db=Mc(),this.compress=(i,n,o)=>this.sm.compress(i,n).then(o);let e=typeof CompressionStream!="undefined"&&!!self.CompressionStream?iw:sw;this.sm=new e,tw.create(e,{getPakoCompressor:Mc}).then(i=>{this.sm=i})}compressSync(t,e){try{return this.db(t,e)}catch(i){throw Tt.warn(i),i}}}return s})(),sw=(()=>{class s{constructor(){this.fb=Mc()}compress(t,e){return Promise.resolve(this.fb(t,e))}}return s})(),iw=(()=>{class s{pb(t){return new Promise(e=>{let i=new FileReader;i.onload=n=>e(n.target.result.split(",")[1]),i.readAsDataURL(new Blob([t]))})}compress(t,e){let i=new Response(t).body.pipeThrough(new CompressionStream("gzip")),n=new Response(i).arrayBuffer();return e==="base64"?n.then(o=>this.pb(o)):n}}return s})(),rw=(()=>{class s extends bd{constructor(){super(...arguments),this.algorithm=pn.UNCOMPRESSED,this.compress=(t,e,i)=>{i(this.compressSync(t,e))},this.compressSync=(t,e)=>t}}return s})(),Nf=(()=>{class s{static create(t=!0){return this.instance?this.instance:t&&!Q_.isCompressionEnabled()?new rw:this.instance=new ew}}return s})(),nw=s=>{let r=s*60*1e3;return`${Math.floor(csDate.now()/r)}`},ow=5e3,aw=(()=>{class s extends dl{constructor(t,e,i){super(t,e),this.jr=null,this.gb=(i==null?void 0:i.type)||"json",this.im=i==null?void 0:i.cacheMinutes,this.cc=i==null?void 0:i.timeout}onLoad(t){this.Hr=t}onError(t){this.wo=t}onTimeout(t,e){this.Ji=t,this.cc=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,n=>n());let t=this.retrieveParameters();this.al(t);let e=ul.toQuery(t),i=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.mb(i,this.gb)}abort(){this.jr&&(this.jr.abort(),this.jr=null)}isInProgress(){return this.jr!==null}mb(t,e){var i;let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType=e,n.onerror=()=>{var o;return(o=this.wo)===null||o===void 0?void 0:o.call(this,n)},n.ontimeout=()=>{var o;return(o=this.Ji)===null||o===void 0?void 0:o.call(this,n)},n.onload=()=>{var o,c;n.status>=200&&n.status<400?((o=this.Hr)===null||o===void 0||o.call(this,this.yb(n,e)?n.response:n.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,h=>h())):(c=this.wo)===null||c===void 0||c.call(this,n)},n.onloadend=()=>{this.jr=null},n.timeout=(i=this.cc)!==null&&i!==void 0?i:ow,this.jr=n,n.send()}yb(t,e){let i=t.getResponseHeader("Content-Type");return i===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0}al(t){let e;this.im?e=`${nw(this.im)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})(),cw=2e4,lw=(()=>{class s{constructor(t){var e;this.Je={},this.Iu={},this.rm=i=>{for(let n of i){let{metadata:o,events:c}=n;this.send(c,o)}},this.Qn=t.endpoint,this.Ao=t.compressionOpts,this.ce=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.Pu=t.contentType,this.worker=!!t.worker,this.ce&&this.ce.recover(this.rm)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Je[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Je[e]}):this.Je={}}send(t,e){t=t!=null?t:"";let i=e||{...this.Je},n=!("ct"in i),o=this.Pu==="application/json"||typeof t!="string"&&!this.Eb(t);"ct"in i||(!this.Ao||!n?i.ct=pn.UNCOMPRESSED:i.ct=this.Ao.compressionType);let c=o?JSON.stringify(t):t,h=Object.keys(i).map(f=>`${encodeURIComponent(f)}=${encodeURIComponent(i[f])}`).join("&"),d=`${this.Qn}?${h}`;if(Ru(this.mandatoryParameters,f=>i[f]==null)){Tt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${d}`);return}this.Ao&&n&&typeof c=="string"?this.Ao.compressor(c,this.Ao.compressionOutputType,f=>this.nm(d,i,f)):this.nm(d,i,c)}onLoad(t){this.Hr=t}onError(t){this.wo=t}onTimeout(t,e){this.Ji=t,this.cc=e}abort(){this.om&&this.om()}setRequestHeader(t,e){this.Iu[t]=e}getQueryParams(){return this.Je}Eb(t){return t&&t.byteLength!==void 0}nm(t,e,i){let n=new XMLHttpRequest,o=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");n.open("POST",t,!0),this.Pu&&n.setRequestHeader("Content-Type",this.Pu),n.onload=()=>{if(this.ce&&this.ce.recover(this.rm),this.Hr){let c={params:e,responseText:n.responseText,status:n.status};this.Hr(c)}},n.onerror=()=>{this.ce&&this.ce.save({key:o,metadata:e,events:i}),this.wo&&this.wo({params:e})},n.timeout=this.cc||cw,n.ontimeout=()=>{rt.counters.requestTimeouts.count(this.Qn),this.Ji&&this.Ji()},this.om=()=>n.abort(),Object.keys(this.Iu).forEach(c=>{n.setRequestHeader(c,this.Iu[c])}),n.send(i)}}return s})(),Mf=(()=>{class s{constructor(t){this.am=t}create(t,e,i){let n=e?{compressor:this.am.compress,compressionOutputType:e,compressionType:this.am.algorithm}:void 0;return new lw({endpoint:t,compressionOpts:n,recoveryStorage:i})}}return s})(),hw=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),vn=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})();var uw=(()=>{class s{constructor(t){this.Ou=t}start(){this.Ou.onEvent(t=>this.Q(t)),this.Ou.start()}stop(){this.Ou.stop()}Q(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;Y.warn(e)}}return s})(),dw=(()=>{class s{constructor(){this.te={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){Ut(this.te)}stop(){jt(this.te)}onEvent(t){this.j=t}wb(t){if(!t)return!1;let e=t.disposition;return U(t.sourceFile)&&csArray.prototype.some.call(s.Ab,i=>csString.prototype.indexOf.call(t.sourceFile,i)>0)&&e!=="report"}securityPolicyViolationListener(t){this.wb(t)&&this.j({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.Ab=["contentsquare","cdnssl.clicktale.net"],it([G("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),fw=(()=>{class s{init(){this.lc=new uw(new dw),this.lc.start()}onOptout(){this.lc.stop()}onArtificialPageViewEnd(t){t&&this.lc.stop()}onAfterArtificialPageView(t){t&&this.lc.start()}}return s})(),pw=(()=>{class s{constructor(t,e,i){this.E=t,this.C=e,this.w=i}grantReplayConsent(){if(!ui.isReplayConsentNeeded(this.E))return;let t=this.C.getSession();if(!t){this.C.grantReplayRecordingBeforeSessionStart();return}ui.isRecordingBlockedByConsent(t)&&(this.C.grantReplayRecording(t),this.w.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!ui.isReplayConsentNeeded(this.E))return;let t=this.C.getSession();if(!t){this.C.withdrawnReplayRecordingBeforeSessionStart();return}ui.isRecordingWithDrawn(t)||(this.C.withdrawnReplayRecording(t),this.w.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),Df=["replay:consent:unanonymized:granted","trackConsentGranted"],kf=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],xf=["replay:consent:startForSession:granted"],Lf=["replay:consent:startForSession:withdrawn"],gw=(()=>{class s{constructor(t,e,i,n,o){this.E=t,this.S=e,this.bt=i,this.C=n,this.w=o}init(){this.cm=new pw(this.E,this.C,this.w),this.bt.setInitialConsent(),this.ft()}ft(){this.S.register(Df,()=>{this.bt.grantReplayAnonymizationConsent()}),this.S.register(kf,()=>{this.bt.withdrawReplayAnonymizationConsent()}),this.S.register(xf,()=>{this.cm.grantReplayConsent()}),this.S.register(Lf,()=>{this.cm.withdrawReplayConsent()})}onOptout(){this.bt.removeAllConsents()}onBeforeVisitorRenewal(){this.bt.removeAllConsents()}onAfterVisitorRenewal(){this.bt.setInitialConsent()}onAfterVisitorCleared(){this.bt.setInitialConsent()}}return s})(),oi="_cs_c",Ii=(()=>{let s;return function(r){r[r.NOT_REQUIRED=0]="NOT_REQUIRED",r[r.NOT_EXPRESSED=1]="NOT_EXPRESSED",r[r.GRANTED=2]="GRANTED",r[r.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),mw=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.pt=i}get(){let t;return this.E.cookielessTrackingEnabled?t=this.pt.getItem(oi):t=this.I.get(oi),t===null?t:Number(t)}set(t){this.E.cookielessTrackingEnabled?this.pt.setItem(oi,csString(t)):this.I.set(oi,csString(t),Zc)}remove(){this.E.cookielessTrackingEnabled?this.pt.removeItem(oi):this.I.delete(oi)}handleSubdomainChange(){this.E.cookielessTrackingEnabled||(this.E.allowSubdomains?this.I.delete(oi,Co.CURRENT_DOMAIN):this.I.delete(oi,this.I.getRootDomain()))}}return s})(),yw=(()=>{class s{constructor(t,e,i){this.E=t,this.gt=e,this.w=i}setInitialConsent(){let t=this.gt.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.E.consentRequired;return e&&t===Ii.NOT_REQUIRED||!e&&t!==Ii.NOT_REQUIRED}handleSubdomainChange(){this.gt.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.E.consentRequired?Ii.NOT_EXPRESSED:Ii.NOT_REQUIRED;this.gt.set(t)}grantReplayAnonymizationConsent(){this.E.consentRequired&&(this.gt.set(Ii.GRANTED),this.w.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.E.consentRequired&&(this.gt.set(Ii.WITHDRAWN),this.w.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.gt.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.E.consentRequired||this.gt.get()===Ii.GRANTED}getRequestParameters(){return{uc:`${this.gt.get()}`}}}return s})(),Jh=512,Qh=255,qa={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},Ew=(()=>{class s{constructor(t,e){this.D=t,this.gt=e,this.ie={},this.ze={}}set(t,e,i,n){let o,c;if((Bt(t)||U(t))&&Number(t)>0&&Nt(e)&&Nt(i)&&!Ce(e)&&!Ce(i)&&this.Tb(n)){let h=this.D.anonymizePII(csString(e)),d=this.D.anonymizePII(csString(i));if(o=[csString.prototype.slice.call(h,0,Jh),csString.prototype.slice.call(d,0,Qh)],c=i!=="",!mt(n)||csArray.prototype.indexOf.call(qa.SESSION,n)>=0){let f=this.getCustomVariablesSession();c?f[t]=o:delete f[t],this.setCustomVariableSession(f)}(!mt(n)||csArray.prototype.indexOf.call(qa.PAGE,n)>=0)&&(c?this.ie[t]=o:delete this.ie[t]),mt(n)&&csArray.prototype.indexOf.call(qa.NEXT_PAGE_ONLY,n)>=0&&(c?this.ze[t]=o:delete this.ze[t])}else throw new Ht(No[0])}getCustomVariablesSession(){let t=this.gt.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&qe(e)?e:{}}setCustomVariableSession(t){this.gt.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.gt.remove()}removeCustomVariablesPage(){this.ie={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let i in this.ze)this.ze.hasOwnProperty(i)&&(this.ie[i]=this.ze[i]);for(let i in this.ie)this.ie.hasOwnProperty(i)&&(t[i]=this.ie[i]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.lm(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.ze).length>0)for(let t in this.ze)this.ze[t]===this.ie[t]&&(delete this.ie[t],delete this.ze[t])}hasCustomVariablesPage(){return this.ie&&!oc(this.ie)}getCustomVariablesPage(){return this.lm(this.ie)}hm(t){for(let e in t)if(t.hasOwnProperty(e)){let i=parseInt(e,10),n=t[e],o=n[0],c=n[1];(!Ip(i,1,20)||o.length>Jh||c.length>Qh)&&delete t[e]}}lm(t){this.hm(t);let e=oc(t)?[]:t;return window.csJSON.stringify(e)}Tb(t){return!mt(t)||U(t)||Bt(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.ze)this.ze.hasOwnProperty(e)&&(this.ie[e]=this.ze[e]);for(let e in this.ie)this.ie.hasOwnProperty(e)&&(t[e]=this.ie[e]);return this.hm(t),t}}return s})(),Vo=(()=>{class s{constructor(t,e,i,n){this._e=t,this.To=e,this.bo=i,this.bt=n}init(){this.bb()}shouldMaskNonTextElements(){if(this._e.anonymisationMethod!==Ci.replayRecordingMaskedUrlRegexRules)return!1;if(this._e.isSMB)return this.shouldUseAnonymization();let t=this.bo.getMatchingRules(this.To.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.bt&&!this.bt.isReplayUnanonymizedAllowedByConsent()){switch(this._e.anonymisationMethod){case null:case Ci.replayRecordingUnmaskedUrlRegex:return!(this._e.replayRecordingUnmaskedUrlRegex&&this._e.replayRecordingUnmaskedUrlRegex.test(this.To.getAnonymizedUrl()));case Ci.replayRecordingUnmaskedUrlRegexRules:return!this.bo.evaluateUrl(this.To.getAnonymizedUrl())}return!0}else{switch(this._e.anonymisationMethod){case null:case Ci.replayRecordingMaskedUrlRegex:return!!(this._e.replayRecordingMaskedUrlRegex&&this._e.replayRecordingMaskedUrlRegex.test(this.To.getAnonymizedUrl()));case Ci.replayRecordingMaskedUrlRegexRules:return this.bo.evaluateUrl(this.To.getAnonymizedUrl())}return!1}}bb(){this._e.anonymisationMethod===Ci.replayRecordingMaskedUrlRegexRules&&this._e.replayRecordingMaskedUrlRegexRules?this.bo.setRegexRules(this._e.replayRecordingMaskedUrlRegexRules):this._e.anonymisationMethod===Ci.replayRecordingUnmaskedUrlRegexRules&&this._e.replayRecordingUnmaskedUrlRegexRules&&this.bo.setRegexRules(this._e.replayRecordingUnmaskedUrlRegexRules)}}return s})(),Dc=class{constructor(r){this.De=r}send(r){hj.log.debug(`Sending tags: ${csJSON.stringify(r)}`),this.De.pushInternalEvents(r)}tag(r,t,e,i,n){let o=this;return function(c){if(c){let h=csArray.prototype.reduce.call(e,function(d,f){let g=r,v="",_=Object.keys(f);return csArray.prototype.forEach.call(_,function(b){let M=f[b],x=c[M];x==null&&(x=""),i&&(x=i(M,x)),M===t&&(v=x),M===t&&!n?g+=`.${b}`:x!==""&&(g+=`.${b}:${x}`)}),csArray.prototype.push.call(d,{key:g,val:v}),d},[]);o.send(h)}}}setup({vocEnabled:r,integrationsEnabled:t}){let e=function(d,f){return typeof f=="string"?csString.prototype.replace.call(f,/\.|:/g,"_"):f},i=function(d,f){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.toString.call(f),".e:",".E:"),".v:",".V:"),".c:",".C:")},n=function(d,f){if(d==="answer"){let v=parseInt(f);return isNaN(v)?(Y.warn(`Poll question answer should be a number type, received ${f} instead`),f):v}return d!=="type"?f:{"rating-scale-5":"rating5","rating-scale-7":"rating7","net-promoter-score":"nps","single-close-ended":"singleClose","multiple-close-ended":"multiClose","single-open-ended-multiple-line":"singleOpenMulti","single-open-ended-single-line":"singleOpenSingle"}[f]||f},o={"poll.show":this.tag("poll.show","id",[{id:"id"}]),"poll.send":this.tag("poll.send","response_id",[{id:"id",r_id:"response_id"}]),"poll.question":this.tag("poll.q","answer",[{t:"type",a:"answer",id:"id",qid:"questionUuid"}],n),"feedback.show":this.tag("feedback.show","id",[{id:"id"}]),"feedback.send":this.tag("feedback.send","id",[{id:"id"}]),"feedback.sentiment":this.tag("feedback.sentiment","emotion",[{e:"emotion",id:"id",r_id:"response_id"}]),"survey.show":this.tag("survey.show","id",[{id:"id"}]),"survey.open":this.tag("survey.open","id",[{id:"id"}])},c={"exp.opt":this.tag("exp.opt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.ub":this.tag("exp.ub","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.abt":this.tag("exp.abt","variantId",[{e:"experimentId",v:"variantId"}],i),"exp.go":this.tag("exp.go","variantId",[{e:"experimentId",v:"variantId",c:"containerId"}],i),"int.ga":this.tag("int.ga","action",[{a:"action"}],e,!0),"int.mp":this.tag("int.mp","event",[{event:"event"}],e,!0),"int.hubspot":this.tag("int.hubspot","utk",[{utk:"utk"}])};return Object.assign({},r?o:{},t?c:{})}listen(r){let t=this.setup(r);csArray.prototype.forEach.call(Object.keys(t),function(e){hj.event.listen(e,t[e])})}},Vf=Dc,Gi=function(){"use strict";var s={d:function(u,l){for(var p in l)s.o(l,p)&&!s.o(u,p)&&Object.defineProperty(u,p,{enumerable:!0,get:l[p]})}};s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)};var r={};s.d(r,{u6:function(){return Wo},b2:function(){return qo},Vv:function(){return ya},pF:function(){return Zi},XA:function(){return In},fd:function(){return Is},ec:function(){return Ri}});var t=function(u){return u.replace(/%u[\dA-F]{4}|%[\dA-F]{2}/gi,function(l){return l.startsWith("%u")?String.fromCharCode(parseInt(l.slice(2),16)):String.fromCharCode(parseInt(l.slice(1),16))})};function e(u){return t(encodeURIComponent(u))}function i(u){return btoa(e(u))}function n(u){return function(l){return decodeURIComponent(function(p){return p.replace(/[^a-zA-Z0-9@*_+-./]/g,function(y){var E=y.charCodeAt(0);return E<256?"%"+E.toString(16).padStart(2,"0").toUpperCase():"%u"+E.toString(16).padStart(4,"0").toUpperCase()})}(l))}(atob(u))}var o={isOn:function(){var u;return _hjSettings.hjdebug===void 0&&(_hjSettings.hjdebug=((u=hj.bridge.storage.items.DEBUG_FLAG)===null||u===void 0?void 0:u.get())==="true"),_hjSettings.hjdebug},on:function(u){_hjSettings.hjdebug=!0,u&&hj.bridge.storage.items.DEBUG_FLAG.set(!0)},off:function(){_hjSettings.hjdebug=!1,hj.bridge.storage.items.DEBUG_FLAG.clear()},emit:function(u,l){typeof _hjEmitters!="undefined"&&_hjEmitters.includes&&_hjEmitters.includes(u)&&window.postMessage({data:l,message:hj.bridge.storage.items.DEBUG_FLAG.getKey(),type:u},"*")}};function c(u){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(u)}var h=!1,d="",f={autotag:"#ff0099",command:"#0079a4",cookies:"#5a2c22",data:"#009bd2",event:"#ff7000",events:"#ffc000",exception:"#e63946",heatmap:"#700000",init:"#6600cc",integration:"#2a9072",poll:"#00a000",property:"#ff33cc",recording:"#dd0000",rendering:"#bd00ea",sampling:"#efb0a1",survey:"#007000",targeting:"#00ee00",visitdata:"#00668a",websocket:"#0dc0ff"},g={init:function(){window.console===void 0&&(window.console={debug:function(){},trace:function(){},log:function(){},info:function(){},warn:function(){},error:function(){}})},debug:function(u,l,p){var y=l&&f[l.toLowerCase()]||"#2a9d8f";d!=u&&h&&(console.groupEnd(),h=!1),d=u,hj.debug!==void 0&&hj.debug.isOn()&&(c(u)==="object"?hj.hq.each(u,function(E,T){hj.log.debug(E+": "+T,l,null)}):(u=l&&typeof u=="string"?l.toUpperCase()+": "+u:u,u="%c"+new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")+":%c "+u,p?(h||(console.groupCollapsed(u+":","color: #999;","color: "+y+";"),h=!0),console.log(p)):console.log(u,"color: #999;","color: "+y+";")))},info:function(u){console.log("%c"+u,"color: #006EFF")},warn:function(u){console.log("%c"+u,"color: #E8910C")},error:function(u){console.error("Hotjar error: "+u)},warnIfEmpty:function(u,l){if(Array.isArray(u)?u.length===0:hj.hq.isNullOrUndefined(u)){var p=u===null?"null":u===void 0?"undefined":"no value";hj.log.debug("WARNING: [".concat(l,"] a value was expected but ").concat(p," was found!"))}}},v={},_={},b={};function M(u,l,p){var y;u[l]||(u[l]=[]),(y=u[l])===null||y===void 0||y.push(p)}v={listen:hj.tryCatch(function(u,l){M(_,u,l),function(p){var y;b[p]&&((y=b[p])===null||y===void 0||y.forEach(function(E){v.signal(p,E)}),delete b[p])}(u)},"hj.event.listen"),removeListener:hj.tryCatch(function(u,l){var p=_[u];if(p){var y=p.indexOf(l);y!==-1&&p.splice(y,1)}},"hj.event.removeListener"),signal:hj.tryCatch(function(u,l,p){var y;_[u]?(y=_[u])===null||y===void 0||y.forEach(function(E){E(l)}):p?M(b,u,l):b[u]=[l]},"hj.event.signal"),clearAllListeners:hj.tryCatch(function(){_={},b={}},"hj.event.clearAllListeners")};var x,N,C=((N=function(){return x()}).test=x=function(){var u;if(!navigator)return"No User-Agent Provided";if((u=navigator.userAgentData)!==null&&u!==void 0&&u.mobile)return"mobile";var l=function(p){return navigator.userAgent.match(p)};return l(/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/i)||l(/Xbox|PLAYSTATION.3|Wii/i)?"tv":l(/iPad/i)||l(/tablet/i)&&!l(/RX-34/i)||l(/FOLIO/i)||l(/Linux/i)&&l(/Android/i)&&!l(/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945|Chromebook/i)||l(/Kindle/i)||l(/Mac.OS/i)&&l(/Silk/i)||l(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|\_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||l(/MB511/i)&&l(/RUTEM/i)?"tablet":l(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/i)||l(/Opera/i)&&l(/Windows.NT.5/i)&&l(/HTC|Xda|Mini|Vario|SAMSUNG\-GT\-i8000|SAMSUNG\-SGH\-i9/i)?"mobile":l(/Windows.(NT|XP|ME|9)/)&&!l(/Phone/i)||l(/Win(9|.9|NT)/i)||l(/Macintosh|PowerPC/i)&&!l(/Silk/i)||l(/Linux/i)&&l(/X11/i)||l(/Solaris|SunOS|BSD/i)||l(/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i)&&!l(/Mobile/i)||l(/\b(CrOS|Chromebook)\b/i)?"desktop":"mobile"},N);function H(u){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},H(u)}var j=hj.tryCatch(function(u){var l,p,y;for(l=u.length-1;l>0;l-=1)p=Math.floor(Math.random()*(l+1)),y=u[l],u[l]=u[p],u[p]=y;return u},"utils.shuffle"),O=(hj.tryCatch(function(u){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(u)},"utils.validateEmail"),hj.tryCatch(function(){return hj.userDeviceType||(hj.userDeviceType=C(),hj.userDeviceType==="mobile"&&(hj.userDeviceType="phone")),hj.userDeviceType},"utils.deviceType")),et=hj.tryCatch(function(){var u=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!u&&window.screen?window.screen.width:document.body.clientWidth,height:!u&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"utils.getWindowSize"),Z=function(u,l,p,y,E){var T=1;if(E!==void 0&&hj.log.debug("Retry iteration ".concat(T," of ").concat(E)),u())return l(!0);var V=setInterval(function(){return T++,u()?(clearInterval(V),l(!0)):T>=y?(clearInterval(V),l(!1)):void 0},p)},lt=function(u,l){return function(p,y){hj.log.debug("[".concat(u,"] ").concat(p),l,y)}},Vt=function(u){return u&&typeof u=="string"?u.replace(/[\W_]+/g,"-"):""};function Kt(u){try{return decodeURIComponent(u)}catch{return u}}function he(u){for(var l,p=[],y=new RegExp("[^?&]?"+u.replace(/\[/,"\\[").replace(/]/,"\\]")+"=([^&]+)","g");l=y.exec(location.search);)p.push(Kt(l[1]));switch(p.length){case 0:return"";case 1:return p[0];default:return p}}var I={},X={};function tt(u,l){var p;if(!I.matchOperations[u.match_operation])return hj.exceptions.log(new Error('Targeting error - "'.concat(u.match_operation,'" match operation does not exist.')),"hj.targeting.matchPatternWithRule"),!1;u.rule_type=u.rule_type||u.component;var y=function(E,T){return!T||E.rule_type!=="date"||E.match_operation!=="less_than"&&E.match_operation!=="greater_than"?T:(new Date(T).valueOf()/1e3).toFixed(0)}(u,l);return(p=I.matchOperations[u.match_operation](u,y)).error?(hj.exceptions.log(new Error("Targeting error - ".concat(u.match_operation," - ").concat(p.error)),"hj.targeting.matchPatternWithRule"),!1):(u.component!=="url"&&u.negate&&(p=!p),function(E,T,V){var L=V?"Match ":"No Match ";!V||E.component!=="url"&&E.component!=="device"||(L+=E.component+"|"+E.match_operation+"|"+E.pattern+(E.negate?" [NEGATE]":""),hj.log.debug(L,"targeting")),E.component!=="attribute"&&E.component!=="event"||(L+=E.component+"|"+E.name+" ("+E.rule_type+")|"+E.match_operation+"|"+E.pattern+"|compared with: "+T+(E.negate?" [NEGATE]":""),hj.log.debug(L,"targeting"))}(u,l,p),p)}function ot(u){var l,p=O();return(l=u.length===0||u.length===3||u.some(function(y){return tt(y,p)}))?hj.log.debug("Device match found","targeting"):hj.log.debug("No device match found","targeting"),l}var Mt=function(u){var l,p,y;return u==null||(l=u.toLowerCase())===null||l===void 0||(p=l.split("#")[0])===null||p===void 0||(y=p.split("?")[0])===null||y===void 0?void 0:y.replace("http://www.","").replace("https://www.","").replace("http://","").replace("https://","").replace(/\/$/,"")},Ft=function(u,l,p){return function(){return u.apply(null,arguments)?l.apply(null,arguments):p.apply(null,arguments)}},We=function(u,l){return u!==void 0&&l!==void 0&&u!==null&&l!==null},vs=function(u,l){return!isNaN(u.pattern)&&!isNaN(l)&&l!==""&&typeof l!="boolean"},Ys=function(u,l){if(!l||l.toString()===parseInt(l,10).toString())return!1;var p=new Date(l);return p!=="Invalid Date"&&!isNaN(p)},ge=function(u){return Ft(We,u,function(){return!1})},Ye=function(u){return ge(Ft(vs,u,function(l,p){return{error:p?"Cannot compare non-numeric values (rule: { name: '".concat(l.name,`' },
                        pattern: '`).concat(p,"')."):void 0}}))},Pe=function(u){return ge(Ft(Ys,u,function(l,p){return{error:"Cannot compare dates. Given pattern is not a date (rule: { name: '".concat(l.name,"' }, pattern: '").concat(p,"').")}}))};I.matchUrl=function(u,l){var p,y=!1,E=!1,T=!1;if(u.length===0)return hj.log.debug("No URL targeting rules set","targeting"),!1;for(var V=0;V<u.length;V+=1){var L,R;if(!(y=!!(p=u[V])&&tt(p,l))||(L=p)!==null&&L!==void 0&&L.negate||(T=!0),y&&(R=p)!==null&&R!==void 0&&R.negate){E=!0;break}}return(y=T&&!E)?hj.log.debug("URL match found without any negate rules","targeting"):E?hj.log.debug("Negate URL rule match found","targeting"):hj.log.debug("No URL match found","targeting"),y},I.matchRules=hj.tryCatch(function(u,l,p){for(var y,E,T,V,L,R=u.rules,F=u.userAttributeMatchLogic,q={device:{rules:[],isMatch:null,doMatch:ot},url:{rules:[],isMatch:null,doMatch:I.matchUrl},attribute:{rules:[]},trigger:{rules:[]}},Q=0;Q<R.length;Q+=1){var nt=R[Q];if(nt!==void 0){var a=q[nt.component];a!==void 0?a.rules.push(nt):hj.exceptions.log(new Error("Targeting error - ".concat(q[nt.component]," targeting component is not supported.")),"hj.targeting.matchRules")}}hj.log.debug("-- Matching rules for new item --");var S=function(P,k){var ht;l!=="__proto__"&&l!=="constructor"&&(X[l]===void 0&&(X[l]=[]),(ht=X[l])===null||ht===void 0||ht.push({eventName:P,callback:k}),hj.event.listen(P,k))};if(Object.keys(X).forEach(function(P){var k;P!==l&&((k=X[P])===null||k===void 0||k.forEach(function(ht){hj.event.removeListener(ht.eventName,ht.callback)}),delete X[P])}),(y=q.device)!==null&&y!==void 0&&y.doMatch&&((E=q.device)===null||E===void 0||!E.doMatch(q.device.rules)))return!1;var w=function(){var P;return function(k,ht){function st(Ee){hj.log.debug(Ee,"targeting")}if(k===void 0||k.length===0)return st("No specific user attribute targeting rules set."),!0;var re=function(Ee){return tt(Ee,hj.userAttributes.get(Ee.name))};return ht==="and"&&k.every(re)?(st("All user attributes matched. (AND logic)"),!0):ht==="or"&&k.some(re)?(st("A user attribute matched. (OR logic)"),!0):(st("User attributes set do not match current visitor."),!1)}((P=q.attribute)===null||P===void 0?void 0:P.rules,F!=null?F:"and")},A=(T=q.trigger)===null||T===void 0?void 0:T.rules;if(A!=null&&A.length){hj.log.debug("Setting up targeting listeners for trigger rules","targeting");var m=function(){w()&&(p==null||p(!0))};A.forEach(function(P){var k="trigger:"+P.pattern;S(k,m)})}var D=q.url&&q.url.doMatch&&((V=q.url)===null||V===void 0?void 0:V.doMatch(q.url.rules,l));return((L=q.attribute)===null||L===void 0?void 0:L.rules.length)===0||w()?!!D&&(p==null||p(),!0):(hj.log.debug("Setting up targeting listeners for attribute rules","targeting"),S("user-attributes-set",function(){D&&w()&&(p==null||p(!0))}),!1)},"hj.targeting.matchRules"),I.matchOperations={exact:function(u,l){return u.rule_type==="string"?ge(function(p,y){return y.toLowerCase()===p.pattern.toLowerCase()})(u,l):u.rule_type==="boolean"?(u.pattern=String(u.pattern)==="true",l===u.pattern):u.rule_type==="number"?l!=null&&Number(l)===Number(u.pattern):l===u.pattern},starts_with:ge(function(u,l){return(l=l||"").indexOf(u.pattern)===0}),ends_with:ge(function(u,l){var p=l.length-u.pattern.length==-1?0:l.length-u.pattern.length;return l.substring(p,l.length)===u.pattern}),contains:ge(function(u,l){return(l=l||"").indexOf(u.pattern)!==-1}),regex:ge(function(u,l){try{return new RegExp(u.pattern).test(l)}catch{return hj.log.error(`The regular expression used for page targeting was invalid. Please provide a valid regular
                        expression.

Read more here: https://help.hotjar.com/hc/en-us/articles/115012727628`),!1}}),simple:ge(function(u,l){return Mt(l)===Mt(u.pattern)}),greater_than:Ye(function(u,l){return Number(l)>Number(u.pattern)}),less_than:Ye(function(u,l){return Number(l)<Number(u.pattern)}),unknown:function(u,l){return(l=typeof l=="string"?l.trim():l)!==0&&l!==!1&&!l},exact_date:Pe(function(u,l){var p=new Date(1e3*u.pattern);return new Date(l).toDateString()===p.toDateString()}),exact_days_ago:Pe(function(u,l){var p,y=new Date;return p=y.setDate(y.getDate()-Number(u.pattern)),p=new Date(p),new Date(l).toDateString()===p.toDateString()}),more_than_days_ago:Pe(function(u,l){var p=Number(u.pattern)+1,y=new Date().getTime()/1e3;return y-=86400*p,new Date(l).getTime()/1e3<=y}),less_than_days_ago:Pe(function(u,l){if(Number(u.pattern)===0)return I.matchOperations.exact_days_ago(u,l);var p=new Date().getTime()/1e3;return p-=86400*Number(u.pattern),new Date(l).getTime()/1e3>=p})};var fe={getFeatures:hj.tryCatch(function(){return hj.settings.features||[]},"hj.features.getFeatures"),hasFeature:hj.tryCatch(function(u){var l;try{var p=window.localStorage.getItem("HJ_OVERRIDE_FEATURE:".concat(u));l=p==="true"||p==="1"}catch{l=!1}return fe.getFeatures().indexOf(u)>-1||l},"hj.features.hasFeature")};function Ct(u){return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ct(u)}var At=function(u){var l,p,y,E=window._hjDocument||document;if(B.selector=u,B.isWindow(u))return this[0]=window,this.length=1,this;if(B.isDocument(u,E))return this[0]=E,this.length=1,this;if(Ct(u)==="object")return this[0]=u,this.length=1,this;if(typeof u=="string"&&u.charAt(0)==="<"&&u.charAt(u.length-1)===">"&&u.length>=3)return(l=E.createElement("div")).innerHTML=u,this[0]=l.childNodes[0],this.length=1,this;if(typeof u=="string"){isNaN(u.charAt(1))||u.charAt(0)!=="."&&u.charAt(0)!=="#"||(u=u.charAt(0)+"\\3"+u.charAt(1)+" "+u.slice(2));try{p=E.querySelectorAll(u)}catch{return this.length=0,this}for(y=0;y<p.length;y+=1)this[y]=p[y];return this.length=p.length,this}return this};At.prototype.val=function(u){return u!==void 0&&this.length>0&&(this[0].value=u),this[0]===void 0?void 0:this[0]?this[0].value:""},At.prototype.each=function(u,l){Array.prototype.forEach.call(this,function(p,y,E){l(y,p,E)})},At.prototype.hasClass=function(u){return this[0].classList?this[0].classList.contains(u):new RegExp("(^| )"+u+"( |$)","gi").test(this[0].className)},At.prototype.remove=function(){var u;for(u=0;u<this.length;u+=1)this[u].parentNode.removeChild(this[u])},At.prototype.trigger=function(u){var l,p,y,E=u.split(" ");for(l=0;l<this.length;l+=1)for(p=0;p<E.length;p+=1)(y=document.createEvent("HTMLEvents")).initEvent(E[p],!0,!1),this[l].dispatchEvent(y)},At.prototype.on=function(u,l,p,y){var E,T,V,L,R,F,q,Q,nt=u.split(" ");if(y=!!y,B.isDocument(this[0])&&typeof l=="string")for(T=0;T<nt.length;T+=1)typeof l=="string"?(typeof p=="boolean"&&p===!1&&(p=function(a){return a.preventDefault(),!1}),V=l+"."+nt[T],L=function(a){if(R=document.querySelectorAll(l)){for(F=a.target,q=-1;F&&(q=Array.prototype.indexOf.call(R,F))===-1;)F=F.parentElement;q>-1&&p.call(F,a)}},Array.isArray(B.eventHandlers[V])||(B.eventHandlers[V]=[]),B.eventHandlers[V].push(L),document.addEventListener(nt[T].split(".")[0],L,!0)):(typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),Array.isArray(B.eventHandlers.document)||(B.eventHandlers.document=[]),B.eventHandlers.document.push(l),this[0].addEventListener(nt[T].split(".")[0],l,y));else if(B.isDocument(this[0]))for(T=0;T<nt.length;T+=1)typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),V="document."+nt[T],Array.isArray(B.eventHandlers[V])||(B.eventHandlers[V]=[]),B.eventHandlers[V].push(l),document.addEventListener(nt[T].split(".")[0],l,y);else if(B.isWindow(this[0]))for(T=0;T<nt.length;T+=1)typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),V="window."+nt[T],Array.isArray(B.eventHandlers[V])||(B.eventHandlers[V]=[]),B.eventHandlers[V].push(l),window.addEventListener(nt[T].split(".")[0],l,y);else for(E=0;E<this.length;E+=1)for(T=0;T<nt.length;T+=1)Ct(l)==="object"?(Q=l,l=function(a){a.data=Q,p.call(this[E],a)}):typeof l=="boolean"&&l===!1&&(l=function(a){return a.preventDefault(),!1}),V=B.selector+"."+nt[T],Array.isArray(B.eventHandlers[V])||(B.eventHandlers[V]=[]),B.eventHandlers[V].push(l),this[E].addEventListener(nt[T].split(".")[0],l,y);return this},At.prototype.off=function(u,l,p,y){var E,T,V,L=u.split(" ");for(y=!!y,E=0;E<this.length;E+=1)for(T=0;T<L.length;T+=1)if(B.isDocument(this[E])&&typeof l=="string")if(p===void 0){if(Ct(B.eventHandlers[l+"."+L[T]])==="object"){for(V=0;V<B.eventHandlers[l+"."+L[T]].length;V+=1)document.removeEventListener(L[T].split(".")[0],B.eventHandlers[l+"."+L[T]][V],!0);delete B.eventHandlers[l+"."+L[T]]}}else document.removeEventListener(L[T].split(".")[0],p,y);else if(B.isDocument(this[E]))if(l===void 0){if(Ct(B.eventHandlers["document."+L[T]])==="object"){for(V=0;V<B.eventHandlers["document."+L[T]].length;V+=1)document.removeEventListener(L[T].split(".")[0],B.eventHandlers["document."+L[T]][V],y);delete B.eventHandlers["document."+L[T]]}}else document.removeEventListener(L[T].split(".")[0],l,y);else if(B.isWindow(this[E]))if(l===void 0){if(Ct(B.eventHandlers["window."+L[T]])==="object"){for(V=0;V<B.eventHandlers["window."+L[T]].length;V+=1)window.removeEventListener(L[T].split(".")[0],B.eventHandlers["window."+L[T]][V],y);delete B.eventHandlers["window."+L[T]]}}else window.removeEventListener(L[T].split(".")[0],l,y);else if(l===void 0){if(Ct(B.eventHandlers[B.selector+"."+L[T]])==="object"){for(V=0;V<B.eventHandlers[B.selector+"."+L[T]].length;V+=1)this[E].removeEventListener(L[T].split(".")[0],B.eventHandlers[B.selector+"."+L[T]][V],y);delete B.eventHandlers[B.selector+"."+L[T]]}}else this[E].removeEventListener(L[T].split(".")[0],l,y);return this},At.prototype.scrollTop=function(){return B.isWindow(this[0])||B.isDocument(this[0])?window.document.body.scrollTop||window.document.documentElement.scrollTop:this[0].scrollTop},At.prototype.scrollLeft=function(){return B.isWindow(this[0])||B.isDocument(this[0])?document.body.scrollLeft||document.documentElement.scrollLeft:this[0].scrollLeft},At.prototype.height=function(){var u;return B.isWindow(this[0])?document.documentElement.clientHeight:this[0].nodeType===9?(u=this[0].documentElement,Math.max(this[0].body.scrollHeight,u.scrollHeight,this[0].body.offsetHeight,u.offsetHeight,u.clientHeight)):Math.max(this[0].scrollHeight,this[0].offsetHeight)},At.prototype.width=function(){var u;return B.isWindow(this[0])?document.documentElement.clientWidth:this[0].nodeType===9?(u=this[0].documentElement,Math.max(this[0].body.scrollWidth,u.scrollWidth,this[0].body.offsetWidth,u.offsetWidth,u.clientWidth)):Math.max(this[0].scrollWidth,this[0].offsetWidth)},At.prototype.attr=function(u,l){var p;if(l||l===""){for(p=0;p<this.length;p+=1)this[p].setAttribute(u,l);return this}return this[0]&&Ct(this[0])==="object"&&this[0].getAttribute(u)!==null?this[0].getAttribute(u):void 0},At.prototype.is=function(u){return function(l,p){var y=l.matchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.webkitMatchesSelector||l.oMatchesSelector;if(y)return y.call(l,p);for(var E=l.parentNode.querySelectorAll(p),T=E.length;T>=0;T-=1)if(E[T]===l)return!0;return!1}(this[0],u)},At.prototype.ready=function(u){B.isDocument(this[0])&&(document.readyState==="interactive"||document.readyState==="complete"||document.readyState==="loaded"?u():document.addEventListener("DOMContentLoaded",u,!1))},At.prototype.parent=function(){var u;return((u=this[0].parentNode)===null||u===void 0?void 0:u.nodeName)==="#document-fragment"?B(this[0].parentNode.host):B(this[0].parentNode)},At.prototype.get=function(u){return this[u]},At.prototype.removeAttr=function(u){var l;for(l=0;l<this.length;l+=1)this[l].removeAttribute(u);return this};var B=function(u){return new At(u)};B.isFunction=function(u){return typeof u=="function"},B.isWindow=function(u){return u===s.g},B.isDocument=function(u,l){return u===(l||document)},B.noop=function(){},B.stringify=function(u){if(Array.prototype.toJSON===void 0)return JSON.stringify(u);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(u)}finally{Array.prototype.toJSON=l}},B.stringify=function(u){if(Array.prototype.toJSON===void 0)return JSON.stringify(u);var l=Array.prototype.toJSON;delete Array.prototype.toJSON;try{return JSON.stringify(u)}finally{Array.prototype.toJSON=l}},B.each=function(u,l){var p,y,E;if(Ct(u)==="object"&&Object.prototype.toString.call(u)!=="[object Array]"){if((y=u[Object.keys(u)[0]])&&y.nodeName!==void 0){for(p in u)if(Object.prototype.hasOwnProperty.call(u,p)&&p!=="length"&&l(p,u[p],u)===!1)break}else for(p in u)if(Object.prototype.hasOwnProperty.call(u,p)&&l(p,u[p],u)===!1)break}else if(u!==void 0)for(E=0;E<u.length&&l(E,u[E],u)!==!1;E+=1);},At.prototype.append=function(u){var l;Ct(u)==="object"?B.selector==="body"?document.body.appendChild(u.get(0)):this[0].appendChild(u.get(0)):B.selector==="body"?((l=document.createElement("div")).innerHTML=u,document.body.appendChild(l)):((l=document.createElement("div")).innerHTML=u,this[0].appendChild(l))},B.ajax=function(u){var l=new XMLHttpRequest;u.type=u.type||"GET",u.timeout_ms=u.timeout_ms||15e3,u.withCredentials&&(l.withCredentials=!0),l.open(u.type,u.url,!0),l.timeout=u.timeout_ms,u.type!=="POST"&&u.type!=="PUT"||!u.contentType||l.setRequestHeader("Content-Type",u.contentType),l.onload=function(){l.status>=200&&l.status<400?B.isFunction(u.success)&&u.success(l.responseText&&JSON.parse(l.responseText),l):B.isFunction(u.error)&&u.error(l)},l.onerror=function(){B.isFunction(u.error)&&u.error(l)},l.ontimeout=function(){B.isFunction(u.timeout)&&u.timeout(l)},B.isFunction(u.requestAnnotator)&&u.requestAnnotator(l),u.type!=="POST"&&u.type!=="PUT"||!u.data?l.send():l.send(u.data)},B.eventHandlers={},B.selector="",B.trim=function(u){return typeof u=="string"?u.replace(/^\s+|\s+$/gm,""):""},B.isUndefined=function(u){return u===void 0},B.isNullOrUndefined=function(u){return u===null||B.isUndefined(u)},B.inArray=function(u,l){var p=l.indexOf(u);return p!==void 0&&p!==-1},B.values=function(u){return Object.keys(u).map(function(l){return u[l]})};var Rr={get:function(u,l,p){l=l||B.noop,p=p||B.noop,B.ajax({url:u,success:hj.tryCatch(l,"Data"),error:hj.tryCatch(p,"Data")})},post:function(u,l,p,y){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{contentType:"json"};p=p||B.noop,y=y||B.noop;var T=E!=null&&E.query?"".concat(u,"?").concat(E.query):u;return B.ajax({url:T,type:"POST",data:(E==null?void 0:E.contentType)==="json"?B.stringify(l):l,contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(p,"Data"),error:hj.tryCatch(y,"Data")})},putAsJSON:function(u,l,p,y){p=p||B.noop,y=y||B.noop,B.ajax({url:u,type:"PUT",data:B.stringify(l),contentType:"text/plain; charset=UTF-8",success:hj.tryCatch(p,"Data"),error:hj.tryCatch(y,"Data")})},postAsJSON:function(u,l,p,y){return p=p||B.noop,y=y||B.noop,B.ajax({url:u,type:"POST",data:B.stringify(l),contentType:"application/json; charset=UTF-8",success:hj.tryCatch(p,"Data"),error:hj.tryCatch(y,"Data")})}},mi=[],Xs=[];function Cr(u,l){hj.tryCatch(l,"Rendering")(u)}function qi(u,l){hj.widgetDelay.set(function(){hj.tryCatch(l,"Rendering")(u)},1e3*u.display_delay)}function Wi(u,l,p){var y=hj.hq(document),E=hj.hq(window),T=[];function V(){hj.tryCatch(l,"Rendering")(u),y.off("mousemove."+p),y.off("mouseout."+p)}mi.push(p),y.off("mousemove."+p),y.off("mouseout."+p),y.on("mousemove."+p,hj.tryCatch(function(L){var R,F,q,Q;T.push({x:L.clientX,y:L.clientY}),T.length>2&&(((R=T[1])===null||R===void 0?void 0:R.x)===((F=T[2])===null||F===void 0?void 0:F.x)&&((q=T[1])===null||q===void 0?void 0:q.y)===((Q=T[2])===null||Q===void 0?void 0:Q.y)?T.pop():T.shift())},"Rendering")),y.on("mouseout."+p,hj.tryCatch(function(L){var R=this;L.relatedTarget&&(!R||L.relatedTarget===R||R.compareDocumentPosition(L.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||function(F){var q=T[1],Q=T[0];if(F|=0,q!==void 0&&!(Q&&q.y>=Q.y||F>0)){if(Q&&Q.x===q.x)V();else if(Q){var nt=Q.y-q.y/Q.x-q.x,a=-(Q.y-nt*Q.x)/nt;a>0&&a<E.width()&&V()}}}(L.clientY)},"Rendering"))}function Yi(u,l,p){var y=hj.hq(document),E=hj.hq(window);Xs.push(p),E.off("scroll."+p),E.on("scroll."+p,hj.tryCatch(function(){var T=y.height();(y.scrollTop()+et().height)/T>=.5&&(E.off("scroll."+p),l(u))},"Rendering"))}var Ss={clearAllAbandonEvents:hj.tryCatch(function(){mi.forEach(function(u){hj.log.debug("Removing abandon events for "+u,"rendering"),hj.hq(document).off("mousemove."+u),hj.hq(document).off("mouseout."+u)}),mi=[]},"hj.rendering.clearAllAbandonEvents"),clearAllScrollEvents:hj.tryCatch(function(){Xs.forEach(function(u){hj.log.debug("Removing scroll events for "+u,"rendering"),hj.hq(window).off("scroll."+u)}),Xs=[]},"hj.rendering.clearAllScrollEvents"),callAccordingToCondition:hj.tryCatch(function(u,l,p){var y={immediate:Cr,delay:qi,abandon:Wi,scroll:Yi}[u.display_type==="inline"?"immediate":u.display_condition];if(hj.log.debug("Calling active item ("+l+"): "+u.display_condition,"rendering"),!y)throw new Error('Unhandled display condition: "'+u.display_condition+'"');hj.tryCatch(y,"Rendering")(u,p,l)},"hj.rendering.callAccordingToCondition")},_e=function(u,l){return u+l&4294967295};function yi(u,l){var p=Wt(p=u[0],T=u[1],E=u[2],y=u[3],l[0],7,-680876936),y=Wt(y,p,T,E,l[1],12,-389564586),E=Wt(E,y,p,T,l[2],17,606105819),T=Wt(T,E,y,p,l[3],22,-1044525330);p=Wt(p,T,E,y,l[4],7,-176418897),y=Wt(y,p,T,E,l[5],12,1200080426),E=Wt(E,y,p,T,l[6],17,-1473231341),T=Wt(T,E,y,p,l[7],22,-45705983),p=Wt(p,T,E,y,l[8],7,1770035416),y=Wt(y,p,T,E,l[9],12,-1958414417),E=Wt(E,y,p,T,l[10],17,-42063),T=Wt(T,E,y,p,l[11],22,-1990404162),p=Wt(p,T,E,y,l[12],7,1804603682),y=Wt(y,p,T,E,l[13],12,-40341101),E=Wt(E,y,p,T,l[14],17,-1502002290),p=Jt(p,T=Wt(T,E,y,p,l[15],22,1236535329),E,y,l[1],5,-165796510),y=Jt(y,p,T,E,l[6],9,-1069501632),E=Jt(E,y,p,T,l[11],14,643717713),T=Jt(T,E,y,p,l[0],20,-373897302),p=Jt(p,T,E,y,l[5],5,-701558691),y=Jt(y,p,T,E,l[10],9,38016083),E=Jt(E,y,p,T,l[15],14,-660478335),T=Jt(T,E,y,p,l[4],20,-405537848),p=Jt(p,T,E,y,l[9],5,568446438),y=Jt(y,p,T,E,l[14],9,-1019803690),E=Jt(E,y,p,T,l[3],14,-187363961),T=Jt(T,E,y,p,l[8],20,1163531501),p=Jt(p,T,E,y,l[13],5,-1444681467),y=Jt(y,p,T,E,l[2],9,-51403784),E=Jt(E,y,p,T,l[7],14,1735328473),p=se(p,T=Jt(T,E,y,p,l[12],20,-1926607734),E,y,l[5],4,-378558),y=se(y,p,T,E,l[8],11,-2022574463),E=se(E,y,p,T,l[11],16,1839030562),T=se(T,E,y,p,l[14],23,-35309556),p=se(p,T,E,y,l[1],4,-1530992060),y=se(y,p,T,E,l[4],11,1272893353),E=se(E,y,p,T,l[7],16,-155497632),T=se(T,E,y,p,l[10],23,-1094730640),p=se(p,T,E,y,l[13],4,681279174),y=se(y,p,T,E,l[0],11,-358537222),E=se(E,y,p,T,l[3],16,-722521979),T=se(T,E,y,p,l[6],23,76029189),p=se(p,T,E,y,l[9],4,-640364487),y=se(y,p,T,E,l[12],11,-421815835),E=se(E,y,p,T,l[15],16,530742520),p=ie(p,T=se(T,E,y,p,l[2],23,-995338651),E,y,l[0],6,-198630844),y=ie(y,p,T,E,l[7],10,1126891415),E=ie(E,y,p,T,l[14],15,-1416354905),T=ie(T,E,y,p,l[5],21,-57434055),p=ie(p,T,E,y,l[12],6,1700485571),y=ie(y,p,T,E,l[3],10,-1894986606),E=ie(E,y,p,T,l[10],15,-1051523),T=ie(T,E,y,p,l[1],21,-2054922799),p=ie(p,T,E,y,l[8],6,1873313359),y=ie(y,p,T,E,l[15],10,-30611744),E=ie(E,y,p,T,l[6],15,-1560198380),T=ie(T,E,y,p,l[13],21,1309151649),p=ie(p,T,E,y,l[4],6,-145523070),y=ie(y,p,T,E,l[11],10,-1120210379),E=ie(E,y,p,T,l[2],15,718787259),T=ie(T,E,y,p,l[9],21,-343485551),u[0]=_e(p,u[0]),u[1]=_e(T,u[1]),u[2]=_e(E,u[2]),u[3]=_e(y,u[3])}function _s(u,l,p,y,E,T){return l=_e(_e(l,u),_e(y,T)),_e(l<<E|l>>>32-E,p)}function Wt(u,l,p,y,E,T,V){return _s(l&p|~l&y,u,l,E,T,V)}function Jt(u,l,p,y,E,T,V){return _s(l&y|p&~y,u,l,E,T,V)}function se(u,l,p,y,E,T,V){return _s(l^p^y,u,l,E,T,V)}function ie(u,l,p,y,E,T,V){return _s(p^(l|~y),u,l,E,T,V)}function jo(u){var l,p=[];for(l=0;64>l;l+=4)p[l>>2]=u.charCodeAt(l)+(u.charCodeAt(l+1)<<8)+(u.charCodeAt(l+2)<<16)+(u.charCodeAt(l+3)<<24);return p}var Ir="0123456789abcdef".split("");function Ho(u){for(var l="",p=0;4>p;p++)l+=Ir[u>>8*p+4&15]+Ir[u>>8*p&15];return l}var Pr=function(u,l){var p="";try{p=function(y){for(var E=0;E<y.length;E++)y[E]=Ho(y[E]);return y.join("")}(function(y){var E,T=y.length,V=[1732584193,-271733879,-1732584194,271733878];for(E=64;E<=y.length;E+=64)yi(V,jo(y.substring(E-64,E)));y=y.substring(E-64);var L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(E=0;E<y.length;E++)L[E>>2]|=y.charCodeAt(E)<<(E%4<<3);if(L[E>>2]|=128<<(E%4<<3),55<E)for(yi(V,L),E=0;16>E;E++)L[E]=0;return L[14]=8*T,yi(V,L),V}(e(u)))}catch(y){l?p="":hj.exceptions.log(y,"md5")}return p};Pr("hello")!="5d41402abc4b2a76b9719d911017c592"&&(_e=function(u,l){var p=(65535&u)+(65535&l);return(u>>16)+(l>>16)+(p>>16)<<16|65535&p});var _t={id:void 0,attributes:{},init:hj.tryCatch(function(){if(hj.settings.user_attributes_enabled){var u=function(){var l=hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.get()==="true"?hj.bridge.storage.localStorage.USER_ATTRIBUTES.get():void 0;if(l)try{var p=function(y){try{var E=JSON.parse(y);if(E&&H(E)==="object")return!0}catch{}return!1}(l)?l:hj.b64DecodeUnicode(l);return JSON.parse(p)}catch{return}}();u&&(_t.id=u.userId,_t.attributes=u.attributes,delete _t.attributes.contentsquare_replay_link)}},"userAttributes.init"),reset:hj.tryCatch(function(){_t.id=void 0,_t.attributes={},hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.clear(),hj.bridge.storage.localStorage.USER_ATTRIBUTES.clear()},"userAttributes.reset"),set:hj.tryCatch(function(u,l){var p,y,E,T,V;l&&l.contentsquare_replay_link&&(hj.log.debug("Storing contentsquare_replay_link user attribute: ".concat(l.contentsquare_replay_link),"userAttributes"),_t.attributes.contentsquare_replay_link=l.contentsquare_replay_link),hj.settings.user_attributes_enabled?(_t.id!==void 0&&_t.id!==null&&_t.id!==u&&(hj.log.debug("User ID changed, resetting all attributes before continuing.","userAttributes"),_t.reset()),_t.id=u,_t.attributes=(p=_t.attributes,y={},E={},[p,l].forEach(function(L){if(L)for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&R!=="length"&&(y[R]=L[R])}),Object.keys(y).sort().forEach(function(L){E[L]=y[L]}),E),T={attributes:_t.attributes,userId:_t.id},V=hj.b64EncodeUnicode(JSON.stringify(T)),hj.bridge.storage.localStorage.USER_ATTRIBUTES.set(V),hj.bridge.storage.items.HAS_CACHED_USER_ATTRIBUTES.set("true",!0),hj.event.signal("user-attributes-set"),hj.bridge.isRecordingEnabled()?_t.flush():hj.log.debug("No recording in progress. Not sending.","userAttributes")):hj.log.debug("User attributes not enabled. Doing nothing.","userAttributes")},"userAttributes.set"),flush:hj.tryCatch(function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hj.hq.noop;if(_t.id!==void 0||Object.keys(_t.attributes).length){var l=hj.bridge.storage.items.USER_ATTRIBUTES_HASH.get({resetExpiry:!0}),p=hj.md5(JSON.stringify({allAttributes:_t.attributes,userId:_t.id}));if(l===p)return u(null,_t.id,_t.attributes),void hj.log.debug("No changed user attributes. Not sending.","userAttributes");hj.bridge.storage.items.USER_ATTRIBUTES_HASH.set(p),hj.debug.isOn()&&function(y,E){hj.ajax.post("".concat(hj.identifyEndpoint,"/sites/").concat(hj.settings.site_id,"/users/").concat(hj.bridge.getSessionUserId(!0),"/validate"),{user_id:y,attributes:E},hj.tryCatch(function(T){T.errors&&Object.keys(T.errors).length>0?hj.log.debug("User validation API call PARTIALLY successful (some errors).","userAttributes",T):hj.log.debug("User validation API call successful.","userAttributes",T)},"userAttributes"),hj.tryCatch(function(T){hj.log.debug("User Attributes validation API call failed.","userAttributes",T.responseText&&JSON.parse(T.responseText)||"unknown_failure")},"userAttributes"))}(_t.id,_t.attributes),hj.bridge.flushUserAttributes(_t.id,_t.attributes),u(null,_t.id,_t.attributes)}else u(Error("no_user"))},"userAttributes.flush"),get:hj.tryCatch(function(u){return u==="user_id"?_t.id:u&&_t.attributes[u]},"userAttributes.get")},Ei={},Xi={"user.id":void 0},Bo={get:function(u){return Xi[u]},set:function(u,l){Xi[u]=l;var p=Ei[u];typeof p=="function"&&l&&(p(l),delete Ei[u])},on:function(u,l){Ei[u]=l;var p=Xi[u];p&&(l(p),delete Ei[u])},reset:function(){Ei={},Xi={"user.id":void 0}}},An=hj.tryCatch(function(){var u=function(){try{return window.self!==window.top}catch{return!0}}(),l={width:!u&&window.screen?window.screen.width:document.body.clientWidth,height:!u&&window.screen?window.screen.height:document.body.clientHeight};return{width:window.innerWidth||document.documentElement.clientWidth||l.width,height:window.innerHeight||document.documentElement.clientHeight||l.height}},"common"),Fo=hj.tryCatch(function(){var u,l;if(document&&document.documentElement&&document.documentElement.clientWidth)u=document.documentElement.clientWidth,l=document.documentElement.clientHeight;else{var p=An();u=p.width,l=p.height}return{width:u,height:l}},"common"),$o=hj.tryCatch(function(u){return u=u||window,{left:hj.hq(u).scrollLeft(),top:hj.hq(u).scrollTop()}},"common"),zo=hj.tryCatch(function(){var u=parseInt(1e3*(hj.hq(window).scrollTop()+hj.ui.getWindowSize().height)/hj.hq(document).height(),10);return Math.min(1e3,u)},"common"),Go=hj.tryCatch(function(u){var l=hj.ui.getScrollPosition();hj.hq(document).on("scroll.hotjarDisable resize.hotjarDisable mousewheel.hotjarDisable DOMMouseScroll.hotjarDisable touchmove.hotjarDisable",hj.tryCatch(function(p){p.preventDefault(),window.scrollTo(l.left,l.top),u&&u()},"common"))},"common"),$l=hj.tryCatch(function(){hj.hq(document).off("scroll.hotjarDisable"),hj.hq(document).off("resize.hotjarDisable"),hj.hq(document).off("mousewheel.hotjarDisable"),hj.hq(document).off("DOMMouseScroll.hotjarDisable"),hj.hq(document).off("touchmove.hotjarDisable")},"common"),Tn={getWindowSize:An,getDocumentSize:Fo,getScrollPosition:$o,getBottomAsPercentage:zo,disableScrolling:Go,enableScrolling:$l},qo=function(){var u=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).uuid;hj.debug=o,hj.log=g,hj.hq=B,hj.ajax=Rr,hj.uuid=u||window.hj.uuid,hj.encodeAsUtf8=e,hj.b64EncodeUnicode=i,hj.b64DecodeUnicode=n,hj.md5=Pr,hj.event=v,hj.userAttributes=_t,hj.targeting=I,hj.features=fe,hj.rendering=Ss,hj.ui=Tn,hj.store={session:Bo}},Wo=hj.tryCatch(function(){var u=he("hjDebug");u&&(u==="1"||u==="true"?hj.debug.on(!0):hj.debug.off())},"init"),bn={storage:{},set:hj.tryCatch(function(u){bn.storage.events=u},"sessionEvents.set"),get:hj.tryCatch(function(){return bn.storage.events},"sessionEvents.get")};function je(u){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},je(u)}function ws(){return ws=Object.assign?Object.assign.bind():function(u){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},ws.apply(this,arguments)}function Rn(u,l){return function(p){if(Array.isArray(p))return p}(u)||function(p,y){var E=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(E!=null){var T,V,L,R,F=[],q=!0,Q=!1;try{if(L=(E=E.call(p)).next,y===0){if(Object(E)!==E)return;q=!1}else for(;!(q=(T=L.call(E)).done)&&(F.push(T.value),F.length!==y);q=!0);}catch(nt){Q=!0,V=nt}finally{try{if(!q&&E.return!=null&&(R=E.return(),Object(R)!==R))return}finally{if(Q)throw V}}return F}}(u,l)||function(p,y){if(p){if(typeof p=="string")return Or(p,y);var E=Object.prototype.toString.call(p).slice(8,-1);return E==="Object"&&p.constructor&&(E=p.constructor.name),E==="Map"||E==="Set"?Array.from(p):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?Or(p,y):void 0}}(u,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Or(u,l){(l==null||l>u.length)&&(l=u.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=u[p];return y}var Nr,As,me,Cn={getAsNumber:function(){var u=hj.bridge.getSessionUserId(!0);return(parseInt((u==null?void 0:u.slice(-10))||"",16)+1)/Math.pow(2,40)},compareRatio:hj.tryCatch(function(u,l){return Cn.getAsNumber()*(l?100:1)<=u},"identifier.compareRatio")},Ts=["af","ar","bg","ca","cs","cy","da","de","el","en","es","et","fa","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","mis","nb","nl","pl","pt_BR","pt","ro","ru","sk","sl","sq","sr","sv","sw","th","tl","tr","uk","vi","zh_CN","zh_TW"],Ks=Object.freeze({POPOVER:"popover",FULL_SCREEN:"full_screen",EXTERNAL:"external_link",BUTTON:"button",INLINE_EMBEDDED:"inline",BUBBLE:"bubble",MOBILE_POPOVER:"mobile_popover"}),In=hj.tryCatch(function(){hj.widget=function(){var u,l={},p=["ar","fa","he"],y=[],E=[],T=[],V=[],L=!1;return l.ctrl=void 0,l.data=void 0,l.model={},l.activeLanguageDirection="ltr",l.widgetAttributePrefix="_hj-f5b2a1eb-9b07",l.getCtaLinks=function(){return{polls:"https://www.hotjar.com/feedback-surveys?utm_source=client&utm_medium=poll&utm_campaign=insights",surveys:"https://www.hotjar.com/?utm_source=client&utm_medium=survey&utm_campaign=insights"}},l.getActiveLanguage=function(){var R;return(R=u)!==null&&R!==void 0?R:"en"},l.addMatchingWidget=function(R,F,q,Q,nt,a,S,w){var A=S===Ks.INLINE_EMBEDDED;if(Q===void 0||hj.isPreview||Cn.compareRatio(Q,!0)){var m={type:R,id:F,created:q,runCallback:nt,removeCallback:a,isInlineEmbedded:A,targetingRules:w,displayType:S};L?l.setActiveWidget(m):((A?E:y).push(m),A&&V.push(m))}else hj.log.debug("Session identifier not in targeting percentage. Widget will not match.","targeting")},l.clearWidget=hj.tryCatch(function(){var R="#_hj_poll_container,._hj-widget-container";hj.hq(R).length>0&&(hj.log.debug("Removing previously shown widget from DOM","widgets"),hj.hq(R).remove())},"widgets"),l.emptyMatchingWidgets=function(){y=[],E=[],T.forEach(function(R){R()}),T=[],L=!1},l.isPhoneOrTablet=hj.tryCatch(function(){return hj.widget.isVeryNarrowScreen()||O()==="phone"||O()==="tablet"},"common"),l.isVeryNarrowScreen=hj.tryCatch(function(){return hj.hq(window).width()<=450},"common"),l.removeActiveWidget=function(R){hj.widgetDelay.clear(),Ss.clearAllAbandonEvents(),Ss.clearAllScrollEvents(),R=R||function(){},l.activeWidget?(l.activeWidget.removeCallback&&l.activeWidget.removeCallback(R),delete l.activeWidget):R()},l.runLatestMatchingWidget=function(){var R,F;y.forEach(function(q){var Q=function(nt){return nt.type==="incoming"||nt.displayType==="button"||nt.displayType==="bubble"?0:1}(q);(!R||Q>F||Q===F&&q.created>R.created)&&(R=q,F=Q)}),R?l.setActiveWidget(R):l.removeActiveWidget(),L=!0},l.runInlineEmbeddedWidgets=function(){V=V.filter(function(R){var F=hj.targeting.matchUrl(R.targetingRules,location.href);return F||R.removeCallback(),F}),E.forEach(function(R){R.runCallback()})},l.setActiveWidget=function(R){l.activeWidget&&R.type===l.activeWidget.type&&R.id===l.activeWidget.id||l.removeActiveWidget(function(){R.runCallback(),l.activeWidget=R})},l.setLanguage=hj.tryCatch(function(R){var F=(R||"en").replace("-","_");if(!Ts.includes(F))throw new Error('Invalid language "'+R+'"');u=F,hj.widget.activeLanguageDirection=p.indexOf(F)>-1?"rtl":"ltr",hj.widget.isActiveLanguageDirectionRtl=hj.widget.activeLanguageDirection==="rtl"},"common"),l.registerCleanupForInlineWidget=function(R){T.push(R)},l}(),hj.widgetDelay=function(){var u={},l=null;return u.clear=hj.tryCatch(function(){clearTimeout(l),l=null},"hj.widgetDelay.clear"),u.set=hj.tryCatch(function(p,y){u.clear(),l=setTimeout(p,y)},"hj.widgetDelay.set"),u}()},"widgets"),yt=Object.freeze({LIVE:"LIVE",REVIEW_WEBAPP:"REVIEW_WEBAPP",REVIEW:"REVIEW",STAGING:"STAGING",DEV:"DEV",DEV_OLD:"DEV_OLD"}),vi=(Nr=(me=document.location.host.match(/^(insights-webapp|surveys-webapp|insights|surveys)-(.*?)((?:\.[^.]+)?(?:\.hotjarians\.net)|(?:\.[^.]+)?(?:\.eks\.hotjar\.com))$/))&&{component:me[1],reviewId:me[2],domain:me[3],reviewUrlSuffix:me[2]+me[3]})===null||Nr===void 0?void 0:Nr.reviewUrlSuffix,Qt=Object.freeze(((As={})[yt.LIVE]={INSIGHTS:"insights.hotjar.com",SURVEYS:"surveys.hotjar.com"},As[yt.REVIEW]={INSIGHTS:"insights-".concat(vi),SURVEYS:"surveys-".concat(vi)},As[yt.REVIEW_WEBAPP]={INSIGHTS:"insights-webapp-".concat(vi),SURVEYS:"surveys-webapp-".concat(vi)},As[yt.STAGING]={INSIGHTS:"insights-staging.hotjar.com",SURVEYS:"surveys-staging.hotjar.com"},As[yt.DEV]={INSIGHTS:"local.hotjar.com:8443",SURVEYS:"surveys.local.hotjar.com:8443"},As[yt.DEV_OLD]={INSIGHTS:"local.hotjar.com",SURVEYS:"surveys.local.hotjar.com"},As)),bs=function(u){return function(l,p){return l===Qt[u][p]}},we=bs(yt.DEV),Yo=bs(yt.DEV_OLD),Mr=bs(yt.LIVE),Xo=bs(yt.REVIEW_WEBAPP),Ko=bs(yt.REVIEW),Ki=bs(yt.STAGING),Pn=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.location.href,l=[Qt[yt.LIVE].SURVEYS,Qt[yt.REVIEW_WEBAPP].SURVEYS,Qt[yt.REVIEW].SURVEYS,Qt[yt.STAGING].SURVEYS,Qt[yt.DEV].SURVEYS,Qt[yt.DEV_OLD].SURVEYS],p=document.createElement("a");return p.href=u,l.indexOf(p.hostname)>=0},On={popover:{isExternal:!1,allowsScreenshots:!0},full_screen:{isExternal:!1,allowsScreenshots:!0},inline:{isExternal:!1,allowsScreenshots:!0},button:{isExternal:!1,allowsScreenshots:!0},bubble:{isExternal:!1,allowsScreenshots:!0},external_link:{isExternal:!0,allowsScreenshots:!1},mobile_popover:{isExternal:!0,allowsScreenshots:!1}},Nn=function(u){return On[u].isExternal},Jo=(Object.freeze({LAST_RECORDING_ACTIVITY_STORE_DEBOUNCE:5e3,MAX_TIME_SINCE_LAST_RECORDING_ACTIVITY_IN_SESSION:12e4}),window.hjLazyModules,"js"),Rs=(Object.freeze({id:null,selector_version:2}),function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zo,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ta,y=0,E=!1;function T(){--y!=0||E||l.bind(this)()}function V(){E=!0,p.bind(this)()}Object.keys(u).forEach(function(L){var R=u[L];typeof R=="string"&&(R=[R]),y+=R.length,R.forEach(function(F){Qo(F,L,T,V)})})}),Qo=function(u,l,p,y){var E;l===Jo?(E=document.createElement("script")).src="".concat(hj.scriptDomain).concat(u):l==="css"&&((E=document.createElement("link")).href="".concat(hj.scriptDomain).concat(u),E.rel="stylesheet"),E.onload=p,E.onerror=y,document.getElementsByTagName("head")[0].appendChild(E)};function Zo(){}function ta(){var u=this.src||this.href;hj.exceptions.log(new Error("Failed to load module: ".concat(u,".")),"loader")}var ea=function(u,l){var p,y;if(hj.isPreview)return!1;var E=((p=u.targeting)===null||p===void 0?void 0:p.filter(function(R){return R.component==="url"}))||[],T=(y=u.targeting)===null||y===void 0?void 0:y.some(function(R){return R.component==="trigger"}),V=u.display_type===Ks.EXTERNAL||u.display_type===Ks.MOBILE_POPOVER,L=T||V||hj.targeting.matchUrl(E,hj.currentUrl)===!0;return hj.tryCatch(function(){if(!L)throw new Error("Rendered survey out of URL targeting in ".concat(l," with ID: ").concat(u.id))},"render-out-of-targeting")(),!L};function sa(u,l){for(var p=u.querySelectorAll(l),y=0;y<p.length;y++){var E=p[y];E&&E.parentElement&&E.parentElement.removeChild(E)}}var Dr=hj.tryCatch(function(){hj.surveyImpressionsMoved=!0,hj.polls=function(){var u,l={},p=window.hjLazyModules,y=hj.tryCatch(function(R,F){ea(R,"doRenderSurvey")||hj.widget.renderSurvey(R,F)},"polls");function E(){return p.SURVEY_V2}var T=hj.tryCatch(function(R,F){if(!ea(R,"renderWidget")){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[R.id]=R,hj.widget.pollsResponsesUUID=hj.widget.pollsResponsesUUID||{},hj.widget.pollsResponsesUUID[R.id]=hj.uuid(),hj.widget.setLanguage(R.language),hj.log.debug("Rendering poll widget.","poll");var q=E();q!==u?Rs(E(),function(){u=q,y(R,F)}):y(R,F)}},"polls"),V=hj.tryCatch(function(R){var F=JSON.parse(JSON.stringify(R));return function(q){hj.hq.each(q.content.questions,function(Q,nt){nt.answers&&hj.hq.each(nt.answers,function(a,S){S.index=a})})}(F),function(q){hj.hq.each(q.content.questions,function(Q,nt){nt.randomize_answer_order&&(nt.pin_last_to_bottom?nt.answers=j(nt.answers.slice(0,-1)).concat(nt.answers.slice(-1)):j(nt.answers))})}(F),F},"polls"),L=hj.tryCatch(function(R,F){hj.widget.pollsData=hj.widget.pollsData||{};var q=V(R);hj.widget.pollsData[R.id]=q,hj.settings.legal_name=R.legal_name,hj.settings.privacy_policy_url=R.privacy_policy_url,F&&(hj.settings.features=F),hj.tryCatch(function(){T(q)},q,"polls")()},"polls");return l.add=hj.tryCatch(function(R){hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[R.id]=V(R),hj.tryCatch(Ss.callAccordingToCondition,"polls")(hj.widget.pollsData[R.id],"poll",T)},"polls"),l.addEmbedded=hj.tryCatch(function(R,F){hj.widget.emptyMatchingWidgets();var q=R.display_type==="external_link"?void 0:R.targeting_percentage;hj.widget.addMatchingWidget("poll",R.id,R.created_epoch_time,q,function(){var Q=V(R),nt=Q.display_type===Ks.MOBILE_POPOVER;nt||(Q.skin="light",Q.background="#ffffff",Q.pageBackground=R.background),hj.bridge.storage.items.POLL_DONE.exists(R.id)&&R.persist_condition!=="always"&&(hj.log.debug("Offsite poll "+R.id+" was already submitted.","poll"),Q.is_submitted=!0),hj.widget.pollsData=hj.widget.pollsData||{},hj.widget.pollsData[Q.id]=Q,T(Q,F[0]),typeof window.hjRenderCallback!="function"||nt||window.hjRenderCallback({background:R.background})},l.remove,R.display_type)},"polls"),l.handleSurveyEvent=hj.tryCatch(function(R){var F;R.detail.event==="surveyClosed"&&R.detail.surveyId===((F=hj.widget.activeWidget)===null||F===void 0?void 0:F.id)&&hj.widget.removeActiveWidget()}),l.remove=hj.tryCatch(function(R,F){hj.widget.pollsData[F]?(sa(document.body,".".concat("_hj-widget-container")),sa(document.body,".".concat("_hj-widget-iframe")),delete hj.widget.pollsData[F],R&&setTimeout(function(){R()},1)):R&&R()},"polls"),l.run=hj.tryCatch(function(R){var F;if(hj.hq("._hj-survey-embed-container").length>0){var q,Q=hj.hq("._hj-survey-embed-container"),nt=Q.attr("data-survey-id"),a=(q=hj.settings.polls)===null||q===void 0?void 0:q.find(function(w){return Nn(w.display_type)&&w.uuid==nt});if(a!==void 0)return hj.log.debug("Offsite poll #".concat(a.id," has matched with the embedded UUID ").concat(nt),"poll"),void l.addEmbedded(a,Q)}if(Pn(R))return hj.hq(document).trigger("hj-embedded-survey-mismatch"),hj.widgetDelay.clear(),hj.widget.emptyMatchingWidgets(),void hj.log.debug("Could not match the embedded UUID.","poll");var S=(F=hj.settings.polls)===null||F===void 0?void 0:F.filter(function(w){return A=w.display_type,On[A]!==void 0&&!Nn(w.display_type);var A});S==null||S.forEach(function(w){hj.targeting.matchRules({rules:w.targeting,userAttributeMatchLogic:w.targeting_user_attribute_match_logic},R,hj.tryCatch(function(){hj.log.debug("Poll #"+w.id+" has matched.","poll"),hj.bridge.storage.items.POLL_DONE.exists(w.id)&&w.persist_condition!=="always"?hj.log.debug("Poll was already submitted.","poll"):hj.widget.addMatchingWidget("poll",w.id,w.created_epoch_time,w.targeting_percentage,function(){return l.add(w)},function(A){return l.remove(A,w.id)},w.display_type,w.targeting)},"polls.run.matchRules-callback"))})},"polls"),l.enablePreview=function(){window._hjPollReload=L},hj.isPreview&&l.enablePreview(),window.addEventListener("hotjar-survey-event",l.handleSurveyEvent),l}()},"polls"),Mn=Object.freeze({MODAL:"_hj-modal",FOOTER:"_hj-footer",SURVEY_INVITES:"_hj_survey_invite_container",HEATMAP_RETAKER:"_hj-heatmap-retaker",ADMIN_WIDGET:"_hj_admin_widget",NOTICATION:"_hj-notification"}),ia=(Object.freeze({RETAKER:"_hjRetakerTrsToken",TARGETING:"_hjRetakerTargeting"}),function(u){if(u){if(u.startsWith("data:image")||u.startsWith("blob:")||u.startsWith("http"))return u;var l=hj.environment==="live"?hj.surveyImagesHost:"d23waydkwbngmu.cloudfront.net";return"https://".concat(l,"/").concat(u)}}),ra=function(){var u={},l=window.hjLazyModules;function p(y){return y.display_type===Ks.EXTERNAL?function(E,T){if(T)return"https://".concat(T,"/").concat(E);var V=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"INSIGHTS",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.location.host;return Mr(F,R)?yt.LIVE:we(F,R)?yt.DEV:Yo(F,R)?yt.DEV_OLD:Xo(F,R)?yt.REVIEW_WEBAPP:Ko(F,R)?yt.REVIEW:Ki(F,R)?yt.STAGING:yt.LIVE}(),L=Qt[V].SURVEYS;return"https://".concat(L,"/").concat(E)}(y.uuid,hj.surveysHost):y.public_url}return u.run=hj.tryCatch(function(y){if(!Pn(y)){var E=(hj.settings.polls||[]).filter(function(V){return V.invite_enabled&&V.display_type===Ks.EXTERNAL}),T=(hj.settings.surveys||[]).concat(E);hj.hq.each(T||[],function(V,L){I.matchRules({rules:L.targeting,userAttributeMatchLogic:L.targeting_user_attribute_match_logic},y,hj.tryCatch(function(){hj.log.debug("Survey #"+L.id+" has matched.","survey"),hj.bridge.storage.items.SURVEY_INVITES_CLOSED.exists(L.id)?hj.log.debug("Survey was already viewed.","survey"):hj.widget.addMatchingWidget("survey",L.id,L.created_epoch_time,L.targeting_percentage,function(){hj.survey.data=L,Ss.callAccordingToCondition(hj.survey.data,"survey",hj.tryCatch(function(){var R;R=hj.survey.data,hj.widget.surveyInvitationData={id:R.id,title:R.invite.title,description:R.invite.description,button:R.invite.button,close:R.invite.close,url:p(R),logoUrl:ia(R.logo_path||R.logo_url)},Rs(l.SURVEY_INVITATION)},"polls"))},u.remove)},"surveys.run.matchRules-callback"))})}},"surveys"),u.remove=hj.tryCatch(function(y){hj.survey.data?(hj.hq(".".concat(Mn.SURVEY_INVITES)).length>0&&hj.hq(".".concat(Mn.SURVEY_INVITES)).remove(),delete hj.survey.data,y&&setTimeout(function(){y()},1)):y&&y()}),u},na=hj.tryCatch(function(){hj.survey={invites:ra(),ctrl:void 0,data:void 0,model:{},activeLanguageDirection:"ltr"}},"surveys");function ft(){return ft=Object.assign?Object.assign.bind():function(u){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},ft.apply(this,arguments)}var Xe="https://voc.hotjar.com",ye=[Xe,"https://voc.ew1-integration-1.hotjarians.net","https://hj-engage-unmoderated-review.s3.eu-west-1.amazonaws.com"],kr="hj-uut",Cs={get:function(){var u=window.sessionStorage.getItem(kr);return u?JSON.parse(u):null},getValue:function(u){var l=Cs.get();return l==null?void 0:l[u]},set:function(u){if(u){var l,p=(l=Cs.get())!==null&&l!==void 0?l:{};window.sessionStorage.setItem(kr,JSON.stringify(ft(ft({},p),u)))}},clear:function(){window.sessionStorage.removeItem(kr)},validDomains:ye},Ji=function(u){var l=new URLSearchParams(u);return!!l.has("project_uuid")||(l.get("is_preview")==="1"?l.has("task_uuid"):l.has("response_uuid")&&l.has("task_uuid")&&l.has("participation_uuid"))},Qi=function(){var u,l=(u=function(){var E=document.referrer;if(typeof E=="string"&&function(T){if(typeof T!="string")return!1;try{var V=new URL(T),L=V.searchParams.get("is_preview")==="1";return!!ye.some(function(R){return T==null?void 0:T.includes(R)})||!!L&&V.hostname.endsWith(".hotjar.com")&&V.pathname.includes("research/projects/tests")}catch{return!1}}(E)&&Ji(new URL(E).search))return E}())!==null&&u!==void 0?u:function(){var E=new URLSearchParams(window.location.search).get("hj_uut");if(ye.some(function(L){var R;return(R=document.referrer)===null||R===void 0?void 0:R.includes(L)})&&E){var T=window.atob(E);if(Ji(T)){var V=new URL(Xe);return V.search=T,V.toString()}}}(),p=l!==void 0,y=Cs.get()!==null;return p&&Cs.set({referrer:l}),y||p},Si=!1,Zi=function(){Si||(function(){try{hj.request=function(){var u,l,p=(l=hj.askUrl||((u=hj.defaults)===null||u===void 0?void 0:u.askUrl),{v1:"".concat(l,"api/v1"),v2:"".concat(l,"api/v2")}),y={},E={granted:null,callbacks:[],inProgress:!1},T=function(){return hj.bridge.getSessionUserId(!0)||""},V=[],L=!1;function R(F,q,Q,nt){V.push([F,q,Q,nt]),L||function a(){if(V.length!==0){L=!0;var S=function(P,k,ht){if(k&&!Array.isArray(k)&&typeof k.length=="number"){var st=k.length;return Or(k,4<st?4:st)}return P(k,4)}(Rn,V.shift()),w=S[0],A=S[1],m=S[2],D=S[3];hj.ajax.post(w,A,function(P){try{m&&m(P)}finally{a()}},function(P){try{D&&D(P)}finally{a()}})}else L=!1}()}return y.getConsentGranted=hj.tryCatch(function(F){var q,Q="?";E.granted!==null&&F?F(E.granted):(F&&E.callbacks.push(F),E.inProgress||(Q+="user_id="+T(),E.inProgress=!0,hj.ajax.get("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent").concat(Q),function(nt){for(E.granted=!!nt.success&&nt.scopes.indexOf("associate")!==-1,E.inProgress=!1;q=E.callbacks.pop();)hj.tryCatch(q,"ConsentData")(E.granted)},function(){for(E.granted=!1,E.inProgress=!1;q=E.callbacks.pop();)hj.tryCatch(q,"ConsentData")(E.granted)})))},"hj.request.getConsentGranted"),y.grantConsent=hj.tryCatch(function(F,q){F.user_id=T(),F.action="grant_for_response",R("".concat(hj.apiUrlBase,"/sites/").concat(hj.settings.site_id,"/consent/associate"),F,function(Q){E.granted=!!Q.success,q&&hj.tryCatch(q,"GrantConsent")(E.granted)},function(){E.granted=!1})},"hj.request.getConsent"),y.savePollResponse=hj.tryCatch(function(F,q,Q,nt,a){var S=hj.widget.pollsResponsesUUID[F];Q.action="create_or_update_poll_response";var w=bn.get();w&&(Q.events=hj.hq.stringify(w)),function(A,m,D,P,k){var ht=et();D.window_width=D.window_width||ht.width,D.window_height=D.window_height||ht.height,D.user_id=m?T():void 0,D.url=location.href,D.account_id=hj.settings.account_id||null,D.payload_signature=hj.settings.account_signature||null,hj.userAttributes.flush(function(st,re,Ee){if(st){D.identify_user_id=hj.userAttributes.get("user_id")||null;var It=hj.userAttributes.get("contentsquare_replay_link");It&&(D.identify_attributes={contentsquare_replay_link:It})}else D.identify_user_id=re,D.identify_attributes=Ee;if(hj.sdk!==void 0){D.language=hj.sdk.getDeviceLanguage();var Ns={contentsquare_replay_link:hj.sdk.getReplayLink()};D.identify_attributes=ws(ws({},je(D.identify_attributes)==="object"?D.identify_attributes:void 0),Ns)}R(A,D,function(ti){P&&P(ti)},function(){k&&k(new Error("Error sending response"))})})}("".concat(p.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(F,"/response/").concat(S),q,Q,function(A){A.is_new_response&&hj.event.signal("poll.send",{id:F,response_id:A.poll_response_id}),nt==null||nt(A)},a)},"data"),y.completePollResponse=hj.tryCatch(function(F,q){var Q=hj.widget.pollsResponsesUUID[F];R("".concat(p.v2,"/client/sites/").concat(hj.settings.site_id,"/poll/").concat(F,"/response/").concat(Q),{action:"finish_poll_response",completion_time_from_engagement_ms:q.fromEngagement,completion_time_from_render_ms:q.fromRender})},"data"),y}()}catch(u){hj.exceptions.log(u,"hj.request")}}(),In(),Dr(),na(),Si=!0)},Is=function(u){hj.widget&&(Qi()?Rs(window.hjLazyModules.USER_TEST,function(){var l,p;(l=(p=hj.widget).initUserTest)===null||l===void 0||l.call(p)},function(){hj.log.error("Failed to load user test module")}):(hj.widget.emptyMatchingWidgets(),hj.polls.run(u),hj.survey.invites.run(u),hj.widget.runLatestMatchingWidget(),hj.widget.runInlineEmbeddedWidgets()))},Ke=lt("ab-tasty","integration");function $t(){return window.ABTasty!==void 0&&window.ABTasty.hitServiceNotifierSubscribe!==void 0}var _i={setup:hj.tryCatch(function(){function u(l){if(l.type==="CAMPAIGN"&&l.data&&l.data.caname&&l.data.vaname){var p=l.data,y=p.caname,E=p.vaname;Ke("AB Tasty campaign '".concat(y,"' is on variant '").concat(E,"'"),l),hj.event.signal("exp.abt",{experimentId:y,variantId:E},!0);var T=Vt("".concat(y,"-").concat(E));hj("event",T),Ke("Sending event '".concat(T,"'"))}else Ke("Invalid AB Tasty event",l)}Z($t,function(l){l?(Ke("AB Tasty global object found"),window.ABTasty.hitServiceNotifierSubscribe(u,"CAMPAIGN",{withHitHistory:!0})):Ke("AB Tasty global object not found")},2e3,10)},"abTasty.setup")};function He(){return He=Object.assign?Object.assign.bind():function(u){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},He.apply(this,arguments)}function Js(u,l){return function(p){if(Array.isArray(p))return p}(u)||function(p,y){var E=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(E!=null){var T,V,L,R,F=[],q=!0,Q=!1;try{if(L=(E=E.call(p)).next,y===0){if(Object(E)!==E)return;q=!1}else for(;!(q=(T=L.call(E)).done)&&(F.push(T.value),F.length!==y);q=!0);}catch(nt){Q=!0,V=nt}finally{try{if(!q&&E.return!=null&&(R=E.return(),Object(R)!==R))return}finally{if(Q)throw V}}return F}}(u,l)||function(p,y){if(p){if(typeof p=="string")return xr(p,y);var E=Object.prototype.toString.call(p).slice(8,-1);return E==="Object"&&p.constructor&&(E=p.constructor.name),E==="Map"||E==="Set"?Array.from(p):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?xr(p,y):void 0}}(u,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xr(u,l){(l==null||l>u.length)&&(l=u.length);for(var p=0,y=new Array(l);p<l;p++)y[p]=u[p];return y}function Je(){var u;return typeof window[(u=window.GoogleAnalyticsObject)!==null&&u!==void 0?u:"ga"]=="function"}function tr(u,l){!l||!l.length||l.length<2||l[0]!=="event"||Qe(u,{action:l[1],category:l[2]&&l[2].event_category||"",label:l[2]&&l[2].event_label||"",value:l[2]&&l[2].value||""})}function Qe(u,l){if(!function(E){return E.action==="detect_user"&&E.category==="Hotjar"}(l)){var p=function(E){return"GA_"+[E.action,E.category,E.label,E.value].filter(function(T){return T===0||!!T}).join("-")}(l),y=function(E){return"GA_"+E.action}(l);hj.log.debug("intercepting ".concat(u,": ")+JSON.stringify(l)),hj("event",p),p!==y&&hj("event",y),hj.event.signal("int.ga",l)}}var wi,Be,Oe,zt={gaClientSent:!1,gtagClientSent:!1,dataLayerSent:!1},pt=function(u){return zt[u]},Fe=function(u,l){zt[u]&&(zt[u]=l)},Lr=lt("ga.forward_events","integration"),Vr=!1,Ps={setup:hj.tryCatch(function(){if(!Vr){Vr=!0;var u=Je(),l=typeof window.gtag=="function";Z(function(){return window.dataLayer!==void 0&&window.dataLayer.length!==void 0},function(p){if(p)return Lr("Intercepting dataLayer"),function(){var E=window.dataLayer;if(E._hj!==!0){E.forEach(function(V){tr("dataLayer",V)});var T=E.push;E.push=function(){T.apply(E,arguments),tr("dataLayer",arguments[0])},E._hj=!0}}(),void(pt("dataLayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),Fe("dataLayerSent",!0)));var y;l&&(Lr("Intercepting gtag"),y=window.gtag,window.gtag=function(){var E=Array.prototype.slice.call(arguments);y.apply(null,E),tr("gtag",E)},pt("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),Fe("gtagClientSent",!0)))},3e3,5),u&&(Lr("Intercepting ga"),(0,window[window.GoogleAnalyticsObject||"ga"])(function(p){var y=p.get("sendHitTask");p.set("sendHitTask",function(E){y(E);var T=function(V){var L=decodeURIComponent(V).split("&").map(function(R){return R.split("=")}).filter(function(R){var F=function(q,Q,nt){if(Q&&!Array.isArray(Q)&&typeof Q.length=="number"){var a=Q.length;return xr(Q,1<a?1:a)}return q(Q,1)}(Js,R)[0];return["t","ec","ea","el","ev"].indexOf(F)>-1}).reduce(function(R,F){var q;return He(He({},R),{},((q={})[F[0]]=F[1],q))},{});return L.t?{event:L.t,category:L.ec||"",action:L.ea||"",label:L.el||"",value:L.ev||""}:{}}(E.get("hitPayload"));T.event==="event"&&Qe("ga",T)})}),pt("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),Fe("gaClientSent",!0)))}},"ga.forward_events")},Qs=lt("ga.send_hjuid"),er=60,cs=!0,Dn=!1,oa=hj.tryCatch(function(){Dn||(Dn=!0,hj.store.session.on("user.id",function(u){typeof u!="string"||u.length<8?Qs("invalid userid: '".concat(u,"'")):(Qs("got userId"),Be=u.substring(0,8),kn())}),Ne())},"integrations.googleAnalytics"),Ne=hj.tryCatch(function(){if(!wi){if(Je()){pt("gaClientSent")||(hj.metrics.count("ga-version",{tag:{version:"ga"}}),Fe("gaClientSent",!0));var u=window[window.GoogleAnalyticsObject||"ga"];return Qs("`ga` variable is available, waiting for tracker."),void u(function(l){Zs(l,!0)})}er<=0?Qs("given up looking for GA module"):(er-=1,setTimeout(Ne,500))}},"integrations"),Zs=hj.tryCatch(function(u,l){u&&(wi&&l||(wi!==u&&(Qs("got fresh tracker"),cs=!0),wi=u,kn()))},"integrations"),kn=hj.tryCatch(function(){cs&&Be&&wi&&(cs=!1,wi.send("event","Hotjar","detect_user",Be,{nonInteraction:1}),Qs("successfully sent detect_user event"))},"integrations"),aa={setup:oa,setTracker:hj.tryCatch(function(u){Zs(u,!1)},"integrations.googleAnalytics")},Ur=lt("ga.send_hjuid_gtag"),jr=!1,ca=hj.tryCatch(function(){if(!jr){jr=!0;var u=window.dataLayer;u!==void 0?(pt("datalayerSent")||(hj.metrics.count("ga-version",{tag:{version:"datalayer"}}),Fe("datalayerSent",!0)),pt("gtagClientSent")||(hj.metrics.count("ga-version",{tag:{version:"gtag"}}),Fe("gtagClientSent",!0)),hj.store.session.on("user.id",function(p){if(p&&typeof p=="string"&&!(p.length<8)){var y=p.substring(0,8);l("set","user_properties",{hjuid:y}),l("event","detect_user",{event_category:"Hotjar",event_label:y,non_interaction:!0})}})):Ur("`dataLayer` is undefined")}function l(){var p;Ur("calling gtag(".concat((p=arguments,Array.from(p).map(function(y){return JSON.stringify(y)})),")")),u.push(arguments)}},"ga.send_hjuid_gtag"),sr={forwardEvents:Ps,sendHotjarUserId:aa,sendHotjarUserIdGtag:{setup:ca}},la=function(){return hj.bridge.storage.items.HUBSPOT_UTK.get()!==null},Hr=lt("hubspot","integrations"),ha={setup:hj.tryCatch(function(){Hr("HubSpot setup started"),Z(la,function(u){if(u){var l=hj.bridge.storage.items.HUBSPOT_UTK.get();Hr("HubSpot UTK found: ".concat(l)),hj.event.signal("int.hubspot",{utk:l})}else Hr("HubSpot UTK cookie not found")},5e3,5)},"hubspot.setup")},ua=lt("kissmetrics","integration"),da=function(){return window.KM!==void 0&&window.KM.i!==void 0},fa={setup:hj.tryCatch(function(){Z(da,function(u){if(u){var l=window.KM.i();ua("Kissmetrics User ID found: ".concat(l)),hj("identify",null,{kissmetrics_id:l})}},5e3,5)},"kissmetrics.setup")},Br=lt("mixpanel.send_events"),pa=function(){return window.mixpanel!==void 0&&window.mixpanel.set_config!==void 0},ga={setup:hj.tryCatch(function(){Z(pa,function(u){var l,p,y,E;u?(Br("Registering mixpanel hook"),!Oe&&(l=window.mixpanel.config)!==null&&l!==void 0&&(p=l.hooks)!==null&&p!==void 0&&p.before_send_events&&(Oe=(y=window.mixpanel.config)===null||y===void 0||(E=y.hooks)===null||E===void 0?void 0:E.before_send_events),window.mixpanel.set_config({hooks:{before_send_events:function(T){Oe&&Oe(T);var V=Vt(T.event);return Br("sending mixpanel payload: ".concat(T.event)),hj("event","MP_".concat(V)),hj.event.signal("int.mp",{event:V}),T}}})):Br("mixpanel global object not found or set_config not ready")},3e3,5)},"mixpanel.setup")},ir=lt("optimizely","integration"),Os=window.optimizely;function xn(){ir("looking for tags.");var u=Os.get("state").getExperimentStates({isActive:!0});for(var l in u){var p=u[l],y=(p.isInExperimentHoldback?"HB_":"")+p.experimentName,E=p.variation.name||p.variation.id;hj.event.signal("exp.opt",{experimentId:y,variantId:E}),hj("event",y+"/"+E)}}var ma={setup:hj.tryCatch(function(){Os!==void 0&&typeof Os.push=="function"&&typeof Os.get=="function"&&Os.get("state")!==void 0&&Os.get("data")!==void 0?(ir("listening for campaignDecided event."),(Os=window.optimizely||[]).push({type:"addListener",filter:{name:"campaignDecided"},handler:function(u){u.name==="applied"&&(ir("campaign decided; ready to tag experiments."),xn())}}),xn()):ir("`window.optimizely` is not ready")},"optimizely.setup")},Ai={setup:hj.tryCatch(function(){window.ub!==void 0&&window.ub.page!==void 0&&window.ub.page.variantId!==void 0?(hj.log.debug("Unbounce experiment in page '".concat(window.ub.page.name,"' is on variant '").concat(window.ub.page.variantId,"'"),"integration",window.ub),hj.event.signal("exp.ub",{experimentId:window.ub.page.name,variantId:window.ub.page.variantId}),hj("event","".concat(Vt(window.ub.page.name),"-variant-").concat(window.ub.page.variantId))):hj.log.debug("Unbounce experiment not found","integration")},"unbounce.setup")},ya=hj.tryCatch(function(){var u=hj.settings.integrations;if(u){var l=hj.bridge.getSessionUserId();hj.store.session.set("user.id",l),u.optimizely&&u.optimizely.tag_recordings&&ma.setup(),u.google_analytics&&(u.google_analytics.tag_sessions&&sr.forwardEvents.setup(),u.google_analytics.send_hotjar_id&&(sr.sendHotjarUserId.setup(),sr.sendHotjarUserIdGtag.setup())),u.unbounce&&u.unbounce.tag_recordings&&Ai.setup(),u.mixpanel&&u.mixpanel.send_events&&ga.setup(),u.hubspot&&u.hubspot.enabled&&u.hubspot.send_recordings&&ha.setup(),u.abtasty&&u.abtasty.tag_recordings&&_i.setup(),u.kissmetrics&&u.kissmetrics.send_user_id&&fa.setup()}},"integrations"),Ln=!1,Ti=function(u){var l=u.title,p=u.message,y=u.status,E=window.hjLazyModules;Ln?hj.widget.renderNotificationWidget({title:l,message:p,status:y}):Rs(E.NOTIFICATION,function(){Ln=!0,hj.widget.renderNotificationWidget({title:l,message:p,status:y})})};function bi(){return bi=Object.assign?Object.assign.bind():function(u){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},bi.apply(this,arguments)}var ls,Ri=(ls={_sendVerifyInstallation:function(u){var l="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation?sv=").concat(_hjSettings.hjsv||0);hj.ajax.post(l,{},hj.tryCatch(u,"init._sendVerifyInstallation"))},_reportVerificationResults:function(u,l,p){if(u){var y=fe.hasFeature("tcvs_v2")?"https://".concat(hj.environment==="live"?"tcvsapi.contentsquare.com":"gateway-tcvs.staging.eu-west-1.csq.io","/v1/verification/").concat(u,"/result"):"".concat(hj.apiUrlBase,"/tcvs/verification/").concat(u,"/result"),E=bi(bi({},p&&{error_detail:p}),{},{status:l});(fe.hasFeature("tcvs_v2")?hj.ajax.postAsJSON:hj.ajax.post)(y,E,function(){hj.tcVerificationResultsSent=!0},function(T){T&&T.status!==400&&T.status!==404&&hj.exceptions.log(new Error("TCVS endpoint failed"),"init._reportVerificationResults"),hj.tcVerificationResultsSent=!0})}}},{verifyInstallationAuto:function(){if(hj.settings.tracking_code_verified)hj.log.debug("Tracking code verified.","init");else{hj.log.debug("Tracking code verified not found, updating first data.","init");var u="".concat(hj.apiUrlBase,"/client/sites/").concat(hj.settings.site_id,"/verify-installation/auto");hj.ajax.post(u,{},void 0,function(l){hj.exceptions.log(new Error("Url: ".concat(u," - Status: ").concat(l.status)),"init._verifyInstallationAuto")})}},verifyInstallation:function(){var u,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Hotjar",p=he("hjVerifyInstall"),y=he("hjVerifyUUID"),E=function(){Ti({title:"".concat(l," installation invalid"),message:"The tracking code you are trying to verify does not match the one installed on this page. Please make sure you install the correct tracking code provided for this site.",status:"bad"}),ls._reportVerificationResults(y,"wrong_code",{expected:String(hj.verifyInstall),actual:String(hjSiteSettings.site_id)});var Q="Passed Site ID: ".concat(hj.verifyInstall," != Configured Site ").concat(hj.settings.site_id);hj.exceptions.log(new Error(Q),"init._verifyInstallation")};try{u=sessionStorage.getItem("hjVerifyInstall")}catch{}if(p||u){hj.verifyInstall=parseInt(p||u);try{sessionStorage.setItem("hjVerifyInstall",p||u)}catch{}if(window.hjBootstrapCalled&&window.hjBootstrapCalled.length>1){var T,V=window.hjBootstrapCalled.filter(function(Q,nt){return window.hjBootstrapCalled.indexOf(Q)===nt}),L="You have "+window.hjBootstrapCalled.length+" tracking scripts installed on your site. ",R=window.hjBootstrapCalled.length===2?"script as this":"scripts as these",F=!!window.dataLayer;V.length>1?(T=L+"Please remove the duplicate "+R+" will cause issues.",Ti({title:"Multiple different ".concat(l," scripts detected"),message:T,status:"bad"}),ls._reportVerificationResults(y,"multiple_codes",{expected:String(hj.verifyInstall),actual:V,gtm:!1})):F?(T=L+"If you've installed ".concat(l," through GTM - please remove the duplicate ")+R+" will cause issues.",ls._reportVerificationResults(y,"multiple_codes",{expected:String(hj.verifyInstall),actual:V,gtm:!0}),Ti({title:"Multiple ".concat(l," scripts detected"),message:T,status:"bad"})):hj.verifyInstall===hj.settings.site_id?(T=L+"This will not affect data collection, but we do suggest removing redundant scripts.",ls._reportVerificationResults(y,"warning",{expected:String(hj.verifyInstall),reason:"multiple scripts"}),Ti({title:"Multiple ".concat(l," scripts detected"),message:T,status:"warning"})):E();var q="Passed Site ID: "+hj.verifyInstall+" contains multiple scripts "+window.hjBootstrapCalled.join(", ");hj.exceptions.log(new Error(q),"init._verifyInstallation")}else hj.verifyInstall===hj.settings.site_id?(ls._sendVerifyInstallation(function(Q){Q.success||hj.exceptions.log(new Error("Verify installation endpoint failed"),"init._verifyInstallation")}),Ti({title:"".concat(l," installation verified"),message:"The ".concat(l," tracking code has been properly installed on this page. ")+"Browse your site in this window if you wish to verify installation on any other pages.",status:"good"}),ls._reportVerificationResults(y,"ok")):E()}}}).verifyInstallation,Ea=r.u6,Vn=r.b2,va=r.Vv,Sa=r.pF,Un=r.XA,_a=r.fd,wa=r.ec;return{gn:Ea,fn:Vn,pn:va,vn:Sa,yn:Un,mn:_a,jn:wa}}(),vw=Gi.gn,Sw=Gi.fn,_w=Gi.pn,kc=Gi.vn,Uf=Gi.yn,xc=Gi.mn,ww=Gi.jn;function jf(){window._uxa.push(["replay:link:generate",{},({isRecording:s,replayLink:r})=>{typeof hj=="function"&&s&&r&&hj("identify",null,{contentsquare_replay_link:`https://${r}&vd=hotjar`})}])}function Aw(s){let r=!1,t,e={},i=["event","trigger","identify","stateChange"];function n(g){return!hj.optOut&&csArray.prototype.indexOf.call(i,g)>=0}function o(){Object.defineProperty(t,"push",{writable:!0,value:function(){for(let g=0;g<arguments.length;g+=1)this[this.length]=arguments[g];return c(),this.length}})}function c(){let g=csArray.prototype.slice.call(csArray.prototype.shift.call(t)),v=e[g[0]],_=csArray.prototype.slice.call(g,1);hj.log.debug("Processing command: "+g[0]+" "+csArray.prototype.join.call(csArray.prototype.map.call(_,function(b){return(typeof b=="object"||typeof b=="function")&&b!==null?csJSON.stringify(b):b}),", ")),typeof v!="function"?hj.log.debug('Unknown command: "'+g[0]+'"',"command"):n(g[0])?Y.tryToExecute("hj-command",v)(_):hj.log.debug('Command "'+g[0]+'" blocked due to opt-out',"command"),t.length>0&&Y.tryToExecute("hj-queue-command",c)()}function h(g){g[0]&&hj.event.signal("trigger:"+g[0])}function d(g){let v=g[0];if(g[1]){let _;!v&&v!==0||v==="null"||v==="undefined"?_=null:_=csString(v),hj.userAttributes.set(_,g[1])}else v!=null&&typeof v=="object"&&hj.userAttributes.set(null,v)}return e.event=function(g){if(h(g),g&&g.length>0){let v=g[0];s.pushExternalEvents([v])}},e.identify=function(g){d(g)},e.trigger=function(g){h(g)},e.stateChange=function(g){let v=window.location.href;g&&g.length>=1&&g[0]&&(v=g[0]),hj.log.debug('Changing state to URL "'+v+'"',"command"),s.pushPageView(v)},{activate:function(){!r&&hj&&(t=hj.q,r=!0,o(),t.length>0&&c())},isActive:()=>r}}var Tw=s=>{let{accountId:r,accountSignature:t,projectId:e,siteId:i,surveys:n,hashes:o}=s,c=window.CS_INTEGRATIONS_CONF&&window.CS_INTEGRATIONS_CONF["hubspot-client-side"];hj.settings={...hj.settings,account_id:r,account_signature:t,cs_project_id:e,features:[],integrations:{hubspot:{enabled:!!c,send_surveys:(c==null?void 0:c.settings)==null?void 0:csArray.prototype.includes.call(c==null?void 0:c.settings,"sendSurveyResponses")}},polls:n,site_id:i,user_attributes_enabled:!0},window.hjLazyModules=o},bw=(()=>{class s{constructor(t,e,i,n){this.E=t,this.N=e,this.A=i,this.De=n}init(){window.hjSiteSettings&&(hj.settings=window.hjSiteSettings),this.E.vocData&&Tw(this.E.vocData),new Vf(this.De).listen({vocEnabled:!0,integrationsEnabled:!1}),Uf()}Ur(){let t=this.A.getUrl();hj.currentUrl=t,kc(),jf(),xc(t)}onAfterNaturalPageView(){this.Ur()}onAfterArtificialPageView(){this.Ur()}onStartNoTrackingMode(){this.N.createOrUpdateVisitor()}}return s})(),Rw=(()=>{class s extends Xt{constructor(){super(),this.Nu=[]}onStart(){csArray.prototype.forEach.call(this.Nu,t=>this.triggerHotjarEvent(t)),this.Nu=[]}onStop(){}triggerHotjarEvent(t){if(!this.isStarted){csArray.prototype.push.call(this.Nu,t);return}this.Wl(t)&&hj("event",t)}Wl(t){return U(t)}}return s})(),Cw=60*60*24*1e3,Iw=Cw*365,Wa=(s,r,t=Iw)=>({add:e=>{let i=r.get(s),n=i?`${i},${e}`:e;r.set({key:s,value:n,duration:t})},exists:e=>{let i=(r.get(s)==null?void 0:csString.prototype.split.call(r.get(s),","))||[];for(let n=0;n<i.length;n++)if(csString(e)===i[n])return!0;return!1},remove:e=>{let i=(r.get(s)==null?void 0:csString.prototype.split.call(r.get(s),","))||[],n=csArray.prototype.join.call(csArray.prototype.filter.call(i,o=>o!==csString(e)),",");r.set({key:s,value:n,duration:t})}}),ar=(s,r,t=!1)=>({set:e=>r.set({key:s,value:e,useLocalStorage:t}),get:()=>r.get(s,t),clear:()=>r.clear(s,t)}),Pw=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.pt=i}get(t,e){return this.E.cookielessTrackingEnabled||e?this.pt.getItem(t):this.I.get(t)||this.pt.getItem(t)}set(t){this.E.cookielessTrackingEnabled||t.useLocalStorage?this.pt.setItem(t.key,t.value):this.I.set(t.key,t.value,t.duration)}clear(t,e){this.E.cookielessTrackingEnabled||e?this.pt.removeItem(t):this.I.delete(t)}}return s})(),Ow=(s,r,t)=>{hj.bridge={storage:{items:{POLL_DONE:Wa("_hjDonePolls",s),POLL_MINIMIZED:Wa("_hjMinimizedPolls",s),SURVEY_INVITES_CLOSED:Wa("_hjClosedSurveyInvites",s),DEBUG_FLAG:ar("hjDebug",s),FEEDBACK_SHOW_MESSAGE:ar("_hjShownFeedbackMessage",s),HUBSPOT_UTK:ar("hubspotutk",s),HAS_CACHED_USER_ATTRIBUTES:ar("_hjHasCachedUserAttributes",s),USER_ATTRIBUTES_HASH:ar("_hjUserAttributesHash",s)},localStorage:{USER_ATTRIBUTES:ar("_hjUserAttributes",s,!0)}},getSessionUserId:()=>{let e=r.getVisitor();return e==null?void 0:e.id},getSessionFirstSeen:()=>{},getPageContent:e=>t.getPageContent(e),isRecordingEnabled:()=>!1,flushUserAttributes:()=>null}};function Hf(s){return vt.traverse(s,r=>{if(r.nodeType===zs.DOCUMENT_FRAGMENT_NODE){let t=vt.getProperty(r,"styles");t&&(r.adoptedStyleSheets=t)}}),s}function Nw(s){if(s!=null&&s.length)return ns(s,r=>Mw(r))}function Bf(){Re(document).visitAll(s=>{var r;if(fr(s)&&((r=s.adoptedStyleSheets)===null||r===void 0?void 0:r.length)>0){let t=Nw(s.adoptedStyleSheets);vt.setProperty(s,"styles",t)}})}function Mw(s){let r=[];try{r=ns(s.cssRules,t=>t.cssText)}catch{}return{cssRules:r,disabled:s.disabled}}var Dw=(()=>{class s{constructor(t,e,i,n,o){this.Rb=t,this.E=e,this.ve=i,this.tt=n,this.Jt=o}getPageContent(t){this.ve.setMaskedElementSettings(this.tt.getMaskedElementSettings()),this.ve.startIdentifier(),this.Jt.start(),Bf(),Bv.serialize(document,e=>{let i=Hf(e),n=csArray.prototype.reduce.call(this.Rb,(o,c)=>c.sanitize(o),i);this.Jt.stop(),t(csJSON.stringify(n),this.E.projectId)})}}return s})(),Dl=(()=>{class s extends Es{constructor(t){super(),this.W=null,this.hc=null,this.U=null,this.ci=null,this.um=["value","checked","src","data","alt"],this.fc={state:$.MaskedElementState.Child},this.Cb=e=>{for(let i of e){if($.isMaskedElement(i.target)||$.isMaskedElementChild(i.target))for(let n=0;n<i.addedNodes.length;n+=1){let o=i.addedNodes[n];$.isMaskedElement(o)||$.isMaskedElementChild(o)||Lt(o)&&this.dm(o)}for(let n=0;n<i.removedNodes.length;n+=1){let o=i.removedNodes[n];Rt.isConnected(o)||this.fm(o)}}},this.Ib=t}setMaskedElementSettings(t){this.Hs=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,i,n;this.Hs||(Tt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.Hs={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:o,attrSelector:c,attrSelectors:h}=this.Hs;(t=this.ci)!==null&&t!==void 0||(this.ci=this.Pb()),o.length!==0&&((e=this.W)!==null&&e!==void 0||(this.W=this.Ob()),this.W.observe(o)),c.length!==0&&((i=this.hc)!==null&&i!==void 0||(this.hc=this.Nb(h)),this.hc.observe(c)),(n=this.U)!==null&&n!==void 0||(this.U=new as(this.Cb,(d,f)=>f==="added"&&this.Mb(d))),this.U.observe(),csSetTimeout(this.Ib)}onStop(){var t,e,i;this.W&&(this.fm(document),this.W.disconnect()),(t=this.hc)===null||t===void 0||t.disconnect(),(e=this.U)===null||e===void 0||e.disconnect(),(i=this.ci)===null||i===void 0||i.disconnect()}Pb(){return window.ResizeObserver?new ResizeObserver(t=>{window.requestAnimationFrame(()=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})})}):null}Ob(){return new os(t=>{csArray.prototype.forEach.call(t,e=>{this.Db(e)?this.dm(e):(this.kb(e),this.xb(e))})})}Nb(t){return new os(e=>{csArray.prototype.forEach.call(e,i=>this.Lb(i,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),i=$.getMaskedElementDetails(t.target);if(i.state!==$.MaskedElementState.Parent||e.width===i.width&&e.height===i.height)return;let n={state:$.MaskedElementState.Parent,width:e.width,height:e.height};$.setMaskedElementProperty(t.target,n),this.produceEvent({type:"ResizeMaskedElement",target:ct(t.target),width:e.width,height:e.height})}xb(t){!this.ci||!Lt(t)||bo(t)||this.ci.observe(t)}Db(t){let e=csNodeparentNode.apply(t);return e?$.isMaskedElement(e)||$.isMaskedElementChild(e):fr(t)?$.isMaskedElement(t.host)||$.isMaskedElementChild(t.host):!1}Mb(t){($.isMaskedElement(t.host)||$.isMaskedElementChild(t.host))&&$.setMaskedElementProperty(t,this.fc)}fm(t){Re(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{$.unsetMaskedElementProperty(i),t===document&&rt.counters.dom.add("size",1)})}kb(t){let e=t.getBoundingClientRect(),i={state:$.MaskedElementState.Parent,width:e.width,height:e.height};$.setMaskedElementProperty(t,i),this.Vb(t),Re(t).visitAll(n=>n!==t&&$.setMaskedElementProperty(n,this.fc))}dm(t){$.setMaskedElementProperty(t,this.fc),Re(t).visitAll(e=>e!==t&&$.setMaskedElementProperty(e,this.fc))}Vb(t){var e;let i=(e=vt.getProperty(t,$.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let n=0;n<this.um.length;n+=1){let o=this.um[n];csArray.prototype.indexOf.call(i.attributes,o)===-1&&csArray.prototype.push.call(i.attributes,o)}i.attributes.length!==0&&$.setMaskedAttributeProperty(t,i)}Lb(t,e){var i;let n=(i=vt.getProperty(t,$.maskedAttributeProp))!==null&&i!==void 0?i:{attributes:[]};for(let o=0;o<t.attributes.length;o+=1){let c=t.attributes[o].name;csArray.prototype.indexOf.call(n.attributes,c)===-1&&csArray.prototype.some.call(e,h=>csString.prototype.indexOf.call(h.attrName,c)>-1&&Ie.call(t,h.selector))&&csArray.prototype.push.call(n.attributes,c)}n.attributes.length!==0&&$.setMaskedAttributeProperty(t,n)}}return Ws([G()],s.prototype,"resizeObserverCallback",null),s})(),kl=(()=>{class s{constructor(){this.Mu=0,this.B=!1,this.pm="data-cs-capture",this._i=t=>{for(let e of t){if($e.isWhitelistedElement(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let n=e.addedNodes[i];$e.isWhitelistedElement(n)||Lt(n)&&this.gm(n)}for(let i=0;i<e.removedNodes.length;i+=1){let n=e.removedNodes[i];Rt.isConnected(n)||this.mm(n)}}}}start(){this.Mu++,!this.B&&(this.B=!0,this.Ub())}Ub(){this.W||(this.W=new os(e=>dt(e,i=>this.gm(i))));let t=this.Du?`[${this.pm}], ${this.Du}`:`[${this.pm}]`;this.W.observe(t),this.U||(this.U=new as(this._i,(e,i)=>i==="added"&&this.jb(e))),this.U.observe()}stop(){this.B&&(this.Mu--,this.Mu===0&&(this.B=!1,this.Hb()))}Hb(){this.W&&(this.mm(document),this.W.disconnect()),this.U&&this.U.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(de(t))this.Du=t;else if(e)throw new Ht("setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Du}gm(t){Re(t).visitAll(e=>{$e.whitelistElement(e)})}jb(t){$e.isWhitelistedElement(t.host)&&$e.whitelistElement(t)}mm(t){Re(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{$e.removeWhitelistElement(i)})}}return s})(),kw=(()=>{class s{constructor(){}sanitize(t){return vt.traverse(t,e=>{if(e instanceof rs){let i=$.getMaskedAttributeDetails(e);e.attributes=this.Ca(e,i);let n=$.getMaskedElementDetails(e);n.state===$.MaskedElementState.Parent&&this.Ia(e,n)}}),t}Ca(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Ia(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),rs.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return s})(),xl=(()=>{let s;return function(r){function t(){let i=navigator.userAgent+navigator.language+navigator.platform,n=csString.prototype.slice.call(e(i).toString(16),-4),o=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,h=>{let d=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(h==="x"?d:d&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",n)}r.generate=t;function e(i){let n=0;for(let o=0;o<i.length;o+=1)n=csString.prototype.charCodeAt.call(i,o)+(n<<6)+(n<<16)-n;return Math.abs(n)}}(s||(s={})),s})(),xw=["event"],Ff=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f){this.S=t,this.De=e,this.E=i,this.I=n,this.pt=o,this.N=c,this.D=h,this.nt=d,this.tt=f,this.ym=new Rw,this.Bb=new Pw(this.E,this.I,this.pt)}init(){this.S.register(xw,t=>{this.ym.triggerHotjarEvent(t)}),Sw({uuid:xl.generate}),Ow(this.Bb,this.N,this.Fb())}start(){this.$b(),this.ym.start()}$b(){Aw(this.De).activate()}Fb(){let t=new Dl(()=>{}),e=new kl,i=this.nt.shouldUseAnonymization(),n=new kw,o=new $d(i,this.E.whitelistedAttributes,this.D,this.E.anonymizeDigits);return new Dw([n,o],this.E,t,this.tt,e)}}return s})(),Zh=250,Lc=class{constructor(r){this.Y=r}pushPageView(r){window._uxa.push(["trackPageview",r])}pushDynamicVariable(r,t){window._uxa.push(["trackDynamicVariable",{key:r,value:t}])}pushInternalEvents(r){csArray.prototype.forEach.call(r,({key:t,val:e})=>this.pushDynamicVariable(t,e))}pushExternalEvents(r){var t;if(!this.Y)return;let e=this.zb(r);for(let i=0;i<e.length;i+=1){let n=this.Gb(e[i]);n.length&&n.length<=Zh?(hj.log.debug(`Sending event: tag_recording:${n}`),(t=this.Y)===null||t===void 0||t.emitExternalEvent(n)):Y.warn(`Invalid recording tag: " ${n} ", should have length 1.. ${Zh} characters, was ${n.length}.`)}}qb(r){let t=typeof r=="string";return!!(ts.mayHaveNumberSequence(r.toString())||t&&csString.prototype.indexOf.call(r,"@")>-1&&ts.mayHaveEmail(r)||t&&ts.mayHaveIPAddress(r))}zb(r){let t=/^[a-zA-Z0-9 _\-.:/]*$/;return r?csArray.prototype.filter.call(r,e=>e?t.test(e.toString())?this.qb(e)?(hj.log.debug("Tag "+e+" has been removed due to possible PII information included"),!1):!0:(hj.log.debug("Tag "+e+" has been removed due to having invalid characters"),!1):!1):[]}Gb(r){return typeof r=="string"?csString.prototype.replace.call(r,/^\s+|\s+$/gm,""):""}},$f=Lc,zf=(()=>{class s{constructor(){}onLoad(t){this.Hr=t}onLoadCallbackExecute(){this.Hr()}start(){let t=this.onLoadCallbackExecute.bind(this);this.Wb(t)}Wb(t){document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e));function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()}}}return it([G("onLoad")],s.prototype,"onLoadCallbackExecute",null),s})(),Lw="csq:start-hotjar",Sn=(()=>{let s;return function(r){r.HJ_DUAL_COLLECT="one_app_tag_dc"}(s||(s={})),s})(),Ll=(()=>{class s{static set(t,e){s.Em[t]=e}static isEnabled(t){return s.Em[t]===!0}}return s.Em={[Sn.HJ_DUAL_COLLECT]:!1},s})();function Vw(s){return!window.hjSiteSettings||!((window.hjSiteSettings.features==null?void 0:csArray.prototype.indexOf.call(window.hjSiteSettings.features,Sn.HJ_DUAL_COLLECT))>-1)?!1:s?!hd(s)&&!yy(s):!0}var Uw=(()=>{class s extends dl{constructor(){super("")}send(){}}return s})(),jw=(()=>{class s extends Xt{constructor(t,e,i,n,o){super(),this.E=t,this.w=e,this.Y=i,this.xi=n,this.A=o,this.Is=null}init(){this.jl()}onStart(t=is.Natural){switch(t){case is.Natural:this.Hl();break;case is.Artificial:this.Bl();break;case is.Renewal:this.Fl();break}}onStop(){}triggerArtificialPageView(t,e){this.isStarted?(this.w.emitArtificialPageViewEnd(),this.Li(t,e)):(Nt(t)&&this.A.overridePath(t,e),this.Y.emitTargetingRulesArtificialPageview(this.A.getUrl()),this.E.hasTargetingRules()&&this.A.cleanupOverrideLifespan())}Hl(){let t=this.A.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.xi.send(),this.A.cleanupOverrideLifespan(),this.w.emitAfterNaturalPageView(Bs.Natural),this.Is=t}Fl(){let t=this.A.getAnonymizedUrl();this.w.emitBeforeNaturalPageView(t),this.xi.send(),this.w.emitAfterNaturalPageView(Bs.Renewal),this.Is=t}Li(t,e,i=!1){Nt(t)&&this.A.overridePath(t,e);let n=this.A.getAnonymizedUrl();this.w.emitBeforeArtificialPageView(this.Is,n),this.xi.send(),this.A.cleanupOverrideLifespan(),this.w.emitAfterArtificialPageView(i),this.Is=n}Bl(){this.Li(null,void 0,!0)}jl(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&(this.w.emitArtificialPageViewEnd(),this.Li())})}}return s})(),Hw=(()=>{class s{constructor(t,e,i,n,o){this.E=t,this.S=e,this.w=i,this.Y=n,this.A=o}init(){let t=new Uw;this.ku=new jw(this.E,this.w,this.Y,t,this.A),this.ku.init(),Id(this.S,this.ku,this.A)}start(){this.ku.start()}}return s})(),Bw=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g,v){this.E=t,this.w=e,this.S=i,this.N=n,this.A=o,this.Y=c,this.D=h,this.tt=d,this.I=f,this.pt=g,this.bt=v}start(){if(this.Yb()){this.ft(),this.tt.init(),this.vm=new Hw(this.E,this.S,this.w,this.Y,this.A),this.vm.init();let t=new _r;if(this.nt=new Vo(this.E,this.A,t,this.bt),this.nt.init(),!Ll.isEnabled(Sn.HJ_DUAL_COLLECT)){let i=new $f(this.Y),n=new Ff(this.S,i,this.E,this.I,this.pt,this.N,this.D,this.nt,this.tt);n.init(),n.start(),this.Sm=new bw(this.E,this.N,this.A,i),this.Sm.init(),this.w.addListener(this.Sm)}let e=new zf;e.onLoad(()=>{this.w.emitStartNoTrackingMode(),this.S.start(),this.vm.start()}),e.start()}}Yb(){var t;return((t=this.E.voc)===null||t===void 0?void 0:t.enabled)||this.E.vocData}ft(){this.S.register(wr,t=>{this.tt.setMaskedElementSettingsFromCommand(t)})}}return s})();var Fw=(()=>{class s{constructor(t,e){this.et=t,this.Ct=e,this.xu=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.Ct.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.xu=!0}disableRemoveQueryString(){this.xu=!1}get(){let t=this.xu?this.et.removeQueryString(this.wm()):this.wm();return this.et.anonymizeUrl(t,{maskingPatterns:this.Ct.getUrlMaskingPatterns()})}set(t){this.Am=t}wm(){if(this.Am)return this.Am;let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})();function tu(s,r,t){if(!mt(r)&&!mt(t))return s.href;let e=mt(r)?Vc(r):s.pathname,i=mt(t)?Gf(t):s.search;return`${s.protocol}//${s.host}${e}${i}`}function Vc(s){return ce(s,"/")?s:`/${s}`}function Gf(s){return ce(s,"?")||s===""?s:`?${s}`}var Ya=(()=>{let s;return function(r){r[r.page=1]="page",r[r.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),qf=(()=>{class s{constructor(t,e){this.Dt=t,this.et=e,this.t0=10}overridePath(t,e){if(t===""){this.wi=void 0;return}let i=this.Tm(e);i&&(this.Lu=i),this.wi=e?this.bm(t,e):t}overrideQuery(t,e){let i=this.Tm(e);i&&(this.Vu=i),this.Ro=e?this.bm(t,e):t}computeOverriddenUrl(t){return this.e0(t)?this.getAnonymizedUrl():t}s0(t){return(typeof t=="string"||typeof t=="number")&&t in Ya}e0(t){let e=this.ma(this.Dt.href);return this.ma(t)===e}ma(t){return Qg(t,"/")?csString.prototype.slice.call(t,0,-1):t}Tm(t){return mt(t==null?void 0:t.lifespan)&&this.s0(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}i0(){return this.Lu&&this.Lu in Ya}r0(){return this.Vu&&this.Vu in Ya}cleanupOverrideLifespan(){this.i0()&&(this.wi=void 0,this.Lu=void 0),this.r0()&&(this.Ro=void 0,this.Vu=void 0)}getAnonymizedUrl(){let t=tu(this.Dt,this.wi,this.Ro);return this.et.anonymizeUrl(t)}getUrl(){return tu(this.Dt,this.wi,this.Ro)}getAnonymizedPathAndQuery(){let t=mt(this.wi)?Vc(this.wi):this.Dt.pathname,e=mt(this.Ro)?Gf(this.Ro):this.Dt.search;return this.et.anonymizeUrl(t+e)}getPath(){return mt(this.wi)?Vc(this.wi):this.Dt.pathname}getUrlProtocol(){return this.Dt.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}bm(t,e){return this.n0(e)?this.o0(t):this.a0(e)?this.c0(t):t}a0(t){return!!t.decodeURI}c0(t){return this.Rm(t,1,!1)}n0(t){return!!t.decodeURIDeep}o0(t){return this.Rm(t,this.t0,!0)}Rm(t,e,i){let n=t;for(let o=0;o<e;o++)try{let c=window.decodeURI(n);if(c===n)return n;n=c}catch{return n}return i&&Y.warn(`decodeURIDeep limit reached: ${n}`),n}}return s})(),$w=(()=>{class s{constructor(t,e){this.S=t,this.As=e}init(){this.S.register(["debugEvents"],t=>{typeof t=="boolean"&&this.As.updateDynamicFields("emitDebugEvents",t)})}}return s})();var eu=(()=>{class s{constructor(t,e,i,n,o){this.E=t,this.N=e,this.C=i,this.Cm=n,this.rs=o}getRequestParameters(){var t;let e={...fl(),...this.E.getRequestParameters()},i=this.C.getSession();i&&(e.pn=`${i.pageNumber}`);let n=this.N.getVisitor();if(n&&(e.sn=`${n.visitsCount}`,e.uu=`${n.id}`),!((t=this.Cm)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.Cm.getSubProjectId()}`),this.l0(e),window.heap&&!this.E.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}l0(t){if(!this.rs)return;let e=this.rs.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})();function zw(){let s="[data-cs-mask]",r="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],i=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,r,t,...e,...i]}function Gw(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var Wf=(()=>{class s{constructor(t){this.El=t,this.h0={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.Hs={elementSelector:"",attrSelector:"",attrSelectors:[]};let e={PIISelectors:zw(),Attributes:Gw()};this.Hs=$.getComputedSelectorSettings(e,this.Hs)}init(){this.u0()}setMaskedElementSettingsFromCommand(t){if(t=$.sanitizeSelectorUserInput(t),!$.isSelectorUserInput(t))throw new Ht(wr[0]);this.Uu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.Uu(e)}getMaskedElementSettings(t){return t?this.Im(this.h0):this.Hs}u0(){var t,e,i,n,o,c,h;let d={PIISelectors:[],Attributes:[]};((i=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||i===void 0?void 0:i.Text)instanceof Array&&d.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(o=(n=window==null?void 0:window.ClickTaleSettings)===null||n===void 0?void 0:n.DOM)===null||o===void 0?void 0:o.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(f=>{U(f.attr)&&U(f.rule)&&d.Attributes.push({selector:f.rule,attrName:f.attr})}),(h=this.El)===null||h===void 0||h.markClicktalePIIInUse(d),this.Uu(d)}Uu(t){this.Hs=this.Im(t)}Im(t){return $.getComputedSelectorSettings(t,this.Hs)}}return s})(),qw=60*1e3,Ww=30*1e3,Yw=(()=>{class s{constructor(t,e){this.C=t,this.N=e,this.ju=!1,this.d0=Po(()=>this.C.refreshSession(),Ww)}onSessionExpired(t){this.f0=t}isSessionValid(){return this.ju?!0:!(!this.C.hasValidSession()||this.C.pollCacheRefreshEvent()&&this.N.isSessionRenewed())}isCurrentPageviewValid(){let t=this.C.hasValidSession();return this.C.pollCacheRefreshEvent(!1)?!this.N.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.d0():this.p0()&&(this.Pm=K.now(),this.renewSession(!1))}renewSession(t){this.ju=!0,this.f0(t),this.ju=!1}p0(){return!document.hidden&&(!mt(this.Pm)||K.now()-this.Pm>qw)}}return s})(),Yf=(()=>{class s{constructor(){this.W=null,this.U=null,this.B=!1,this._i=t=>{for(let e of t)if(Hs.isEditableNode(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let n=e.addedNodes[i];if(!Hs.isEditableNode(n)){if(oo(n)||eg(n)){Hs.markEditableNode(n);continue}Lt(n)&&this.Om(n)}}}}start(){this.B||(this.B=!0,this.W=new os(t=>dt(t,e=>{this.Om(e)})),this.W.observe("[contenteditable]"),this.U=new as(this._i,(t,e)=>e==="added"&&this.g0(t)),this.U.observe())}stop(){var t,e;this.B&&(this.B=!1,(t=this.W)===null||t===void 0||t.disconnect(),this.W=null,(e=this.U)===null||e===void 0||e.disconnect(),this.U=null)}Om(t){Re(t).visitAll(e=>{Hs.markEditableNode(e)})}g0(t){Hs.isEditableNode(t.host)&&Hs.markEditableNode(t)}}return s})();var Xw=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),Xf=(()=>{class s extends Xw{constructor(t){super(),this.y0=t,this.pi=[{boundElement:document,type:"touchstart",listener:e=>this.Q(e)},{boundElement:document,type:"touchmove",listener:e=>this.Q(e)},{boundElement:document,type:"touchend",listener:e=>this.Q(e)}],this.Co=new Pc,this.Co.onGesture((e,i)=>this.$h(e,i))}$h(t,e){for(let i in this.subscriptions){let n=this.subscriptions[i];n(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.pi,t=>Ut(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.pi,t=>jt(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}Q(t){this.y0.tryToExecute("process gesture event",()=>{if(this.Co.isValidTouchEvent(t))switch(t.type){case"touchstart":this.Co.processActionDown(t);break;case"touchmove":this.Co.processActionMove();break;case"touchend":this.Co.processActionUp(t);break}})()}static isSwipe(t){return t.type===Zt.FLICK||t.type===Zt.DRAG}}return s})(),Kw=(()=>{class s{constructor(t,e,i,n,o){this.E=t,this.Z=e,this.Ei=i,this.$t=n,this.yt=o}init(){this.Z.onChildMessage((t,e,i)=>this.yt.emitIframeEvent(t,e,i)),this.Z.setSentiveStatusCallback(()=>this.$t.getSensitiveStatus()),this.Z.setRecordingContextCallback(()=>this.Ei.getRecordingContext())}onStartTracking(){this.E.iframesTracking&&this.Z.start()}onOptout(){this.E.iframesTracking&&this.Z.stop()}onSensitiveStatusChange(){if(this.E.iframesTracking){let t=this.$t.getSensitiveStatus();this.Z.onSensitiveStatusChange(t)}}onRecordingContextChange(){if(this.E.iframesTracking){let t=this.Ei.getRecordingContext();this.Z.onRecordingContextChange(t)}}}return s})(),Kf=(()=>{class s extends Xt{constructor(t){super(),this.E=t,this.Bu=0,this.ke=new Map,this.Mm={boundElement:window,type:"message",listener:e=>this.Fu(e)}}onChildMessage(t){this.Dm=t}setRecordingContextCallback(t){this.E0=t}setSentiveStatusCallback(t){this.v0=t}onSensitiveStatusChange(t){let e=Pt.buildBaseMessage(z.SensitiveStatus,ke.Parent,this.E.projectId);e.content=t;let i=Pt.buildBaseMessage(z.SensitiveStatus,ke.Parent,this.E.projectId);i.content={...t,started:!1,useAnonymization:!0,capturedElementSelector:""},this.ke.forEach(n=>{if(n.port){let o=this.gc(n)?i:e;this.$u(n,o)}})}onRecordingContextChange(t){let e=Pt.buildBaseMessage(z.RecordingContext,ke.Parent,this.E.projectId);e.content=t,this.ke.forEach(i=>{!this.gc(i)&&i.port&&this.$u(i,e)})}sendToChildren(t,e){let i=Pt.buildBaseMessage(t,ke.Parent,this.E.projectId);i.content=e,this.S0(i)}onStart(){Ut(this.Mm,!1),this.km()}onStop(){this._0(),jt(this.Mm,!1),this.w0()}km(){let t=this.A0();this.T0(t),csArray.prototype.forEach.call(t,e=>{if(this.b0(e)===null){let n={iframe:e};this.ke.set(this.Bu,n),this.Bu+=1}}),this.R0()}A0(){return csArray.prototype.filter.call(Rt.findAllElements("iframe"),t=>this.C0(t))}T0(t){this.ke.forEach((e,i)=>{e.iframe&&csArray.prototype.indexOf.call(t,e.iframe)===-1&&this.I0(i,e)})}I0(t,e){e.port&&Pt.closeChannelPort(e.port),this.ke.delete(t)}w0(){this.ke.forEach(t=>{t.port&&Pt.closeChannelPort(t.port)}),this.ke.clear()}b0(t){let e=null;return this.ke.forEach((i,n)=>{e===null&&i.iframe===t&&(e=n)}),e}C0(t){return t.id!==Iu&&(!t.src||ce(t.src,"about:")||ll(Bu(t.src),this.E.hostnames))}S0(t){this.ke.forEach(e=>{this.$u(e,t)})}$u(t,e){let i=e.type===z.SensitiveStatus||e.type===z.RecordingContext;t.port&&(!i||t.initialStatusSent)&&Pt.sendChannelMessage(t.port,e)}R0(){this.ke.forEach((t,e)=>{if(t.iframe.contentWindow){let i=this.P0(e);Pt.sendPostMessage(t.iframe.contentWindow,"*",i)}})}_0(){let t=this.O0();this.ke.forEach(e=>{e.port?Pt.sendChannelMessage(e.port,t):e.iframe.contentWindow&&Pt.sendPostMessage(e.iframe.contentWindow,"*",t)})}P0(t){return Pt.buildBaseMessage(z.Discovery,ke.Parent,this.E.projectId,t)}O0(){return Pt.buildBaseMessage(z.Stop,ke.Parent,this.E.projectId)}N0(t,e){let i=this.ke.get(t);if(i===void 0){Y.error(`Parent received channel messaging initialization from unknow child id : ${t} (${this.Bu})`);return}i.port=e,i.port.onmessage=n=>{this.zu(n,i)}}M0(t){if(!t.port)return;let e=Pt.buildBaseMessage(z.SensitiveStatus,ke.Parent,this.E.projectId),i=this.v0();this.gc(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),e.content=i,Pt.sendChannelMessage(t.port,e)}D0(t){if(!t.port)return;let e=Pt.buildBaseMessage(z.RecordingContext,ke.Parent,this.E.projectId),i=this.E0();this.gc(t)&&(i.isRecording=!1),e.content=i,Pt.sendChannelMessage(t.port,e)}zu(t,e){if(e===void 0){Y.error(`Parent received channelMessage from unknown child : ${csJSON.stringify(t.data)}`);return}let i=t.data.type,n=t.data.content;i===z.EndOfBufferedMessages?(this.M0(e),this.D0(e),e.initialStatusSent=!0):this.Dm(e.iframe,i,n)}Fu(t){if(Pt.isMessageValid(t,ke.Child,this.E.projectId,this.E.hostnames))switch(t.data.type){case z.Discovery:if(t.data.id===void 0){this.km();return}if(t.ports&&t.ports.length===1&&this.ke.has(t.data.id)){this.N0(t.data.id,t.ports[0]);return}Y.error(`Parent received wrong channelMessage initialization : (${t.origin}) : ${csJSON.stringify(t.data)}`);break;case z.ChildLogMessage:this.Dm(null,z.ChildLogMessage,t.data.content);break;default:Y.warn(`Parent received unexpected postMessage type from child (${t.origin}) : ${csJSON.stringify(t.data)}`)}}gc(t){return $.isMaskedElement(t.iframe)||$.isMaskedElementChild(t.iframe)}}return s})();var Jf=(()=>{class s{constructor(t){this.Et=t}on(t,e){return i=>{this.Et.hasValidEventTarget(i)&&this.V0(i,t)&&e(i)}}V0(t,e){let i=oe(t);return Ie.call(i,e)}isMatchesSelectorSupported(){return!!Ie}}return s})(),Jw=(()=>{class s extends Xt{constructor(){super(),this.Lm=0}onStart(){Y.isPerfLoggingActive()&&(this.Io=window.csSetInterval(()=>this.Vm(),s.U0))}onStop(){Y.isPerfLoggingActive()&&(this.Vm(),csClearInterval(this.Io))}Vm(){this.Lm>=s.j0||rt.counters.methodPerformance.flush()&&this.Lm++}}return s.U0=5e3,s.j0=5,s})(),Qw=(()=>{class s{constructor(){}init(){this.mc=new Jw}onStartTracking(){this.mc.start()}onOptout(){this.mc.stop()}onArtificialPageViewEnd(t){t&&this.mc.stop()}onAfterArtificialPageView(t){t&&this.mc.start()}}return s})();var su=(()=>{let s;return function(r){function t(n){return U(n)||Bt(n)}r.isValidIdentity=t;function e(n){let o=!1;return i(n)&&(o=!!n.hash),o}r.parseIdentityOptionsHash=e;function i(n){return Nt(n)&&qe(n)&&"hash"in n}}(s||(s={})),s})(),Uc=["identify"],Zw=["getIdentity"],Qf=["resetIdentity"];var iu=(()=>{let s;return function(r){function t(n){return ut(n)}r.isValidProperties=t;let e=255;function i(n){let o={};for(let c of Object.keys(n)){let h=n[c];if(U(h)||Bt(h)){let d=ae.truncate(csString(c),e);o[d]=ae.truncate(csString(h),e)}}return o}r.sanitizeProperties=i}(s||(s={})),s})();var jc=["addUserProperties"];var Le={invitationDisplayed:"surveyInvitationDisplayed",displayed:"surveyDisplayed",submitted:"surveySubmitted",completed:"surveyCompleted",responseUrl:"surveyResponseUrl"},Gr={[Le.invitationDisplayed]:"Survey Invitation Displayed",[Le.displayed]:"Survey Displayed",[Le.submitted]:"Survey Response Submitted",[Le.completed]:"Survey Completed",[Le.responseUrl]:"Survey Response URL"},Xn={[Le.invitationDisplayed]:"survey_invitation_displayed",[Le.displayed]:"survey_displayed",[Le.submitted]:"survey_response_submitted",[Le.completed]:"survey_completed"},Xa="FB_HJ_",tA=(()=>{class s{constructor(t){this.Fm=[],this.De=t}Po(t,e,i,n,o){let c=`${t}-${i}`,h=Xa+e,d=o?t:`Survey ID : ${i}`,f=!1,g=`${window.location.pathname}?cs_hotjar=${n}`;csArray.prototype.includes.call(this.Fm,c)||(csArray.prototype.push.call(this.Fm,c),this.De.pushDynamicVariable(h,d)),f&&n&&this.De.pushPageView(g)}listen(){window.addEventListener("hotjar-survey-event",t=>{if(t&&t.detail&&t.detail.event){let{event:e,surveyId:i,question:n,questionIndex:o,response:c,insightsUrl:h}=t.detail;if(i)switch(e){case Le.invitationDisplayed:this.Po(e,Gr.surveyInvitationDisplayed,i,Xn.surveyInvitationDisplayed);break;case Le.displayed:this.Po(e,Gr.surveyDisplayed,i,Xn.surveyDisplayed);break;case Le.completed:this.Po(e,Gr.surveyCompleted,i,Xn.surveyCompleted);break;case Le.submitted:{if(this.Po(e,Gr.surveySubmitted,i,Xn.surveySubmitted),n){let d=c&&c[0]&&c[0].answer;n.type!="multiple-close-ended"&&n.text&&typeof d!="undefined"&&(isNaN(d)||(d=parseInt(d)),this.De.pushDynamicVariable(`${Xa+i} : ${n.text}`,d),this.De.pushDynamicVariable(`${Xa+i} : Question ${o+1}`,d))}h&&this.Po(h,Gr.surveyResponseUrl,i,null,!0)}break}}})}}return s})(),ru=["start:hotjar"],eA="static.hj.contentsquare.net",sA=(()=>{class s{constructor(t,e,i,n,o){this.E=t,this.S=e,this.A=i,this.$m=n,this.De=o,this.Zi=!1,this.Oo=!1}init(){var t,e;this.Zi=this.E.isSMB,this.Oo=!!(!((t=this.E.voc)===null||t===void 0)&&t.enabled&&(!((e=this.E.voc)===null||e===void 0)&&e.siteId)),this.ft(),this.Zi&&this.$m.start()}onAfterNaturalPageView(){this.startHotjar()}onAfterArtificialPageView(){if(this.Oo){let t=this.A.getUrl();hj.currentUrl=t,kc(),xc(t)}}startHotjar(){var t;if(this.Zi&&window.hjSiteSettings&&(window._uxa.push([ru,window.hjSiteSettings]),rt.counters.trackedFeatures.count("legacy-csq-lite")),!this.Zi&&this.Oo){let e=(t=this.E.voc)===null||t===void 0?void 0:t.siteId,i=window.document,n=i.head||i.getElementsByTagName("head")[0],o=i.createElement("script");o.async=!0,o.src=`https://${eA}/c/hotjar-${e}.js`,o.charset="utf-8",n.appendChild(o),rt.counters.trackedFeatures.count("legacy-csq-ent-voc")}}ft(){this.S.register(ru,t=>{if(t&&(hj.settings=t,vw(),new Vf(this.De).listen({vocEnabled:this.Oo,integrationsEnabled:this.Zi}),this.Zi?(hj.scriptLoaded=!0,_w(),Uf(),window.hjBootstrapCalled=csArray.prototype.concat.call(window.hjBootstrapCalled||[],t.site_id),ww("Contentsquare")):this.$m.start(),this.Oo)){let i=this.A.getUrl();hj.currentUrl=i,this.Zi||new tA(this.De).listen(),kc(),jf(),xc(i)}})}}return s})();var iA=1024,rA=512,Ka=1024,Ja="||",cn=(()=>{let s;return function(r){function t(c,h){return U(c)&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(c),Vs.CHAMELEON)!==-1?Vs.CHAMELEON:h}r.handleCustomEventCommandMisuse=t;function e(c,h,d){let f=i(d);return{type:at.CUSTOM_EVENT,ts:0,customEventName:ae.truncate(c,iA,ae.ELLIPSIS),sourceLibrary:Km(h)?h:Vs.WEB,...oc(f)?{}:{properties:f}}}r.buildCustomEvent=e;function i(c){let h={};for(let d in c){if(d.length>rA)continue;let f=c[d];if(Bt(f)||en(f))h[d]=csString(f);else if(o(f))h[d]=ae.truncate(f,Ka,ae.ELLIPSIS);else if($p(f)){let g=n(f);g!==""&&(h[d]=g)}}return h}r.sanitizeCustomEventProperties=i;function n(c){let h="";for(let d=0;d<c.length;d++){let f=c[d];if(!Bt(f)&&!en(f)&&!o(f))continue;let g=csString(f);if(h==="")h=ae.truncate(g,Ka,ae.ELLIPSIS);else if(h.length+Ja.length+g.length<=Ka)h+=Ja+g;else break}return h}function o(c){return U(c)&&!wo(c)&&!csString.prototype.includes.call(c,Ja)}}(s||(s={})),s})(),Se=(()=>{class s{static buildFromCustomEvent(t,e){return this.Ym(null,t,e)}static buildFromAnalysisEvent(t,e,i){return this.Ym(t,e,i)}static Ym(t,e,i){return csArray.prototype.reduce.call(i,(n,o)=>o.enhanceAnalysisEvent(t,n),e)}}return s})();var nA=(()=>{class s extends Xt{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N,C,H,j,O,et){super(),this.E=t,this.Ti=e,this.zt=i,this.qr=n,this.Ju=o,this.ns=c,this.xe=h,this.Qu=d,this.V=f,this.ce=g,this.Zu=v,this.Ze=_,this.J=b,this.Gt=M,this.Sc=x,this.Bs=N,this.Fs=C,this.td=H,this.tr=j,this.er=O,this.ir=et,this.yi=new Ol,this._c=!1,this.rr=[]}init(){var t,e,i,n,o,c,h;this.Ti.onEvent(d=>this.Ut(d)),this.zt.onEvent(d=>this.Ut(d)),this.qr.onEvent(()=>{let d=this.qr.getRequestParameters();this.J.setQueryParams(d),this.xe.setQueryParams(d)}),this.Zu.onEvent(d=>this.we(d)),this.sd(),(t=this.Sc)===null||t===void 0||t.onEvent(d=>this.Ut(d)),(e=this.tr)===null||e===void 0||e.onEvent(d=>this.Ut(d)),(i=this.Bs)===null||i===void 0||i.onEvent(d=>this.Ut(d)),(n=this.Fs)===null||n===void 0||n.onEvent(d=>this.Ut(d)),this.mR(),(o=this.td)===null||o===void 0||o.onEvent(d=>this.we(d)),(c=this.er)===null||c===void 0||c.onEvent(d=>this.we(d)),(h=this.ir)===null||h===void 0||h.onEvent(d=>this.we(d))}mR(){this.xe.onBeaconSuccess(()=>{this.ns.clearEvents()}),this.xe.onBeaconFailure(t=>{this.yR(t)})}initStates(){let t=this.Qu.getRequestParameters(),e=this.Ju.getRequestParameters(),i=this.qr.getRequestParameters();this.J.setQueryParams(t),this.J.setQueryParams(e),this.J.setQueryParams(i),this.xe.setQueryParams(t),this.xe.setQueryParams(e),this.xe.setQueryParams(i),this.Vl()}clearStates(t){var e,i;this.Ti.flushPendingDebouncedListeners(),(e=this.Bs)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.Fs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t?(this.rd(),this.sendLastMessageBeacon()):this.sendEvents(),this.qr.reset(),this.J.removeQueryParams()}onStart(t){var e,i,n,o,c,h,d;t||(e=this.td)===null||e===void 0||e.start(),this.Ze.start(),this.Ti.start(),this.qr.start(),this.zt.start(),(i=this.Sc)===null||i===void 0||i.start(),(n=this.Fs)===null||n===void 0||n.start(),t||this.Zu.start(),(o=this.Bs)===null||o===void 0||o.start(),(c=this.tr)===null||c===void 0||c.start(),(h=this.er)===null||h===void 0||h.start(),(d=this.ir)===null||d===void 0||d.start(),csArray.prototype.forEach.call(this.rr,f=>{this.we(f)}),this.rr=[]}collectInitialEvents(){var t;(t=this.Sc)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.we(t)}onIframeAnalysisUserEvent(t){this.Ut(t)}onExternalEvent(t){this.Q(t)}we(t){this.isStarted&&this.V.isCurrentPageviewValid()&&this.Q(t)}Ut(t){this.isStarted&&(this.V.refreshSession(),this.V.isSessionValid()&&this.Q(t))}Q(t){this.ns.addEvent(this.ER(t)),this.ns.isFull()&&this.sendEvents(),this.E.emitDebugEvents&&this.yi.emit("analysisEvent",{...t,typeName:at[t.type]})}ER(t){return t.ts=this.ki(),t}rd(){this.xe.setQueryParams({hlm:"true"}),this._c=!0}sendLastMessageBeacon(){this.xe.removeQueryParams(["i"]),this.xe.setQueryParams(this.Qu.getRequestParameters()),this.xe.setQueryParams(this.Ju.getRequestParameters()),this.xe.send(this.ns.stringifyEvents()),this.xe.removeQueryParams(["hlm"]),this._c=!1}sendEvents(){this.ns.isEmpty()||(this.xe.removeQueryParams(["i"]),this.J.setQueryParams(this.Qu.getRequestParameters()),this.J.setQueryParams(this.Ju.getRequestParameters()),this.J.send(this.ns.getEvents()),this.ns.clearEvents())}onStop(){var t,e,i,n,o,c,h;this.Ze.stop(),this.Ti.stop(),this.qr.stop(),this.zt.stop(),this.Zu.stop(),(t=this.Sc)===null||t===void 0||t.stop(),(e=this.Bs)===null||e===void 0||e.stop(),(i=this.Fs)===null||i===void 0||i.stop(),(n=this.tr)===null||n===void 0||n.stop(),this.ns.empty(),(o=this.td)===null||o===void 0||o.stop(),(c=this.er)===null||c===void 0||c.stop(),(h=this.ir)===null||h===void 0||h.stop()}Vl(){this.us=K.now()}ki(){return K.now()-this.us}sd(){this.Ze.onEvent(t=>{var e,i;t!==ze.Visible&&((e=this.Bs)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.Fs)===null||i===void 0||i.flushPendingTextHighlightEvent(),t===ze.PagehideVisible?this.rd():t===ze.PagehideHidden?(this.rd(),this.sendLastMessageBeacon()):(!this.ns.isEmpty()||this._c)&&this.sendLastMessageBeacon())})}yR(t){try{(!this.ns.isEmpty()||this._c)&&this.ce.save({requestParameters:t,events:this.ns.getEvents()})}catch{}}pushCustomEvent(t,e,i){if(!(U(t)&&!wo(t))||i!==void 0&&!ut(i))throw new Ht(yr[0]);let n=cn.buildCustomEvent(t,e,i),o=Se.buildFromCustomEvent(n,this.Gt);this.isStarted?this.we(o):csArray.prototype.push.call(this.rr,o)}}return s})(),oA=(()=>{class s extends vn{constructor(){super(...arguments),this.supportedEventTypes=[at.CHANGE],this.vR=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let i=oe(t);return To(i)&&csArray.prototype.indexOf.call(this.vR,i.type)>=0&&(e.isBlank=i.value===""),e}}return s})();var kt=(()=>{let s;return function(r){r[r.ANONYMIZED=0]="ANONYMIZED",r[r.CAPTURED=1]="CAPTURED",r[r.MASKED=2]="MASKED",r[r.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})();var Zf=(()=>{class s extends vn{constructor(t){super(),this.Et=t,this.supportedEventTypes=[at.MOUSEDOWN,at.MOUSEUP,at.CLICK,at.MOUSEOVER,at.TAP,at.DRAG,at.FLICK,at.SUBMIT,at.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.Et.getEventTargetPath(t)),e}}return s})(),nu=65535,aA=(()=>{let s;return function(r){function t(e){let i=oe(e);if(!i||!Lt(i)||!Ce(i.getBoundingClientRect)||!Nt(e.pageX)||!Nt(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let n=i.getBoundingClientRect(),o=e.pageX-n.left-te.windowOffsetX(),c=e.pageY-n.top-te.windowOffsetY();i!==document.documentElement&&(o+=i.scrollLeft,c+=i.scrollTop);let h=Math.max(i.scrollWidth,n.width),d=Math.max(i.scrollHeight,n.height),f=Math.round(o/h*nu),g=Math.round(c/d*nu);return{xRel:f,yRel:g,valid:!0}}r.getRelativePosition=t}(s||(s={})),s})(),cA=(()=>{class s extends vn{constructor(t,e){super(),this.As=t,this.Et=e,this.supportedEventTypes=[at.MOUSEMOVE,at.CLICK],this.od=""}baseEnhanceAnalysisEvent(t,e){let{valid:i,xRel:n,yRel:o}=aA.getRelativePosition(t);if(i){let c=this.Et.getEventTargetPath(t);c!==$s.INVALID_ELEMENT&&(e.xRel=n,e.yRel=o,e.type===at.MOUSEMOVE&&(c!==this.od||this.As.iframesTracking?(this.od=c,e.tgtHM=c,this.As.isChild||(e.tgtHMH=Ku(e.tgtHM))):e.tgtHM=""))}else e.type===at.MOUSEMOVE&&(this.od="");return e}}return s})(),tp=(()=>{class s extends vn{constructor(t,e){super(),this.Et=t,this.$t=e,this.supportedEventTypes=[at.CLICK,at.SUBMIT,at.CHANGE,at.TAP]}baseEnhanceAnalysisEvent(t,e){let i=this.$t.getSensitiveStatus().useAnonymization,{path:n,hierarchy:o}=this.Et.getEventTargetPathAndHierarchy(t,i);return e.tgt=n,e.hrchy=o,e}}return s})(),ou=100,ep=(()=>{class s extends vn{constructor(t,e,i){super(),this.E=t,this.$t=e,this.D=i,this.supportedEventTypes=[at.TAP,at.CLICK,at.SUBMIT]}PR(t){let e="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),n=i.nextNode();for(;n;){if(e+=n.textContent,nl(n.parentElement)||rl(n.parentElement)||this.$t.getElementSensitiveStatus(n.parentElement)!==kt.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=ou)break;n=i.nextNode()}return!1}NR(t){let e=gr(t,"button,a");return e||(this.E.collectTargetText===gc.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(pi(csEventtarget.apply(t))){let i=this.NR(csEventtarget.apply(t));if(i&&U(i.textContent)&&!this.PR(i)&&!this.D.hasPII(i.textContent,this.E.anonymizeDigits)){let n=ae.truncate(csString.prototype.trim.call(i.textContent),ou);n.length>0&&(e.text=n)}}return e}}return s})();function sp(s,r,t,e,i){let n=[];return csArray.prototype.push.call(n,new cA(s,r)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(n,new ep(s,t,new Bi)),s.collectHierarchy&&csArray.prototype.push.call(n,new tp(r,t)),csArray.prototype.push.call(n,new oA,new Zf(r)),n}function ip(s,r,t,e,i){let n=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(n,new ep(s,t,new Bi)),s.collectHierarchy&&csArray.prototype.push.call(n,new tp(r,t)),csArray.prototype.push.call(n,new Zf(r)),n}var lA=(()=>{class s extends Xt{constructor(t,e){super(),this.ce=t,this.J=e,this.Zm=()=>{document.visibilityState==="visible"&&this.ty()}}onStart(){this.ty(),this.Qh()}onStop(){this.Zh()}getRecoveryStorage(){return this.ce}ty(){let t=this.ce.recover();if(t!==null){let{requestParameters:e,events:i}=t;this.J.send(i,e)}}Qh(){document.addEventListener("visibilitychange",this.Zm)}Zh(){document.removeEventListener("visibilitychange",this.Zm)}}return s})(),hA=(()=>{class s{constructor(t){this.Dr=t}save(t){localStorage.setItem(this.Dr,csJSON.stringify(t))}clear(){localStorage.removeItem(this.Dr)}recover(){let t=localStorage.getItem(this.Dr);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{Y.error(`Invalid item in localStorage.
         (key:${this.Dr}; value:${t})`)}finally{this.clear()}return e}}return s})(),uA=50,dA=(()=>{class s{constructor(t=[]){this.Bt=t}stringifyEvents(){return csJSON.stringify(this.Bt)}addEvent(t){csArray.prototype.push.call(this.Bt,t)}eventsCount(){return this.Bt.length}clearEvents(){this.Bt=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=uA}isEmpty(){return this.Bt.length===0}getEvents(){return this.Bt}}return s})(),rp=(()=>{class s{constructor(t,e,i,n=["submit"]){this.Gt=t,this.Et=e,this.qt=i,this.MR=n,this.ey="select, select *, input, textarea",this.DR="select, select *, input, textarea",this.sy="a, a *, button, button *, select, select *, input, textarea",this.Mo="input, select, textarea",this.kR="form",this.Ic=150,this.xR=400,this.iy=!1,this.Do=so((o,c)=>this.scrollListener(o,c),this.Ic),this.ry=so(o=>this.resizeListener(o),this.Ic),this.LR=Po(o=>this.mouseMoveListener(o),this.xR),this.VR=[{boundElement:window,type:"resize",listener:()=>this.ry()},{boundElement:document,type:"scroll",listener:o=>this.Do(o)},{boundElement:window,type:"mousemove",listener:o=>{this.LR(ny(o))}},{boundElement:document,type:"mousedown",listener:o=>this.mouseDownListener(o)},{boundElement:document,type:"mouseup",listener:o=>this.mouseUpListener(o)},{boundElement:document,type:"click",listener:o=>this.clickListener(o)}],this.ny=[{type:"change",listener:this.qt.on(this.DR,o=>this.changeListener(o))},{type:"submit",listener:this.qt.on(this.kR,o=>this.submitListener(o))}],this.UR=[{boundElement:document,type:"mouseover",listener:this.qt.on(this.sy,o=>this.mouseOverListener(o))},{boundElement:document,type:"mouseout",listener:this.qt.on(this.sy,o=>this.mouseOutListener(o))},{boundElement:document,type:"focusin",listener:this.qt.on(this.ey,o=>this.focusInListener(o))},{boundElement:document,type:"focusout",listener:this.qt.on(this.ey,o=>this.focusOutListener(o))},{boundElement:document,type:"keyup",listener:this.qt.on(this.Mo,o=>this.keyUpListener(o))},{boundElement:document,type:"keydown",listener:this.qt.on(this.Mo,o=>this.keyDownListener(o))},{boundElement:document,type:"copy",listener:this.qt.on(this.Mo,o=>this.copyListener(o))},{boundElement:document,type:"cut",listener:this.qt.on(this.Mo,o=>this.cutListener(o))},{boundElement:document,type:"paste",listener:this.qt.on(this.Mo,o=>this.pasteListener(o))},...csArray.prototype.map.call(this.ny,o=>({...o,boundElement:document}))],this.F={},this.ch=(o,c)=>{switch(c){case"initial":case"added":this.qi(o);break;case"removed":this.Wi(o);break}},this.ge=new zi(this.ch),this.fu()}qi(t){if(ao(t)){let e=this.oy();csArray.prototype.forEach.call(e,i=>Ut(i))}else{let e=this.ay();csArray.prototype.forEach.call(e,i=>{Ut({...i,boundElement:t})})}}Wi(t){if(ao(t)){let e=this.oy();csArray.prototype.forEach.call(e,i=>jt(i))}else{let e=this.ay();csArray.prototype.forEach.call(e,i=>{jt({...i,boundElement:t})})}}onEvent(t){this.j=t}start(){this.ge.observe(),this.qi(document),this.resizeListener()}stop(){this.Wi(document),this.ge.disconnect()}flushPendingDebouncedListeners(){this.Do.flushPending(),this.ry.flushPending()}cy(t){return csArray.prototype.some.call(this.MR,e=>e===t)}ay(){return this.qt.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.ny,t=>!this.cy(t.type)):(Y.warn("Element.matches is not implemented yet"),[])}oy(){let t=[];return csArray.prototype.push.call(t,...this.VR),this.qt.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.UR):Y.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.cy(e.type))}resizeListener(t){let e=dr.getScrollContainer(),i=pi(e);i&&(this.iy=!0);let n={type:at.RESIZE,ts:0,x:i?e.clientWidth:te.windowWidth(),y:i?e.clientHeight:te.windowHeight()};t!==void 0&&(n.d=t),this.j(n)}scrollListener(t,e){let i=dr.isEventOnScrollContainer(e);!this.iy&&i&&this.resizeListener();let n={type:at.SCROLL,ts:0,x:i?csEventtarget.apply(e).scrollLeft:te.windowOffsetX(),y:i?csEventtarget.apply(e).scrollTop:te.windowOffsetY(),d:t},o=Se.buildFromAnalysisEvent(e,n,this.Gt);this.j(o)}mouseMoveListener(t){let e={type:at.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.j(i)}mouseDownListener(t){let e={type:at.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}mouseUpListener(t){let e={type:at.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}clickListener(t){let e={type:at.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}mouseOverListener(t){let e={type:at.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}mouseOutListener(t){let e={type:at.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.Et.getEventTargetPath(t)},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}focusInListener(t){let e={type:at.FOCUSIN,ts:0,tgt:this.Et.getEventTargetPath(t)},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}focusOutListener(t){let e={type:at.FOCUSOUT,ts:0,tgt:this.Et.getEventTargetPath(t)},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}changeListener(t){let e={type:at.CHANGE,ts:0,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}submitListener(t){let e={type:at.SUBMIT,ts:0,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);this.Ae(i)}copyListener(t){let e={type:at.COMMAND,ts:0,tgt:this.Et.getEventTargetPath(t),key:ur.COPY};this.Ae(e)}cutListener(t){let e={type:at.COMMAND,ts:0,tgt:this.Et.getEventTargetPath(t),key:ur.CUT};this.Ae(e)}pasteListener(t){let e={type:at.COMMAND,ts:0,tgt:this.Et.getEventTargetPath(t),key:ur.PASTE};this.Ae(e)}keyUpListener(t){let e={type:at.KEYUP,ts:0,tgt:this.Et.getEventTargetPath(t),key:this.ly(t)};this.Ae(e)}keyDownListener(t){let e={type:at.KEYDOWN,ts:0,tgt:this.Et.getEventTargetPath(t),key:this.ly(t)};this.Ae(e)}ly(t){let e=this.F[t.key];return e===void 0?gt.ALPHANUMERICAL:e}Ae(t){Xu(t)&&t.tgt!==$s.INVALID_ELEMENT&&this.j(t)}fu(){this.F[" "]=gt.SPACE,this.F.Spacebar=gt.SPACE,this.F.Enter=gt.ENTER,this.F.Backspace=gt.BACKSPACE,this.F.Delete=gt.DELETE,this.F.ArrowUp=gt.ARROWUP,this.F.ArrowDown=gt.ARROWDOWN,this.F.ArrowLeft=gt.ARROWLEFT,this.F.ArrowRight=gt.ARROWRIGHT,this.F.Up=gt.ARROWUP,this.F.Down=gt.ARROWDOWN,this.F.Left=gt.ARROWLEFT,this.F.Right=gt.ARROWRIGHT,this.F.CapsLock=gt.CAPSLOCK,this.F.Shift=gt.SHIFT,this.F.Tab=gt.TAB}}return it([G("Event handler type: resize")],s.prototype,"resizeListener",null),it([G("Event handler type: scroll")],s.prototype,"scrollListener",null),it([G("Event handler type: mouseMove"),xt()],s.prototype,"mouseMoveListener",null),it([G("Event handler type: mouseDown"),xt()],s.prototype,"mouseDownListener",null),it([G("Event handler type: mouseUp"),xt()],s.prototype,"mouseUpListener",null),it([G("Event handler type: click"),xt()],s.prototype,"clickListener",null),it([G("Event handler type: mouseOver"),xt()],s.prototype,"mouseOverListener",null),it([G("Event handler type: mouseOut"),xt()],s.prototype,"mouseOutListener",null),it([G("Event handler type: focusIn")],s.prototype,"focusInListener",null),it([G("Event handler type: focusOut")],s.prototype,"focusOutListener",null),it([G("Event handler type: change")],s.prototype,"changeListener",null),it([G("Event handler type: submit"),xt()],s.prototype,"submitListener",null),it([G("Event handler type: copy")],s.prototype,"copyListener",null),it([G("Event handler type: cut")],s.prototype,"cutListener",null),it([G("Event handler type: paste")],s.prototype,"pasteListener",null),it([G("Event handler type: keyup")],s.prototype,"keyUpListener",null),it([G("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),np=(()=>{class s{constructor(t,e,i){this.Gt=t,this.zt=e,this.Ot=i}processGesture(t,e){switch(t.type){case Zt.TAP:this.jR(e);break;case Zt.FLICK:this.HR(t,e);break;case Zt.DRAG:this.BR(t,e);break;default:break}}jR(t){let e={type:at.TAP,ts:0,x:0,y:0,tgt:""},i=Se.buildFromAnalysisEvent(t,e,this.Gt);i.tgt!==$s.INVALID_ELEMENT&&this.j(i)}BR(t,e){var i,n;let o={type:at.DRAG,ts:0,fd:t.direction,tgt:""};!((i=this.Ot)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((n=this.Ot)===null||n===void 0)&&n.collectGestureVelocity&&(o.velocity=t.velocity);let c=Se.buildFromAnalysisEvent(e,o,this.Gt);c.tgt!==$s.INVALID_ELEMENT&&this.j(c)}HR(t,e){var i,n;let o={type:at.FLICK,ts:0,fd:t.direction,tgt:""};!((i=this.Ot)===null||i===void 0)&&i.collectGestureDistance&&(o.distance=t.distance),!((n=this.Ot)===null||n===void 0)&&n.collectGestureVelocity&&(o.velocity=t.velocity);let c=Se.buildFromAnalysisEvent(e,o,this.Gt);c.tgt!==$s.INVALID_ELEMENT&&this.j(c)}onEvent(t){this.j=t}start(){this.zt.subscribe(s.hy,(t,e)=>this.processGesture(t,e))}stop(){this.zt.unsubscribe(s.hy)}}return s.hy="AnalysisGestureTracker",it([xt()],s.prototype,"processGesture",null),s})();var fA=(()=>{class s{constructor(){this.Sy=100,this.Lo=0,this.Vo=te.documentHeight(),this._y={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.Lo=this.gd(dr.getScrollContainer()).maxScrollRate}onEvent(t){this.j=t}start(){Ut(this._y)}stop(){jt(this._y)}reset(){let t=dr.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:i}=this.gd(t);this.Vo=i,this.Lo=e,this.j()}gd(t){let e=0,i=0;if(t===null)i=te.documentHeight(),e=this.ZR(i);else{let n=this.tC(t);i=this.wy(t,n),e=this.eC(t,n)}return{maxScrollRate:e,maxDocumentHeight:i}}maxScrollRateListener(t){let e=null;dr.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:i,maxDocumentHeight:n}=this.gd(e);(i>this.Lo||n>this.Vo)&&(this.Lo=i,n>this.Vo&&(this.Vo=n),this.j())}ZR(t){let e=Math.round(this.sC()/t*100);return Math.min(e,this.Sy)}sC(){let t=te.windowHeight();return te.windowOffsetY()+t}eC(t,e){let i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,n=this.wy(t,e),o=Math.round(i/n*100);return Math.min(o,this.Sy)}tC(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}wy(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.Lo}`,mdh:`${this.Vo}`}}}return it([G("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),pA=(()=>{class s{constructor(t){this.Uo=t,this.jo=e=>this.processMetric(e),this.B=!1}onEvent(t){this.j=t}start(){this.B||(this.B=!0,this.Uo.onFCP(this.jo),this.Uo.onCLS(this.jo),this.Uo.onLCP(this.jo),this.Uo.onTTFB(this.jo),this.Uo.onINP(this.jo))}stop(){this.B=!1}processMetric(t){if(!this.B)return;let e={type:at.PERFORMANCE,name:t.name,val:t.value,ts:0};this.j(e)}}return it([G("Performance metric handler")],s.prototype,"processMetric",null),s})(),gA=(()=>{class s{constructor(t){this.Mc=t.performance}getRequestParameters(){if(this.iC())return{};let t=this.rC();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}rC(){let t=this.Mc.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}iC(){return!(this.Mc&&this.Mc.timing&&this.Mc.timing.loadEventEnd>0)}}return s})();var op=-1,br=s=>{addEventListener("pageshow",r=>{r.persisted&&(op=r.timeStamp,s(r))},!0)},ms=(s,r,t,e)=>{let i,n;return o=>{r.value>=0&&(o||e)&&(n=r.value-(i!=null?i:0),(n||i===void 0)&&(i=r.value,r.delta=n,r.rating=((c,h)=>c>h[1]?"poor":c>h[0]?"needs-improvement":"good")(r.value,t),s(r)))}},Vl=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},Ul=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},_n=()=>{var r;let s=Ul();return(r=s==null?void 0:s.activationStart)!=null?r:0},ys=(s,r=-1)=>{let t=Ul(),e="navigate";return op>=0?e="back-forward-cache":t&&(document.prerendering||_n()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:r,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},Qa=new WeakMap;function jl(s,r){return Qa.get(s)||Qa.set(s,new r),Qa.get(s)}var Hc=class{constructor(){Ms(this,"t");Ms(this,"i",0);Ms(this,"o",[])}h(r){var i;if(r.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&r.startTime-e.startTime<1e3&&r.startTime-t.startTime<5e3?(this.i+=r.value,this.o.push(r)):(this.i=r.value,this.o=[r]),(i=this.t)==null||i.call(this,r)}},wn=(s,r,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(i=>{Promise.resolve().then(()=>{r(i.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},Hl=s=>{let r=!1;return()=>{r||(s(),r=!0)}},hr=-1,au=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,yo=s=>{document.visibilityState==="hidden"&&hr>-1&&(hr=s.type==="visibilitychange"?s.timeStamp:0,mA())},cu=()=>{addEventListener("visibilitychange",yo,!0),addEventListener("prerenderingchange",yo,!0)},mA=()=>{removeEventListener("visibilitychange",yo,!0),removeEventListener("prerenderingchange",yo,!0)},ap=()=>{var s;if(hr<0){let r=_n(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>r)[0])==null?void 0:s.startTime;hr=t!=null?t:au(),cu(),br(()=>{setTimeout(()=>{hr=au(),cu()})})}return{get firstHiddenTime(){return hr}}},Uo=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},lu=[1800,3e3],cp=(s,r={})=>{Uo(()=>{let t=ap(),e,i=ys("FCP"),n=wn("paint",o=>{for(let c of o)c.name==="first-contentful-paint"&&(n.disconnect(),c.startTime<t.firstHiddenTime&&(i.value=Math.max(c.startTime-_n(),0),i.entries.push(c),e(!0)))});n&&(e=ms(s,i,lu,r.reportAllChanges),br(o=>{i=ys("FCP"),e=ms(s,i,lu,r.reportAllChanges),Vl(()=>{i.value=performance.now()-o.timeStamp,e(!0)})}))})},hu=[.1,.25],yA=(s,r={})=>{cp(Hl(()=>{let t,e=ys("CLS",0),i=jl(r,Hc),n=c=>{for(let h of c)i.h(h);i.i>e.value&&(e.value=i.i,e.entries=i.o,t())},o=wn("layout-shift",n);o&&(t=ms(s,e,hu,r.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(n(o.takeRecords()),t(!0))}),br(()=>{i.i=0,e=ys("CLS",0),t=ms(s,e,hu,r.reportAllChanges),Vl(()=>t())}),setTimeout(t))}))},lp=0,Za=1/0,Kn=0,EA=s=>{for(let r of s)r.interactionId&&(Za=Math.min(Za,r.interactionId),Kn=Math.max(Kn,r.interactionId),lp=Kn?(Kn-Za)/7+1:0)},Bc,uu=()=>{var s;return Bc?lp:(s=performance.interactionCount)!=null?s:0},vA=()=>{"interactionCount"in performance||Bc||(Bc=wn("event",EA,{type:"event",buffered:!0,durationThreshold:0}))},du=0,Fc=class{constructor(){Ms(this,"u",[]);Ms(this,"l",new Map);Ms(this,"m");Ms(this,"p")}v(){du=uu(),this.u.length=0,this.l.clear()}P(){let r=Math.min(this.u.length-1,Math.floor((uu()-du)/50));return this.u[r]}h(r){var i,n;if((i=this.m)==null||i.call(this,r),!r.interactionId&&r.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(r.interactionId);if(e||this.u.length<10||r.duration>t.T){if(e?r.duration>e.T?(e.entries=[r],e.T=r.duration):r.duration===e.T&&r.startTime===e.entries[0].startTime&&e.entries.push(r):(e={id:r.interactionId,entries:[r],T:r.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((o,c)=>c.T-o.T),this.u.length>10){let o=this.u.splice(10);for(let c of o)this.l.delete(c.id)}(n=this.p)==null||n.call(this,e)}}},hp=s=>{let r=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(r(s=Hl(s)),document.addEventListener("visibilitychange",s,{once:!0}))},fu=[200,500],SA=(s,r={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Uo(()=>{var c;vA();let t,e=ys("INP"),i=jl(r,Fc),n=h=>{hp(()=>{for(let f of h)i.h(f);let d=i.P();d&&d.T!==e.value&&(e.value=d.T,e.entries=d.entries,t())})},o=wn("event",n,{durationThreshold:(c=r.durationThreshold)!=null?c:40});t=ms(s,e,fu,r.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(n(o.takeRecords()),t(!0))}),br(()=>{i.v(),e=ys("INP"),t=ms(s,e,fu,r.reportAllChanges)}))})},$c=class{constructor(){Ms(this,"m")}h(r){var t;(t=this.m)==null||t.call(this,r)}},pu=[2500,4e3],_A=(s,r={})=>{Uo(()=>{let t=ap(),e,i=ys("LCP"),n=jl(r,$c),o=h=>{r.reportAllChanges||(h=h.slice(-1));for(let d of h)n.h(d),d.startTime<t.firstHiddenTime&&(i.value=Math.max(d.startTime-_n(),0),i.entries=[d],e())},c=wn("largest-contentful-paint",o);if(c){e=ms(s,i,pu,r.reportAllChanges);let h=Hl(()=>{o(c.takeRecords()),c.disconnect(),e(!0)});for(let d of["keydown","click","visibilitychange"])addEventListener(d,()=>hp(h),{capture:!0,once:!0});br(d=>{i=ys("LCP"),e=ms(s,i,pu,r.reportAllChanges),Vl(()=>{i.value=performance.now()-d.timeStamp,e(!0)})})}})},gu=[800,1800],zc=s=>{document.prerendering?Uo(()=>zc(s)):document.readyState!=="complete"?addEventListener("load",()=>zc(s),!0):setTimeout(s)},wA=(s,r={})=>{let t=ys("TTFB"),e=ms(s,t,gu,r.reportAllChanges);zc(()=>{let i=Ul();i&&(t.value=Math.max(i.responseStart-_n(),0),t.entries=[i],e(!0),br(()=>{t=ys("TTFB",0),e=ms(s,t,gu,r.reportAllChanges),e(!0)}))})},AA=(()=>{class s{onFCP(t){try{cp(t,{reportAllChanges:!0})}catch{rt.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{yA(t,{reportAllChanges:!0})}catch{rt.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{_A(t,{reportAllChanges:!0})}catch{rt.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{wA(t,{reportAllChanges:!0})}catch{rt.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{SA(t,{reportAllChanges:!0})}catch{rt.counters.webVitalsErrors.count("INP")}}}return s})();var TA="csAnalysisEventsPersisted",mu="v2/events",yr=["trackEvent"],bA="track",RA=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b,M,x){this.E=t,this._t=e,this.N=i,this.it=n,this.qt=o,this.S=c,this.V=h,this.zt=d,this.yt=f,this.Ht=g,this.Y=v,this.$t=_,this.ot=b,this.Wt=M,this.Yt=x}init(){let t=new dA,e=this.Ht.create(`${this.E.getTrackerUri()}/${mu}`,"base64");this.Jr=this.yC(e),this.Te=this.EC(t,this.Jr.getRecoveryStorage(),e),this.Te.init(),this.Y.addListener(this.Te),this.yt.addListener(this.Te),this.S.register(yr,i=>{if(!ut(i))throw new Ht(yr[0]);this.Te.pushCustomEvent(i.name,i.source,i.properties)})}onStartTracking(t){this.Jr.start(),this.Te.start(t)}onAfterNaturalPageView(){this.Te.initStates()}onArtificialPageViewEnd(t){this.Te.clearStates(!0),t&&(this.Te.stop(),this.Jr.stop())}onAfterArtificialPageView(t){this.Te.initStates(),t&&(this.Te.start(),this.Jr.start()),this.Te.collectInitialEvents()}onBeforeSessionRenewal(){this.Te.clearStates(),this.Te.stop(),this.Jr.stop()}onOptout(){this.Te.stop(),this.Jr.stop()}EC(t,e,i){var n,o;let c=new gA(window),h=new fA,d=sp(this.E,this.it,this.$t,this.Wt,this.Yt),f=[];this.E.collectSubmit||csArray.prototype.push.call(f,"submit");let g=new rp(d,this.it,this.qt,f),v=ip(this.E,this.it,this.$t,this.Wt,this.Yt),_=new np(v,this.zt),b=new pA(new AA),M=new gf,x,N,C,H=new df(`${this.E.getTrackerUri()}/${mu}`),j=new nn(this._t,this.N),O,et,Z,lt;return new nA(this.E,g,_,h,c,t,H,j,this.V,e,b,M,i,d,x,N,C,O,et,Z,lt)}yC(t){return new lA(new hA(TA),t)}}return s})(),up=["startDataCollection","data-collection:start"],CA=["data-collection:stop"],IA=(()=>{class s{constructor(t,e){this.as=t,this.S=e}init(){this.S.register(up,()=>{this.as.startDataCollection()}),this.S.register(CA,()=>{this.as.stopDataCollection()})}}return s})(),tc={fromSessionRenewal:!1,isRenewedVisitor:!1},PA=(()=>{class s{constructor(t,e,i,n,o,c){this.E=t,this.w=e,this.hs=i,this.tt=n,this.or=o,this.V=c,this.xy=!1,this.Ly=0,this.Ed=!0,this.Vy=!1,this.qs=!1,this.startDataCollection=({fromSessionRenewal:h,onAfterDataCollectionStartedCallback:d}=tc)=>{h&&this.qs||!this.xy?this.vC(h,d):this.SC()}}isDataCollectionStarted(){return this.qs}tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e,onAfterDataCollectionStartedCallback:i}=tc){this._C(t,e)&&this.startDataCollection({fromSessionRenewal:t,onAfterDataCollectionStartedCallback:i})}disableStartDataCollection(){this.Ed=!1}allowStartDataCollection({fromSessionRenewal:t}=tc){this.Ed=!0,this.Vy&&this.startDataCollection({fromSessionRenewal:t})}stopDataCollection(){this.qs&&(this.qs=!1,this.w.emitArtificialPageViewEnd(!0),this.or.stop())}SC(){this.qs||(this.qs=!0,this.V.isSessionValid()?(this.V.refreshSession(),this.or.start(is.Artificial)):this.V.renewSession(!1))}_C(t,e){return e&&!this.qs?!1:t?!0:this.E.startMode===uo.Manual?!1:!Ac(this.E)&&!this.E.isHeapSideloadsStartDataCollection()&&!this.E.isCsSideloadingHeap()}vC(t,e){if(this.hs.isActive()||(this.Vy=!0,this.wC()&&(this.Ly++,this.Ly<2))||!this.Ed||this.qs&&!t)return;this.xy=!0,this.qs=!0,this.tt.init();let i=t?is.Renewal:is.Natural;this.or.start(i);let n=()=>{this.w.emitStartTracking(t),typeof e=="function"&&e()};Rt.onDocumentLoaded(n)}wC(){return Ac(this.E)&&this.E.isCsSideloadingHeap()}}return s})();var OA=(()=>{class s{constructor(t,e,i=!1){this.Ct=t,this.et=e,this.wn=i}addUrlMaskingPattern(t){this.Ct.addUrlMaskingPattern(t)}anonymize(t){let e=this.et.removeQueryString(t.url),i={maskingPatterns:this.Ct.getUrlMaskingPatterns(),partialMaskingPatterns:this.Ct.getPartialUrlMaskingPatterns(),maskNames:this.wn};return{...t,url:this.et.anonymizeUrl(e,i),library:t.library?this.et.anonymizeUrl(t.library,i):void 0}}}return s})();var NA=(()=>{let s;return function(r){function o(d,f,g=!1){let _={message:ae.truncate(d,300,ae.ELLIPSIS),errorType:"customError"};return(g||h(f))&&(c(f),_.attributes=f),_}r.buildCustomErrorEvent=o;function c(d){for(let f in d){let g=d[f];if(typeof g=="string"&&g.length>30&&(g=ae.truncate(g,30,ae.ELLIPSIS),d[f]=g),f.length>30){let v=ae.truncate(f,30,ae.ELLIPSIS);delete d[f],d[v]=g}}}function h(d){let f=Object.keys(d).length;return f>0&&f<=5}}(s||(s={})),s})();var MA=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|$)/gi,DA="$1$4CS_ANONYMIZED_NAME$3$6",kA=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,xA="CS_ANONYMIZED_PHONE",LA=(()=>{class s{constructor(t,e){this.D=t,this.et=e}anonymize(t){return this.et?csArray.prototype.join.call(csArray.prototype.map.call(Sm(t),({content:e,isUrl:i})=>{var n;return i?(n=this.et)===null||n===void 0?void 0:n.anonymizeUrl(e,{maskNames:!0}):this.$y(e)}),""):this.$y(t)}$y(t){t=this.D.anonymizePII(t);let e=t;t=this.wn(t),t!==e&&(rt.counters.redactedPII.count("name"),rt.counters.redactedPII.count("name-in-custom-error"));let i=t;return t=this.WC(t),t!==i&&(rt.counters.redactedPII.count("phone"),rt.counters.redactedPII.count("phone-in-custom-error")),t}wn(t){return csString.prototype.replace.call(t,MA,DA)}WC(t){return csString.prototype.replace.call(t,kA,xA)}}return s})();var VA="CS_ANONYMIZED_VALUE",UA=(()=>{class s{constructor(t,e){this.D=t,this.A=e}anonymize(t){return U(t.message)&&(t.message=this.JC(t.message),t.message=this.D.anonymizePII(t.message)),U(t.filename)&&(t.filename=this.A.computeOverriddenUrl(t.filename)),t}JC(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${VA}'`)}}return s})();var jA=(()=>{class s{constructor(t){this.S=t}init(){this.eE(s.OI,zu),this.eE(s.NI,$u)}eE(t,e){this.S.register([t],(i,n)=>{!U(i)||!(U(n)||Gs(n))||Y.error(n,`${e}${i}`)})}}return s.NI="logSnippetError",s.OI="logImplementationSnippetError",s})();var HA=(()=>{class s{constructor(){this.bd=Bs.Natural}setPageViewType(t){this.bd=t}getPageViewType(){return this.bd}getRequestParameters(){return{pvt:this.bd}}}return s})(),Eo=["customProperties:page:add","addPageviewProperties"],vo=["customProperties:page:remove","removePageviewProperty"],Gc=["customProperties:page:clear","clearPageviewProperties"],BA="addPageviewProperties",FA="removePageviewProperty",$A="clearPageviewProperties";var So=["customProperties:visit:add","addEventProperties"],_o=["customProperties:visit:remove","removeEventProperty"],qc=["customProperties:visit:clear","clearEventProperties"],zA="addEventProperties",GA="removeEventProperty",qA="clearEventProperties";var WA=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})();var YA=(()=>{class s{constructor(t,e){this.$t=t,this.E=e,this.sE=!1}enableRecordingContext(t,e,i){this.sE=!0,this.Lr=t,this.C=e,this.uo=i}getRecordingContext(){var t,e,i;if(!this.sE)return{isRecording:!1,recordingStartTimestamp:0,etrState:Ve.ETR_OFF,etrStatus:De.ETR_DISABLED,collectState:W.ANALYTICS_ONLY};let n=this.C.getSession();return{isRecording:this.Lr.isRecording(),useAnonymization:this.$t.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.Lr.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.Lr.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.Lr.getRecordingStartTimestamp(),10),etrState:this.E.malkaEtrEnabled?Ve.ETR_ON:Ve.ETR_OFF,etrStatus:this.uo.getEtrStatus(n),collectState:(i=n==null?void 0:n.collectState)!==null&&i!==void 0?i:W.ANALYTICS_ONLY}}}return s})(),Er=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})();var Bl=(()=>{class s extends Xt{constructor(t,e,i,n,o,c){super(),this.ve=t,this.tt=e,this.Jt=i,this.Er=n,this.an=o,this.nt=c}onStart(){var t,e,i;this.Jt.start(),this.ve.setMaskedElementSettings(this.tt.getMaskedElementSettings((t=this.nt)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.ve.startIdentifier(),(e=this.Er)===null||e===void 0||e.start(),(i=this.an)===null||i===void 0||i.start()}onStop(){var t,e;this.Jt.stop(),this.ve.stopIdentifier(),(t=this.Er)===null||t===void 0||t.stop(),(e=this.an)===null||e===void 0||e.stop()}}return s})(),XA=(()=>{class s{constructor(t,e,i,n,o,c){this.nt=t,this.tt=e,this.Kt=i,this.Jt=n,this.Dn=o,this.ut=c,this.kn=Ro(this.Dn)}getSensitiveStatus(){var t,e;return{started:this.Kt.isStarted,useAnonymization:this.nt.shouldUseAnonymization(),capturedElementSelector:this.Jt.getWhitelistedElementsSelector(),maskedElementSettings:this.tt.getMaskedElementSettings((t=this.nt)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.ut)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.Kt.isStarted,i=this.nt.shouldUseAnonymization();return e?$.isMaskedElement(t)||$.isMaskedElementChild(t)?kt.MASKED:zd.shouldEncrypt(t)?kt.ENCRYPTED:Hs.isEditableNode(t)?kt.ANONYMIZED:i?$e.isWhitelistedElement(t)?kt.CAPTURED:kt.ANONYMIZED:kt.CAPTURED:kt.ANONYMIZED}getAttributeSensitiveStatus(t,e){if(!this.Kt.isStarted)return kt.ANONYMIZED;let i=this.nt.shouldUseAnonymization();return $.isMaskedAttribute(t,e)?kt.MASKED:i?ji(t)||$e.isWhitelistedElement(t)||this.kn.has(e)?kt.CAPTURED:kt.ANONYMIZED:kt.CAPTURED}}return s})(),KA=(()=>{class s{constructor(t){this.V=t}onAfterVisitorRenewal(){this.V.renewSession(!0)}}return s})(),JA={MATCHED:{[W.ANALYTICS_ONLY]:W.ANALYTICS_ONLY_RULES_TARGETING,[W.RECORDING_GLOBAL_SAMPLING]:W.RECORDING_RULES_TARGETING,[W.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING]:W.RECORDING_RULES_TARGETING},MISSED:{[W.ANALYTICS_ONLY]:W.ANALYTICS_ONLY_RULES_TARGETING,[W.RECORDING_GLOBAL_SAMPLING]:W.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING}},ec=(()=>{let s;return function(r){let t;function e(_){t=_}r.setLogger=e;function i(_,b){for(let M of _)if(o(M,b))return!0;return!1}r.isUrlMatching=i;function n(_,b){if(U(b)){for(let M of _)if(o(M,b))return!0}else if(en(b)){for(let M of _)if(o(M,csString(b)))return!0}return!1}r.isMatching=n;function o(_,b){let M=c(_,b);return _.negate?!M:M}function c(_,b){switch(_.rule_type==="date"&&(_.match_operation==="less_than"||_.match_operation==="greater_than")&&(b=(new csDate(b).valueOf()/1e3).toFixed(0)),_.match_operation){case"exact":switch(_.rule_type){case"string":return U(_.pattern)?csString.prototype.toLowerCase.call(b)===csString.prototype.toLowerCase.call(_.pattern):!1;case"boolean":return b===_.pattern||b===csString(_.pattern);case"number":return Nt(b)?Number(b)===Number(_.pattern):!1;default:return b===_.pattern}case"starts_with":return U(_.pattern)?csString.prototype.indexOf.call(b,_.pattern)===0:!1;case"ends_with":return U(_.pattern)?vr(b,_.pattern):!1;case"contains":return U(_.pattern)?csString.prototype.indexOf.call(b,_.pattern)!==-1:!1;case"regex":if(!U(_.pattern))return!1;try{return new csRegExp(_.pattern).test(b)}catch(M){return t==null||t.warn(`targeting.matchOperation.regex invalid ${M==null?void 0:M.message}`),!1}case"simple":return U(_.pattern)?v(b)===v(_.pattern):!1;case"greater_than":return Number(b)>Number(_.pattern);case"less_than":return Number(b)<Number(_.pattern);case"exact_date":{let M=Number(_.pattern);if(!Bt(M))return!1;let x=new csDate(M*1e3);return new csDate(b).toDateString()===x.toDateString()}case"exact_days_ago":return h(_,b);case"more_than_days_ago":return d(_,b);case"less_than_days_ago":return f(_,b);case"unknown":return g(b);default:return t==null||t.warn(`targeting.matchOperation.regex not managed operation ${_.match_operation}`),!1}}function h(_,b){let M=new csDate,x=M.setDate(M.getDate()-Number(_.pattern)),N=new csDate(x);return new csDate(b).toDateString()===N.toDateString()}function d(_,b){let M=Number(_.pattern);if(!Bt(M))return!1;let x=Number(M)+1,N=new csDate,C=new csDate(N);return C.setDate(N.getDate()-x),new csDate(b).getTime()<=C.getTime()}function f(_,b){let M=Number(_.pattern);if(!Bt(M))return!1;if(M===0)return h(_,b);let x=new csDate,N=new csDate(x);return N.setDate(x.getDate()-M),new csDate(b).getTime()>=N.getTime()}function g(_){return Nt(_)?U(_)?csString.prototype.trim.call(_)==="":en(_)?_===!0:Bt(_)?_!==0:!1:!0}function v(_){let b=ce(_,"http://")||ce(_,"https://")?_:`https://${_}`,M=hl(b);return M!==null?csString.prototype.replace.call(M.host,/^www./,""):_}}(s||(s={})),s})(),QA=(()=>{let s;return function(r){r.URL="url"}(s||(s={})),s})(),sc={isLegacyURL:s=>s.component==="url",isLegacyTrigger:s=>s.component==="trigger",isURL:s=>s.type===QA.URL},ZA=(()=>{class s{constructor(t){this.rE=new _r,this.nE=[],this.oE=[],ec.setLogger(t)}setTargetingRules(t){this.rE.setRegexRules(csArray.prototype.filter.call(t,sc.isURL));for(let e of t)sc.isLegacyURL(e)?csArray.prototype.push.call(this.nE,e):sc.isLegacyTrigger(e)&&csArray.prototype.push.call(this.oE,e)}matchUrl(t){return ec.isUrlMatching(this.nE,t)||this.rE.evaluateUrl(t)}matchTrigger(t){return ec.isMatching(this.oE,t)}}return s})(),tT=(()=>{class s extends Xt{constructor(t,e,i){super(),this.aE=t,this.Pd=e,this.A=i}init(){this.Od=new ZA(Y),this.aE&&this.Od.setTargetingRules(this.aE)}onStart(){}checkTargetingRules(){let t=this.A.getAnonymizedUrl();this.Pd(this.Nd(t,"url"))}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.Pd(this.Nd(t,"url"))}onExternalEvent(t){this.isStarted&&this.Pd(this.Nd(t.name,"trigger"))}Nd(t,e){var i,n;return e==="url"&&U(t)&&(!((i=this.Od)===null||i===void 0)&&i.matchUrl(t))?!0:!!(e==="trigger"&&(!((n=this.Od)===null||n===void 0)&&n.matchTrigger(t)))}}return s})(),eT=(()=>{class s{constructor(t,e,i,n,o,c,h){this.E=t,this.w=e,this.It=i,this.Y=n,this.A=o,this.C=c,this.as=h,this.lr=!1,this.Yo=(d=!1)=>{this.lr&&this.E.isSMB&&this.as.allowStartDataCollection({fromSessionRenewal:d}),this.E.startMode===uo.Automatic&&this.as.startDataCollection({fromSessionRenewal:d})},this.jI=d=>{this.lr||(this.lr=d,this.cE(),this.Yo())}}init(){this.E.isSMB&&this.as.disableStartDataCollection(),this.cn=new tT(this.E.recordTargetingRules,this.jI,this.A),this.Y.addListener(this.cn),this.cn.init()}start(){this.cn.start()}stop(){this.cn.stop()}maybeStartDataCollection(t){if(t){this.Yo(t);return}if(this.HI()){this.lr=!0,this.Yo(),this.stop();return}this.cn.checkTargetingRules()}onAfterArtificialPageView(){this.cn.checkTargetingRules()}onCollectStateChange(t){if(this.lE(t)){this.stop();return}let e=t===W.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING;!this.lr&&e||csSetTimeout(()=>this.hE(t),0)}onStartTracking(){this.cE()}HI(){let t=this.C.getSession();return!!(t&&this.lE(t.collectState))}lE(t){return t===W.RECORDING_RULES_TARGETING||t===W.ANALYTICS_ONLY_RULES_TARGETING}cE(){var t;if(this.lr){let e=this.C.getSession(),i=this.It.getInitialCollectState();this.hE((t=e==null?void 0:e.collectState)!==null&&t!==void 0?t:i),this.as.isDataCollectionStarted()&&this.w.emitTargetingRulesMatched()}}hE(t){let e=JA[this.lr?"MATCHED":"MISSED"][t];e&&this.w.emitCollectStateChange(e,Ve.ETR_OFF)}}return s})(),dp=(()=>{class s{constructor(){this.uE=new Set,this.dE=[],this.Md=new Set,this.Dd=[]}addUrlMaskingPattern(t){if(this.uE.has(t))return;this.uE.add(t);let e=hh(t);csArray.prototype.push.call(this.dE,e)}getUrlMaskingPatterns(){return this.dE}resetPartialUrlMaskingPatterns(){this.Md.clear(),this.Dd=[]}addPartialUrlMaskingPattern(t){if(this.Md.has(t))return;this.Md.add(t);let e=hh(t);csArray.prototype.push.call(this.Dd,e)}getPartialUrlMaskingPatterns(){return this.Dd}}return s})(),sT=(()=>{class s{constructor(t,e,i){this.E=t,this.N=e,this.C=i,this.us=K.now()}resetStartTime(){this.us=K.now()}getSessionData(){let{projectId:t}=this.E,e=this.N.getVisitor();e==null&&Y.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:i,visitsCount:n}=e!=null?e:{},o=this.C.getSession();o===null&&Y.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=o!=null?o:{};return{projectId:t,userId:i,sessionNumber:n,pageNumber:c,relativeTimestamp:K.now()-this.us}}}return s})(),fp=["clearSession"],pp=["extendSession"];var iT=["getSessionData"],gp=["session:start:newVisitor"],mp=["session:clear:visitor"],rT=(()=>{class s{constructor(t,e,i,n){this.E=t,this.N=e,this.C=i,this.S=n}init(){this.kd=new sT(this.E,this.N,this.C),this.S.register(fp,()=>this.C.removeSession()),this.S.register(pp,()=>this.C.extendSessionPeriodically(),{disableApplyPending:!0}),this.S.register(iT,()=>this.kd.getSessionData(),{disableApplyPending:!0}),this.S.register(gp,()=>this.N.renewVisitor()),this.S.register(mp,()=>{this.N.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.N.createOrUpdateVisitor(),this.C.createOrUpdateSession()}onBeforeArtificialPageView(){this.N.createOrUpdateVisitor(),this.C.createOrUpdateSession()}onAfterNaturalPageView(){this.kd.resetStartTime()}onAfterArtificialPageView(){this.kd.resetStartTime()}onOptout(){this.N.removeVisitor(),this.C.removeSession()}onCollectStateChange(t){this.C.updateCollectState(t)}}return s})(),nT=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N,C,H,j,O,et,Z,lt,Vt,Kt,he,I,X,tt,ot,Mt,Ft,We,vs,Ys,ge,Ye){this._t=t,this.$c=e,this.fe=i,this.N=n,this.C=o,this.V=c,this.Ps=h,this.w=d,this.S=f,this.Tl=g,this.E=v,this.bl=_,this.hs=b,this.Tn=M,this.bt=x,this.D=N,this.it=C,this.et=H,this.A=j,this.BI=O,this.Y=et,this.yt=Z,this.Rt=lt,this.fE=Vt,this.Xt=Kt,this.FI=he,this.M=I,this.Ht=X,this.I=tt,this.pt=ot,this.K=Mt,this.It=Ft,this.tt=We,this.We=vs,this.ue=Ys,this.Wt=ge,this.Yt=Ye,this.$I=Pe=>{this.w.emitBeforeSessionRenewal(),this.ln(!0,Pe),this.w.emitAfterSessionRenewal()},this.zI=Pe=>{this.w.emitBeforeSessionRenewal(),this.It.refreshQuota(fe=>{fe!==W.QUOTA_REACHED&&(this.ln(!0,Pe),this.w.emitAfterSessionRenewal())})}}start(){if(this.bl.init(),this.hs.init(),this.hs.isActive())return;let t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N,C,H,j;this.M.schedule(()=>{x=new KA(this.V),_=new Jf(this.it),b=new Dl(()=>{}),N=new kl,j=new Yf;let O=new Bl(b,this.tt,N,H,j,this.zc());M=new XA(this.zc(),this.tt,O,N,this.E.whitelistedAttributes,C);let et=new IE(this.w,this.S,this.tt,O,N,C,H);et.init(),this.w.addListener(et),t=new RA(this.E,this.$c,this.N,this.it,_,this.S,this.V,new Xf(Y),this.yt,this.Ht,this.Y,M,this.ot,this.Wt,this.Yt),e=new VE(this.S,this.C,this.E,this._t,this.fe,this.D),v=new YA(M,this.E);let Z=null;Z=new Kf(this.E),g=new Kw(this.E,Z,v,M,this.yt),g.init();let lt=new HA;i=new A_(this.N,this.C,this.S,this.yt,Z,this.E,lt,v),n=new $E(this.E,this.$c,this.N,this.S,this.D,this.V,this.A);let Vt,Kt;this.or=new AE(this.E,this.S,this.w,this.$c,this.N,this.C,this.Ps,this.bt,this.Rt,this.A,this.Xt,lt,this.Y,this.Ht,this.We,Vt,this.Wt,this.Yt,Kt),this.pE=new rT(this.E,this.N,this.C,this.S),this.as=new PA(this.E,this.w,this.hs,this.tt,this.or,this.V),new IA(this.as,this.S).init(),h=new QE(this.E,this.S,this.fe,this.$c,this.Y),d=new jA(this.S),f=new Qw}),this.M.schedule(()=>{this.Tn.init()}),this.M.schedule(()=>{i.init()}),this.M.schedule(()=>{e.init()}),this.M.schedule(()=>{n.init()}),this.M.schedule(()=>{this.fE.init()}),this.M.schedule(()=>{this.or.init()}),this.M.schedule(()=>{this.pE.init()}),this.M.schedule(()=>{h.init()}),this.M.schedule(()=>{this.BI.init()}),this.M.schedule(()=>{d.init()}),this.M.schedule(()=>{f.init()}),this.M.schedule(()=>{this.FI.init()}),this.M.schedule(()=>{this.w.addListener(this.pE),this.w.addListener(this.Tl),this.w.addListener(t),this.w.addListener(this.Tn),this.w.addListener(i),this.w.addListener(n),this.w.addListener(this.fE),this.w.addListener(this.or),this.w.addListener(h),this.w.addListener(e),this.w.addListener(g),this.w.addListener(f),this.w.addListener(x)}),Er.isRecordingSupported()&&this.M.schedule(()=>{let O=new m_(v,this.C,this.E,this._t,this.S,this.D,this.V,b,this.Qe,this.St,this.Ue,this.Ct,this.w,this.Y,this.yt,this.Xt,this.Ht,this.et,this.so,this.zc(),this.Qr,C);O.init(),this.w.addListener(O),i.setRecordingService(O.recordingService)}),this.M.schedule(()=>{var O;let et,Z;if(!Ll.isEnabled(Sn.HJ_DUAL_COLLECT)&&(Z=new $f(this.Y),et=new Ff(this.S,Z,this.E,this.I,this.pt,this.N,this.D,this.zc(),this.tt),et.init(),(!((O=this.E.voc)===null||O===void 0)&&O.enabled||this.E.isSMB)&&!this.E.vocData)){let lt=new sA(this.E,this.S,this.A,et,Z);lt.init(),this.w.addListener(lt)}}),this.M.schedule(()=>{t.init()}),this.M.schedule(()=>{this.E.isQuotaEnabled()?this.V.onSessionExpired(O=>{this.zI(O)}):this.V.onSessionExpired(O=>{this.$I(O)}),this.ln()})}ln(t=!1,e=!1){var i,n,o;if(this.E.hasTargetingRules()){this.Xo||(this.Xo=new eT(this.E,this.w,this.It,this.Y,this.A,this.C,this.as),this.w.addListener(this.Xo),this.Xo.init(),this.Xo.start(),this.S.start(),(i=this.ot)===null||i===void 0||i.start()),this.Xo.maybeStartDataCollection(t);return}this.S.start(),(n=this.ot)===null||n===void 0||n.start(),this.as.tryStartAutomaticDataCollection({fromSessionRenewal:t,isRenewedVisitor:e})}zc(){if(this.nt)return this.nt;let t=new _r;return this.nt=new Vo(this.E,this.A,t,this.bt),this.nt.init(),this.nt.shouldUseAnonymization()&&rt.counters.pageAnonymisation.count("anonymized-on-start"),this.nt}}return s})();var yp=(()=>{class s{constructor(t){this.configuration=t}}return s})(),oT=(()=>{class s extends yp{constructor(t,e,i,n,o){super(t),this.configuration=t,this.w=e,this.xd=i,this.A=n,this.Ld=o,this.Vd=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this.Vd=!0,this.Ld.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===W.QUOTA_REACHED||t.collectState===W.RECORDING_RULES_TARGETING||t.collectState===W.RECORDING_TEMPORARILY)&&(t.collectState=W.ANALYTICS_ONLY),t}computeInitialCollectState(){return ui.isReplayConsentNeeded(this.configuration)?W.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Gc()}computeInitialCollectStateFromRecordingConsentGranted(){return this.Gc()}Gc(){if(!Er.isRecordingSupported())return W.ANALYTICS_ONLY;let t=W.ANALYTICS_ONLY,e=Ve.ETR_OFF;return ps.percentage()<this.configuration.replayRecordingRate||this.xd.isForceReplayRecorded()?t=W.RECORDING_GLOBAL_SAMPLING:this.Vd&&this.Ld.evaluateUrl(this.A.getAnonymizedUrl())&&(t=W.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=Ve.ETR_ON),this.w.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!Er.isRecordingSupported())return W.ANALYTICS_ONLY;if(ui.isRecordingBlockedByConsent(t))return t.collectState===W.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?W.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:W.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===W.RECORDING_GLOBAL_SAMPLING)return W.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?Ve.ETR_ON:Ve.ETR_OFF;return this.Vd&&this.Ld.evaluateUrl(this.A.getAnonymizedUrl())?(this.w.emitCollectStateChange(W.RECORDING_URL_SAMPLING,e),W.RECORDING_URL_SAMPLING):(this.w.emitCollectStateChange(W.ANALYTICS_ONLY,e),W.ANALYTICS_ONLY)}isReplayRecorded(t){return ui.isRecordingBlockedByConsent(t)?!1:t.collectState===W.RECORDING_TEMPORARILY||t.collectState===W.RECORDING_GLOBAL_SAMPLING||t.collectState===W.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return W.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return W.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})(),Ze="_cs_s",Wc=18e5,ic=".",aT=13,Jn=(()=>{let s;return function(r){r[r.NOT_FOUND=0]="NOT_FOUND",r[r.EXPIRED=1]="EXPIRED",r[r.FOUND=2]="FOUND"}(s||(s={})),s})(),cT=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.K=i,this.oe=null,this.Ud=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?fd(e):null}getRawSession(t){if(t){let f=this.jd();return Ec(f)}let{sessionString:e,status:i}=this.GI(),n=Ec(e);if(i!==Jn.EXPIRED)return n;if(this.E.cookielessTrackingEnabled)return null;let o=this.jd();if(!o)return null;let c=csString.prototype.split.call(o,ic);if(!s.gE(c))return o;let h=c[c.length-1],d=parseInt(h,10);return isNaN(d)||this.qI(d),n}onCookieToSet(t){this.Mi=t}onCookieToRemove(t){this.Di=t}set(t,e=Wc){var i;let n=K.now()+e,o=vy(t);o+=`${ic}${n}`,this.WI(o,n),this.E.cookielessTrackingEnabled?this.K.setItem(Ze,o):(this.I.set(Ze,o,e),(i=this.Mi)===null||i===void 0||i.call(this,Ze,o,e))}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(Ze):(this.I.delete(Ze),(t=this.Di)===null||t===void 0||t.call(this,Ze)),this.YI()}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.E.allowSubdomains?this.I.delete(Ze,Co.CURRENT_DOMAIN):this.I.delete(Ze,this.I.getRootDomain()),this.set(t))}isValid(t){return t!==null&&gl(t)}WI(t,e){this.oe={sessionString:t,expires:e}}GI(){return this.oe?this.oe&&K.now()<=this.oe.expires?{sessionString:this.oe.sessionString,status:Jn.FOUND}:{sessionString:this.oe.sessionString,status:Jn.EXPIRED}:{sessionString:this.jd(),status:Jn.NOT_FOUND}}YI(){this.oe=null}qI(t){this.oe&&(this.oe.expires=t,this.Ud=!0)}isCacheRefreshed(){return this.Ud}resetCacheRefreshed(){this.Ud=!1}jd(){if(this.E.cookielessTrackingEnabled){let e=this.K.getItem(Ze);return!e||this.mE(e)?null:e}let t=this.I.get(Ze);return!t||this.mE(t)?null:t}mE(t){let e=csString.prototype.split.call(t,ic);if(!s.gE(e))return!1;let i=parseInt(e[e.length-1],10);return!isNaN(i)&&K.now()>i}static gE(t){return t[t.length-1].length===aT}}return s})(),lT=(()=>{class s extends yp{constructor(t,e,i){super(t),this.configuration=t,this.Ko=e,this.w=i,this.XI=W.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.yE=t,this.Jo=void 0,this.KI()}init(t){this.JI();let e=Yt.get(Ze);if(e!==null&&gl(e)){let i=Sy(e);t(this.canCollect(i),i==null?void 0:i.collectState)}else this.refreshQuota(i=>{t(i!==W.QUOTA_REACHED,i)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==W.QUOTA_REACHED}computeInitialCollectState(t){return this.Jo?(this.w.emitCollectStateChange(this.Jo,this.configuration.malkaEtrEnabled?Ve.ETR_ON:Ve.ETR_OFF),this.Jo):(Y.warn("Quota file error computeInitialCollectState() called before quota answered"),W.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===W.QUOTA_REACHED?W.QUOTA_REACHED:!Er.isRecordingSupported()&&this.isReplayRecorded(t)?W.ANALYTICS_ONLY:t.collectState===W.RECORDING_RULES_TARGETING?W.RECORDING_RULES_TARGETING:t.collectState===W.ANALYTICS_ONLY_RULES_TARGETING?W.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===W.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING?W.ANALYTICS_ONLY_RECORDING_PENDING_RULES_TARGETING:t.collectState===W.RECORDING_GLOBAL_SAMPLING?W.RECORDING_GLOBAL_SAMPLING:W.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===W.RECORDING_GLOBAL_SAMPLING||t.collectState===W.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.Jo||W.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return W.ANALYTICS_ONLY}Qo(t){this.Jo=t,this.yE&&this.yE(t)}JI(){this.Ko.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.Ko.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.Ko.onLoad(t=>this.quotaFileHandler(t))}KI(){this.Ko.isInProgress()||this.Ko.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.QI(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;Y.warn(e),this.Qo(this.XI)}QI(t){let e=!1,i=!1;for(let n of t.quotas)n.quotaType==="ANALYTICS"&&n.value?e=!0:n.quotaType==="RECORDING"&&n.value&&ps.boolean(Math.round(n.value*100))&&(i=!0);!e&&i?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&i?Er.isRecordingSupported()?this.Qo(W.RECORDING_GLOBAL_SAMPLING):this.Qo(W.ANALYTICS_ONLY):e&&!i?this.Qo(W.ANALYTICS_ONLY):this.Qo(W.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return W.ANALYTICS_ONLY}}return it([G("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),it([G("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})();var hT=(()=>{class s{constructor(t,e,i,n,o){this.N=t,this.C=e,this._s=i,this.Rt=n,this.E=o}get(){return{exclusion:this._s.getAppliedTrackingDraw(),visitor:this.N.getVisitor(),session:this.C.getSession(),cvars:this.Rt.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this._s.exclude(this.E),this.N.removeVisitor(),this.C.removeSession(),this.Rt.removeCustomVariablesSession()}include(t){this._s.removeExclusion(),this.N.setVisitor(t.visitor),t.session?this.C.setSession(t.session):this.C.removeSession(),t.cvars?this.Rt.setCustomVariableSession(t.cvars):this.Rt.removeCustomVariablesSession()}}return s})();var Fl=60*1e3,uT=60*Fl,dT=4*uT-Fl,cr=(()=>{let s;return function(r){r[r.NO=0]="NO",r[r.WITHDRAWN=1]="WITHDRAWN",r[r.GRANTED=2]="GRANTED"}(s||(s={})),s})(),fT=(()=>{class s{constructor(t,e,i,n,o){this.Re=t,this.It=e,this.w=i,this.rP=n,this.nP=o,this.Zo=null,this.Bd=0,this.ta=cr.NO}setDynamicVariablesService(t){this.oP=t}createOrUpdateSession(){this.Fd(),this.aP=K.now(),this.Bd=0;let t=this.SE();t===null?(t=this.cP(),this.Gc(t),this.w.emitSessionCreated()):(t=this.It.sanitizeSessionCollectState(t),this.lP(t),t.collectState=this.It.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this.It.getInitialCollectState(),t.collectState=this.It.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.ta=cr.GRANTED}withdrawnReplayRecording(t){t.collectState=this.It.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.ta=cr.WITHDRAWN}Gc(t){this.ta===cr.WITHDRAWN?(t.collectState=this.It.getRecordingConsentWithdrawn(),this.setSession(t)):this.ta===cr.GRANTED?t.collectState=this.It.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.It.computeInitialCollectState(t),this.ta=cr.NO}cP(){return{pageNumber:1,collectState:this.It.getInitialCollectState(),replayConsent:this.rP?yc.NOT_EXPRESSED:yc.UNNECESSARY,etrStatus:De.ETR_NOT_SAVED_SESSION}}lP(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this.It.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===W.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.Re.get()}SE(){return this.Re.get(!0)}doesSessionExist(){return this.Re.get()!==null}setSession(t){this.Re.set(t),this.w.emitSessionRefreshed()}refreshSession(){let t=this.SE();t&&this.setSession(t)}removeSession(){this.Re.remove(),this.w.emitSessionRemoved()}getRecordingTypes(){let t=this.getSession(),e=this.hP(t);return this.uP(e)}uP(t){let e=[];return csArray.prototype.forEach.call(t,i=>{if(hd(i)){let n=Ey[i]||i;csArray.prototype.push.call(e,n)}}),e}hP(t){let e=[];return(t==null?void 0:t.collectState)!==void 0&&(csArray.prototype.push.call(e,t.collectState),this.nP&&csArray.prototype.push.call(e,W.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.Re.getRawSession();return this.Re.isValid(t)}handleSubdomainChange(){this.Re.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.Re.isCacheRefreshed();return e&&t&&this.Re.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Zo||this._E()}extendSession(){let t=this.getSession();return t===null?(Y.warn("extendSession is trying to extend an expired session"),this.Fd(),!1):(this.setSession(t),!0)}_E(){if(this.dP()){this.Fd();return}this.extendSession()&&(this.fP(),this.pP())}pP(){this.Zo=window.csSetTimeout(()=>{this._E()},Wc-Fl)}dP(){return dT-(K.now()+Wc-this.aP)<0}Fd(){this.Zo&&(window.csClearTimeout(this.Zo),this.Zo=null)}fP(){this.Bd+=1,this.oP.trackDynamicVariable("session_expiry_update",this.Bd)}}return s})();var pT=(()=>{class s{constructor(t,e,i){this.N=t,this.C=e,this.wP=i}handle(){this.N.hasAllowSubdomainsChanged()&&(this.N.handleSubdomainChange(),this.C.handleSubdomainChange(),this.wP.handleSubdomainChange())}}return s})(),rc="_cs_inc",gT=(()=>{class s{constructor(t,e){this.Dt=t,this.I=e}isForceIncluded(){return this.AP()||this.TP()}isForceReplayRecorded(){return this.bP(W.RECORDING_GLOBAL_SAMPLING)}AP(){return this.I.get(rc)!==null}bP(t){return this.I.get(rc)===t}TP(){return csString.prototype.indexOf.call(this.Dt.href,rc)>0}}return s})(),mT=(()=>{class s{constructor(t,e,i){this.E=t,this.N=e,this._s=i}clear(){this.RP()&&(this.AE=this.N.getVisitor(),this.N.removeVisitor()),this.CP()&&this._s.removeExclusion()}RP(){return this.N.doesVisitorExist()&&this.N.getVisitor().appliedTrackingDraw!==this.E.lastTrackingDraw}CP(){return this._s.getAppliedTrackingDraw()!==this.E.lastTrackingDraw}restoreClearedVisitor(){this.AE&&this.N.setVisitor(this.AE)}}return s})(),yT=(()=>{class s{constructor(t,e,i,n,o,c,h,d){this.E=t,this.N=e,this._s=i,this.TE=n,this.IP=o,this.PP=c,this.OP=h,this.xd=d}compute(t){var e,i;this.E.crossDomainTracking&&!this.E.cookielessTrackingEnabled?this.E.crossDomainSingleIframeTracking?(e=this.OP)===null||e===void 0||e.start(()=>this.qd(t)):(i=this.PP)===null||i===void 0||i.applyUpToDate(()=>this.qd(t)):this.qd(t)}qd(t){this.IP.handle(),this.TE.clear(),this.NP()?(this.TE.restoreClearedVisitor(),t(!0)):(this._s.exclude(this.E),t(!1))}NP(){let t=ps.boolean(this.E.sampleRate);return this.xd.isForceIncluded()||!this._s.isExcluded()&&this.N.doesVisitorExist()||!this._s.isExcluded()&&t}}return s})(),yu=(()=>{class s{constructor(t,e,i,n){this.E=t,this.gt=e,this.w=i,this.C=n,this.MP=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.DP(),(t=this.C)===null||t===void 0||t.removeSession()),this.kP(e),this.setVisitor(e)}DP(){return{id:xl.generate(),visitsCount:0,appliedTrackingDraw:this.E.lastTrackingDraw,creationTimestamp:Wl(),lastVisitTimestamp:0,hitTimestamp:0,expires:K.now()+this.E.visitorCookieTimeout,allowSubdomains:this.E.allowSubdomains,identityPrint:null}}kP(t){let e=Wl();this.C&&!this.C.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.E.lastTrackingDraw,this.bE=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.gt.get()}setVisitor(t){this.gt.set(t)}doesVisitorExist(){return this.gt.get()!==null}resetVisitor(){this.RE(),this.w.emitAfterVisitorCleared()}removeVisitor(){this.gt.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.E.allowSubdomains:!1}handleSubdomainChange(){this.gt.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.bE===void 0?!1:t.visitsCount!==this.bE}xP(){return!mt(this.CE)||K.now()-this.CE>this.MP}renewVisitor(){this.xP()?(this.CE=K.now(),this.RE(),this.w.emitAfterVisitorRenewal()):Y.warn("session:start:newVisitor is trying to renew visitor under time limit")}RE(){this.w.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),hs="_cs_id",Eu=(()=>{class s{constructor(t,e,i){this.E=t,this.I=e,this.K=i}onCookieToSet(t){this.Mi=t}onCookieToRemove(t){this.Di=t}get(){let t;return this.E.cookielessTrackingEnabled?t=this.K.getItem(hs):t=this.I.get(hs),t?(fy(t)||Y.warn(`Invalid visitor string: ${t}`),uy(t)):null}set(t){var e;let i=dy(t);if(this.E.cookielessTrackingEnabled)this.K.setItem(hs,i);else{let n=new csDate(t.expires);this.I.set(hs,i,n),(e=this.Mi)===null||e===void 0||e.call(this,hs,i,n)}}remove(){var t;this.E.cookielessTrackingEnabled?this.K.removeItem(hs):(this.I.delete(hs),(t=this.Di)===null||t===void 0||t.call(this,hs))}handleSubdomainChange(){if(this.E.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.E.allowSubdomains,this.E.allowSubdomains?this.I.delete(hs,Co.CURRENT_DOMAIN):this.I.delete(hs,this.I.getRootDomain()),this.set(t))}}return s})();var ET=(()=>{class s{constructor(t,e,i,n,o,c){this.E=t,this.Ni=e,this.mr=i,this.M=n,this.w=o,this.K=c}initWithQuota(){if(!this.E.collectionEnabled){this.PE();return}let t=new aw(this.E.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.It=new lT(this.E,t,this.w),this.It.init((e,i)=>{e?this.init():this.PE(),Vw(i)&&(Ll.set(Sn.HJ_DUAL_COLLECT,!0),window.dispatchEvent(new CustomEvent(Lw)))})}OE(){this.M.schedule(()=>{var t;this.D=new Bi,this.et=new Yu(this.D),this.A=new qf(window.location,this.et),this.I=new Co(this.E,this.A,this.Ni),this.I.init(),this.pt=new hw;let e;!((t=this.E.experimental)===null||t===void 0)&&t.checkPIIMigration&&(e=new od,this.w.addListener(e)),this.S=new ad([mc.UXA],e),this.Y=new iy,this.tt=new Wf(e),this.bt=new yw(this.E,new mw(this.E,this.I,this.pt),this.w)})}PE(){this.OE(),this.M.schedule(()=>{let t=new Eu(this.E,this.I,this.K),e=new yu(this.E,t,this.w);new Bw(this.E,this.w,this.S,e,this.A,this.Y,this.D,this.tt,this.I,this.pt,this.bt).start()})}init(){Mi.isSupported()&&Mi.setDigestSalt(this.E.projectId.toString());let t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N,C,H,j,O,et,Z,lt,Vt,Kt,he,I,X,tt;this.OE();let ot=new K_;this.w.addListener(ot),this.M.schedule(()=>{v=new gT(window.location,this.I),new fw().init(),_=Nf.create(),g=new Mf(_),this.It===void 0&&(this.It=new oT(this.E,this.w,v,this.A,new _r),this.It.init())}),this.M.schedule(()=>{t=new cT(this.E,this.I,this.K),e=new fT(t,this.It,this.w,this.E.replayConsentRequiredForSession,this.E.malkaEtrEnabled),i=new Eu(this.E,this.I,this.K),n=new yu(this.E,i,this.w,e),this.mr.setContext(n,e)}),this.M.schedule(()=>{c=new pT(n,e,this.bt),h=new wy(this.E,this.I,this.K),d=new Ry(window.location,h),f=new by(d),x=new mT(this.E,n,d),Kt=new cd($s,this.E);let Mt;O=new Qu(Kt,this.E.isChild,Mt),et=new Zu(Kt),Z=new td(Kt),lt=new ed,Vt=new Ju(O,et,Z,lt),N=new sy(this.S,Vt),C=new md(this.A),H=new pd(C,this.S);let Ft=new Ay(this.E,this.I,this.K);he=new Ew(this.D,Ft),j=new RE(this.S,he);let We=new hT(n,e,d,he,this.E)}),this.M.schedule(()=>{let Mt=new yT(this.E,n,d,x,c,b,o,v);this.E.implementations&&(I=new Pf(this.E.implementations,this.S,this.M,this.E.experimental.snippets),I.init(),this.w.addListener(I)),Mt.compute(Ft=>{this.M.schedule(async()=>{var We,vs,Ys,ge;N.init();let Ye=new gw(this.E,this.S,this.bt,e,this.w),Pe=new W_(this.E,this.I,this.pt),fe=new Y_(this.w,window.location,Pe),Ct=new q_(this.S,fe),At=new $w(this.S,this.E),B=new Fw(this.et,new dp),Rr=new Yw(e,n),mi,Xs,Cr,qi=new eu(this.E,n,e,M),Wi=new eu(this.E,n,e,M,Xs);Ft?(this.w.emitInitTracking(),new nT(qi,Wi,_,n,e,Rr,B,this.w,this.S,N,this.E,Ct,fe,Ye,this.bt,this.D,Kt,this.et,this.A,At,this.Y,Vt,he,j,C,H,this.M,g,this.I,this.pt,this.K,this.It,this.tt,Cr,mi,X,tt).start()):new Ty(this.w,this.S,N,Ct,fe,f,Ye).start()})})})}}return s})(),Oi=(()=>{let s;return function(r){let t="{domain}/tag/tag.bundle.js?v={version}",e,i={loadBundle(C){let H=C.source,j=C.data;if(c(j)){let O=()=>{let et=n(t,j);v(et,()=>H.postMessage("csBundleLoaded",C.origin))};e=j.token,N(i.loadBundle),h(C.origin)&&O()}}};function n(C,H){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(C,"{version}",H.version),"{token}",H.token),"{domain}",H.domain)}function o(){return e}r.getToken=o;function c(C){return C&&C.type==="csBundleInjection"&&h(C.domain)&&f(C.version)&&d(C.token)}r.isAuthorizedIncomingMessage=c,r.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function h(C){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(C)||r.hjDomainRegex.test(C)}r.isAuthorizedDomain=h;function d(C){return/^[a-zA-Z0-9]+$/.test(C)}r.isAuthorizedToken=d;function f(C){return/^[a-zA-Z0-9\.]+$/.test(C)}r.isAuthorizedTagVersion=f;function g(){let C=window.opener||window.parent;return window!==C&&window.addEventListener}r.isActivable=g;function v(C,H){let j=document.createElement("script");j.type="text/javascript",j.async=!0,j.src=C,j.onload=H,j.charset="utf-8",document.head.appendChild(j)}r.addScript=v;function _(C){let H=document.createElement("link");H.rel="stylesheet",H.href=C,document.head.appendChild(H)}r.addStyle=_;function b(C){return`${C}?cb=${new csDate().getTime()}`}r.addCacheBusting=b;function M(){x(i.loadBundle)}r.waitForBundleInjection=M;function x(C){window.addEventListener("message",C,!1)}r.listen=x;function N(C){window.removeEventListener("message",C,!1)}r.removeListener=N}(s||(s={})),s})(),vu="_hp_ved",vT=18e5,ST="/js/ved.js",_T="/css/ved.css",wT="/js/ved.css",AT=(()=>{let s;return function(r){r.StatusUpdate="status"}(s||(s={})),s})(),TT=(()=>{let s;return function(r){r.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var nc=(()=>{let s;return function(r){let t=!1,e;function i(v){return e+v}function n(){let v=[i(_T),i(wT)];csArray.prototype.forEach.call(v,_=>{Oi.addStyle(_)})}function o(v){let _=new csRegExp("(^|;)[ ]*"+v+"=([^;]*)"),b=_.exec(document.cookie);return b?decodeURIComponent(b[2]):null}function c(v,_,b){let M=encodeURIComponent(v)+"="+encodeURIComponent(_),x=new csDate;x.setTime(x.getTime()+b);let N=M+"; expires="+x.toUTCString()+"; path=/";document.cookie=N}function h(){c(vu,"on",vT)}function d(){return o(vu)==="on"}r.isVLCookieEnabled=d;function f(v){window.heapV=Object.assign({},window.heap,{source:v==null?void 0:v.source,uri:e,loadArgs:v==null?void 0:v.data.args,identify:()=>{},track:()=>{}})}r.initializeHeapV=f;function g(v,_){var b;if(e=v,_){let M={type:AT.StatusUpdate,value:TT.ReceivedInitMessage},x={targetOrigin:_==null?void 0:_.origin};(b=_==null?void 0:_.source)===null||b===void 0||b.postMessage(M,x)}t||(t=!0,h(),f(_),window.heapV&&(Oi.addScript(i(ST)),n()))}r.init=g}(s||(s={})),s})(),bT=(()=>{let s;return function(r){let t=window.opener||window.parent,e="tag",i="https://app.contentsquare.com",n=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Oi.hjDomainRegex],o,c,h,d={initHeapVisualLabeler(O){var et;O.origin===h&&((et=O.data)===null||et===void 0?void 0:et.message)==="init"&&O.source&&(nc.init(h,O),C(d.initHeapVisualLabeler))},ping(O){typeof O.data=="string"&&O.data==="ping"&&v(O.origin)&&(c=O.origin,o=Oi.hjDomainRegex.test(O.origin)?i:O.origin,C(d.ping),N(d.insertMessageScript),_(Oi.addCacheBusting("utils.js")))},insertMessageScript:H(O=>{typeof O.data=="string"&&O.data!=="ping"&&(C(d.insertMessageScript),_(O.data))})};function f(){return Oi.getToken()}r.getToken=f;function g(){return window!==t&&window.addEventListener}r.isActivable=g;function v(O){return csArray.prototype.some.call(n,et=>et.test(O))}r.isAuthorizedDomain=v;function _(O,et){let Z=document.createElement("script");Z.type="text/javascript",Z.async=!0;let lt=o==null?void 0:csString.prototype.replace.call(o,/^https?:/,"");Z.src=`${lt}/${e}/${O}`,Z.onload=et,Z.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(Z),b(O)}function b(O){csString.prototype.includes.call(O,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(O,"&mode=")[1])}function M(){N(d.ping),Oi.waitForBundleInjection()}r.waitForConnection=M;function x(O){h=O,N(d.initHeapVisualLabeler),nc.isVLCookieEnabled()&&nc.init(h)}r.waitForHeapVisualLabeler=x;function N(O){window.addEventListener("message",O,!1)}r.listen=N;function C(O){window.removeEventListener("message",O,!1)}r.removeListener=C;function H(O){return function(et){et.origin===c&&O(et)}}r.secureListener=H;function j(O){c&&t.postMessage(O,c)}r.post=j}(s||(s={})),s})();var Qn=window.CSFrameCommunication||bT,Ep=(()=>{class s extends Io{constructor(t){super(),this.M=t;{let e=(i,n)=>{if(typeof n!="string"||!csString.prototype.startsWith.call(n,"on"))return;let o=csString.prototype.substring.call(n,2);return(...c)=>{n==="onInitialDomDone"&&(c=[]),document.dispatchEvent(new CustomEvent("cs-e2e-event",{detail:{type:"lifecycle",name:o,data:c}}))}};this.addListener(new Proxy({},{get:e}))}}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(t){for(let e of this.listeners)e.onAfterNaturalPageView&&e.onAfterNaturalPageView(t)}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.M.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.M.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(t=!1){for(let e of this.listeners)if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd(t)}catch(i){Y.error(i)}}emitBeforeArtificialPageView(t,e){for(let i of this.listeners)i.onBeforeArtificialPageView&&i.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(t=!1){for(let e of this.listeners)e.onAfterArtificialPageView&&e.onAfterArtificialPageView(t)}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let i of this.listeners)i.onCollectStateChange&&i.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}emitTargetingRulesMatched(){for(let t of this.listeners)t.onTargetingRulesMatched&&t.onTargetingRulesMatched()}}return it([le("emitStartTracking")],s.prototype,"emitStartTracking",null),s})(),RT=(()=>{class s extends Io{emitTrackingContextResultMessage(t){for(let e of this.listeners)e.onTrackingContextResultCallback&&e.onTrackingContextResultCallback(t)}emitAfterPageViewCallback(t){for(let e of this.listeners)e.onAfterPageViewCallback&&e.onAfterPageViewCallback(t)}emitIntegrationSessionKeyCallback(t){for(let e of this.listeners)e.onIntegrationSessionKeyCallback&&e.onIntegrationSessionKeyCallback(t)}emitParentRecordingContextChange(t){for(let e of this.listeners)e.onParentRecordingContextChange&&e.onParentRecordingContextChange(t)}emitParentSensitiveStatusChange(t){for(let e of this.listeners)e.onParentSensitiveStatusChange&&e.onParentSensitiveStatusChange(t)}emitStartAnalytics(){for(let t of this.listeners)t.onStartAnalytics&&t.onStartAnalytics()}emitStopAnalytics(){for(let t of this.listeners)t.onStopAnalytics&&t.onStopAnalytics()}emitStartRecording(){for(let t of this.listeners)t.onStartRecording&&t.onStartRecording()}emitStopRecording(){for(let t of this.listeners)t.onStopRecording&&t.onStopRecording()}}return s})(),vp=["trackTransaction"],CT=(()=>{class s{constructor(t){this.L=t}init(){this.L.register(gn),this.L.register(No),this.L.register(po),this.L.register(go),this.L.register(Oo),this.L.register(_c),this.L.register(Rd),this.L.register(Cd),this.L.register(Dd),this.L.register(mn),this.L.register(Ar),this.L.register(yn),this.L.register(vp),this.L.register(fp),this.L.register(pp),this.L.register(Ml),this.L.register(Of),this.L.register(gp),this.L.register(mp),this.L.register(Do),this.L.register(Tr),this.L.register(Nl),this.L.register(Df),this.L.register(kf),this.L.register(xf),this.L.register(Lf),this.L.register(ml),this.L.register(wl),this.L.register(kd),this.L.register(jc),this.L.register(Uc),this.L.register(Zw),this.L.register(Qf),this.L.register(So),this.L.register(_o),this.L.register(qc),this.L.register(Eo),this.L.register(vo),this.L.register(Gc),this.L.register(up),this.L.registerHeapLegacy(zA),this.L.registerHeapLegacy(GA),this.L.registerHeapLegacy(qA),this.L.registerHeapLegacy(BA),this.L.registerHeapLegacy(FA),this.L.registerHeapLegacy($A),this.L.register(So),this.L.register(_o),this.L.register(qc),this.L.register(Eo),this.L.register(vo),this.L.register(Gc)}onStartTracking(){this.L.start()}onOptout(){this.L.stop()}}return s})(),IT=(()=>{class s extends Xt{constructor(t,e,i){super(),this.S=t,this.O=e,this.ot=i,this.Qt=[]}onStart(){var t;this.commandsBatchReady(),(t=this.ot)===null||t===void 0||t.start()}onStop(){var t;this.Qt=[],(t=this.ot)===null||t===void 0||t.stop()}register(t){for(let e of t)this.S.register([e],(...i)=>this.send(e,i))}registerHeapLegacy(t){this.ot&&this.ot.register(t,(...e)=>this.send(t,e))}send(t,e){csArray.prototype.push.call(this.Qt,{name:t,params:e}),this.isStarted&&this.commandsBatchReady()}commandsBatchReady(){if(this.Qt.length===0)return;let t={commands:this.Qt};this.O.sendToParent(z.Commands,t),this.Qt=[]}}return it([G("Commands.iframe.commandsBatch.send")],s.prototype,"send",null),it([Fi({wait:0,mode:"trailing"}),G("send iframe commands batch")],s.prototype,"commandsBatchReady",null),s})(),PT="Buffer is full, events might be missing.",OT=(()=>{class s{constructor(t=25){this.NE=t,this.hn=[]}reset(){this.hn=[]}getMessages(){return this.hn}addMessage(t){this.hn.length<this.NE?csArray.prototype.push.call(this.hn,t):this.hn.length===this.NE&&(this.LP(t),csArray.prototype.push.call(this.hn,t))}LP(t){t.type=z.ChildLogMessage,t.content={message:PT,errorCode:"",level:Ot.warn}}}return s})(),Sp=(()=>{class s extends Xt{constructor(t){super(),this.buffer=new OT(t)}}return s})(),NT=25,MT=(()=>{class s extends Sp{constructor(t,e,i,n,o){super(NT),this.E=t,this.w=e,this.Js=i,this.ne=n,this.Ci=o,this.cs=null,this.ME={boundElement:window,type:"message",listener:c=>this.Fu(c)}}onStart(){Ut(this.ME,!1),this.VP()}onStop(){jt(this.ME,!1),this.cs&&(Pt.closeChannelPort(this.cs),this.cs=null)}sendToParent(t,e){let i=this.buildChildBaseMessage(t,e);this.va(i)}VP(){let t=this.buildChildBaseMessage(z.Discovery);Pt.sendPostMessage(window.parent,"*",t)}buildChildBaseMessage(t,e){let i=Pt.buildBaseMessage(t,ke.Child,this.E.projectId);return e&&(i.content=e),i}va(t){this.cs!==null?Pt.sendChannelMessage(this.cs,t):this.buffer.addMessage(t)}jP(t,e){let i=Pt.getNewChannelMessage();this.cs=i.port1,this.cs.onmessage=o=>{this.zu(o)};let n=this.buildChildBaseMessage(z.Discovery);n.id=e,Pt.sendPostMessage(window.parent,t,n,[i.port2]),this.sendAllMessagesFromBuffer()}zu(t){switch(t.data.type){case z.TrackingContextResultMessage:this.Ci.emitTrackingContextResultMessage(t.data.content);break;case z.IntegrationCallback:{let e=t.data.content;e.initiator===pr.AfterPageView?this.Ci.emitAfterPageViewCallback(e):e.initiator===pr.GetSessionKey?this.Ci.emitIntegrationSessionKeyCallback(e):Y.warn(`Iframe child received unknown IntegrationCallback type from parent : ${csJSON.stringify(t.data)}`);break}case z.Stop:this.w.emitOptout();break;case z.RecordingContext:{let e=t.data.content;this.Js.setRecordingContext(e),this.Ci.emitParentRecordingContextChange(e);break}case z.SensitiveStatus:{let e=t.data.content;this.ne.setSensitiveStatus(e),this.Ci.emitParentSensitiveStatusChange(e);break}default:Y.warn(`Iframe child received unknown channelMessage type from parent : ${csJSON.stringify(t.data)}`)}}Fu(t){if(this.cs===null&&Pt.isMessageValid(t,ke.Parent,this.E.projectId,this.E.hostnames))switch(t.data.type){case z.Stop:this.w.emitOptout();break;case z.Discovery:if(!fs(t.data.id)||t.data.id<0){Y.warn(`Iframe child received discovery without valid id from parent (${t.origin}) : ${csJSON.stringify(t.data)}`);return}this.jP(t.origin,t.data.id);break;default:Y.warn(`Iframe child received unknown postMessage type from parent (${t.origin}) : ${csJSON.stringify(t.data)}`)}}sendAllMessagesFromBuffer(){if(this.cs===null)return;let t=this.buffer.getMessages();for(let e of t)Pt.sendChannelMessage(this.cs,e);this.HP(),this.buffer.reset()}HP(){let t=Pt.buildBaseMessage(z.EndOfBufferedMessages,ke.Child,this.E.projectId);Pt.sendChannelMessage(this.cs,t)}}return s})(),_p=(()=>{class s{constructor(t){this.E=t}isReplayUnanonymizedAllowedByConsent(){return!this.E.consentRequired}}return s})(),DT=(()=>{class s{constructor(t){this.O=t}onStartTracking(){this.O.start()}onOptout(){this.O.stop()}}return s})(),kT=(()=>{class s{constructor(t,e,i,n,o){this.Z=t,this.yt=e,this.O=i,this.Js=n,this.ne=o}init(){this.Z.onChildMessage((t,e,i)=>this.yt.emitIframeEvent(t,e,i)),this.Z.setSentiveStatusCallback(()=>this.ne.getSensitiveStatus()),this.Z.setRecordingContextCallback(()=>this.Js.getRecordingContext())}onStartTracking(){this.Z.start()}onOptout(){this.Z.stop()}onIframeRecordingUserEvent(t){let e={events:t,containsUserEvent:!0};this.O.sendToParent(z.RecordingEvent,e)}onIframeRecordingBrowserEvent(t){let e={events:t,containsUserEvent:!1};this.O.sendToParent(z.RecordingEvent,e)}onIframeAnalysisUserEvent(t){let e={event:t,isUserEvent:!0};this.O.sendToParent(z.AnalysisEvent,e)}onIframeAnalysisBrowserEvent(t){let e={event:t,isUserEvent:!1};this.O.sendToParent(z.AnalysisEvent,e)}onIframeJavascriptError(t){this.O.sendToParent(z.JavascriptError,t)}onIframeApiError(t){this.O.sendToParent(z.ApiError,t)}onIframeDetailedApiError(t){this.O.sendToParent(z.DetailedApiError,t)}onIframeEmerchandisingMessage(t){this.O.sendToParent(z.EmerchandisingMessage,t)}onIframeCommands(t){this.O.sendToParent(z.Commands,t)}onIframeIntegrationCallback(t){this.O.sendToParent(z.IntegrationCallback,t)}onTrackingContextRequestCallback(t){this.O.sendToParent(z.TrackingContextRequestMessage,t)}onIframeStaticResource(t){this.O.sendToParent(z.StaticResource,t)}onIframeCustomError(t){this.O.sendToParent(z.CustomError,t)}onTrackingContextResultCallback(t){this.Z.sendToChildren(z.TrackingContextResultMessage,t)}onAfterPageViewCallback(t){this.Z.sendToChildren(z.IntegrationCallback,t)}onIntegrationSessionKeyCallback(t){this.Z.sendToChildren(z.IntegrationCallback,t)}onParentRecordingContextChange(t){this.Z.sendToChildren(z.RecordingContext,t)}onParentSensitiveStatusChange(t){this.Z.sendToChildren(z.SensitiveStatus,t)}}return s})(),xT=(()=>{class s{constructor(){this.BP=50*1024*1024,this.FP=30*1024*1024,this.Wd=0,this.Yd=!1,this.Yc=new Map,this.wt=[]}async getAssetContent(t){let e=this.Yc.get(t);return e||new Promise((i,n)=>{csArray.prototype.push.call(this.wt,{assetUrl:t,successCallback:i,errorCallback:n}),this.Yd||this.$P()})}async $P(){for(this.Yd=!0;this.wt.length>0;){let{assetUrl:t,successCallback:e,errorCallback:i}=csArray.prototype.shift.call(this.wt),n=this.Yc.get(t);if(n){e(n);continue}try{let c=(await this.zP("GET",t,"blob")).target;if(c.status===200){let h=c.getResponseHeader("Content-Type"),d=Number(c.getResponseHeader("Content-Length"));if(d&&Number(d)>this.FP){let g=`asset is too big, size = ${d} bytes`;i(g);continue}let f=new csFileReader;f.onload=()=>{let v={data:csString.prototype.split.call(f.result,"base64,")[1],mimeType:h!=null?h:""};this.Wd+=d,this.Wd>this.BP&&(this.Wd=0,this.Yc.clear()),this.Yc.set(t,v),e(v)},f.onerror=()=>{i("Error converting XHR response to base64")},f.readAsDataURL(c.response)}else i(`error downloading ${t}: ${c.statusText}`)}catch(o){let c=`Error downloading resource ${t}: ${o.message}`;i(c)}}this.Yd=!1}zP(t,e,i){return new Promise(function(n,o){let c=new XMLHttpRequest;c.open(t,e),c.responseType=i,c.onload=n,c.onerror=o,c.send()})}}return s})(),xe=(()=>{let s;return function(r){r[r.PAGE_VIEW=4]="PAGE_VIEW",r[r.TAP=6]="TAP",r[r.LONG_PRESS=8]="LONG_PRESS",r[r.DRAG=9]="DRAG",r[r.FLICK=10]="FLICK",r[r.DETAILED_API_ERROR=13]="DETAILED_API_ERROR",r[r.JAVASCRIPT_ERROR_SR=19]="JAVASCRIPT_ERROR_SR",r[r.CUSTOM_ERROR_SR=20]="CUSTOM_ERROR_SR",r[r.API_ERROR=21]="API_ERROR",r[r.CUSTOM_ERROR_AN=25]="CUSTOM_ERROR_AN",r[r.JAVASCRIPT_ERROR_AN=26]="JAVASCRIPT_ERROR_AN",r[r.CHANGE=100]="CHANGE",r[r.SUBMIT=101]="SUBMIT",r[r.CUSTOM_EVENT=102]="CUSTOM_EVENT"}(s||(s={})),s})(),LT=(()=>{class s{constructor(){this.ws=1}transformEvent(t){switch(t.type){case at.CUSTOM_EVENT:{let e={version:this.ws,type:xe.CUSTOM_EVENT,data:{customEventName:t.customEventName,sourceLibrary:t.sourceLibrary}};return $n(t)&&(e.data.properties=t.properties),e}case at.CHANGE:{let e={version:this.ws,type:xe.CHANGE,data:{path:t.tgt}};return $n(t)&&(e.data.properties=t.properties),Na(t)&&(e.data.hrchy=t.hrchy),e}case at.SUBMIT:{let e={version:this.ws,type:xe.SUBMIT,data:{path:t.tgt}};return $n(t)&&(e.data.properties=t.properties),Na(t)&&(e.data.hrchy=t.hrchy),ph(t)&&(e.data.text=t.text),e}case at.TAP:{let e={version:this.ws,type:xe.TAP,data:{path:t.tgt}};return $n(t)&&(e.data.properties=t.properties),Na(t)&&(e.data.hrchy=t.hrchy),ph(t)&&(e.data.text=t.text),e}case at.DRAG:{let e=t;return{version:this.ws,type:xe.DRAG,data:{path:e.tgt,direction:e.fd,distance:e.distance,velocity:e.velocity}}}case at.FLICK:{let e=t;return{version:this.ws,type:xe.FLICK,data:{path:e.tgt,direction:e.fd,distance:e.distance,velocity:e.velocity}}}default:return null}}}return s})();var VT="REMOTE_ASSET",Su="LOCAL_ASSET",UT="UNKNOWN_ASSET_TYPE",Yc="NONE",wp="ONLY_LOCAL_ASSETS",Xc="ALL",jT=(()=>{class s{constructor(t){var e,i;this.GP=t,this.Xd=new Set,this.Xc=Yc;try{let n=(i=(e=window.CSJavascriptBridge)===null||e===void 0?void 0:e.getAssetTransformerMode)===null||i===void 0?void 0:i.call(e);(n===wp||n===Xc)&&(this.Xc=n)}catch{}}setAssetProcessingMode(t){this.Xc=t}async getTransformedAssets(t,e){if(this.Xc===Yc)return t;let i=[];for(let n of t){let o=n.assetId,c=this.qP(o);if(this.Xc===Xc||c===Su){let h=o;if(this.WP(o,e)&&(h=this.YP(o,e)),this.Xd.has(h)){csArray.prototype.push.call(i,n);continue}try{let d=await this.GP.getAssetContent(o);if(this.Xd.has(h)){csArray.prototype.push.call(i,n);continue}csArray.prototype.push.call(i,{...n,retrievedAssetContent:d}),this.Xd.add(n.assetId)}catch(d){Y.error(`an error occurred while getting data for asset: ${h}: ${d}`),csArray.prototype.push.call(i,n)}}else csArray.prototype.push.call(i,n)}return i}qP(t){let e=window.WEBVIEW_SERVER_URL||null;try{let{protocol:i}=new csURL(t);return i==="file:"||e&&csString.prototype.startsWith.call(t,e)?Su:VT}catch(i){Y.error(`Error constructing URL (${t}"): ${i.message}`)}return UT}WP(t,e){return e&&ho(t)||!1}YP(t,e){return`${t}#${e}`}}return s})(),HT=(()=>{class s{constructor(t,e,i,n,o,c,h,d){this.DE=t,this.je=e,this.XP=i,this.Kc=n,this.un=o,this.w=c,this.A=h,this.Ct=d,this.Kd=!1}async emitWebviewEventToBridge(t,e){switch(t){case z.AnalysisEvent:{let i=this.XP.transformEvent(e.event);i&&bt.sendAnalysisEvent(i);break}case z.RecordingEvent:bt.sendSREvent(e);break;case z.ChildLogMessage:bt.sendLog(e);break;case z.Commands:Y.tryToExecute(`SDKMessageUtils.sendMessage.sendCommandMessage: ${e}`,()=>{this.KP(e)})();break;case z.Assets:{let{assets:i,serializationId:n}=e,o=await this.un.getTransformedAssets(i,n);bt.sendAssets(o,n);break}case z.JavascriptError:{let i=this.Kc.transformEvent(z.JavascriptError,e);i&&(this.Kd&&bt.sendNativeSREvent({...i,type:xe.JAVASCRIPT_ERROR_SR}),bt.sendAnalysisEvent({...i,type:xe.JAVASCRIPT_ERROR_AN}));break}case z.ApiError:{let i=this.Kc.transformEvent(z.ApiError,e);i&&(bt.sendAnalysisEvent({...i,type:xe.API_ERROR}),rt.counters.networkRequests.count("collected"));break}case z.DetailedApiError:{let i=this.Kc.transformEvent(z.DetailedApiError,e);i&&(bt.sendNativeSREvent({...i,type:xe.DETAILED_API_ERROR}),rt.counters.networkRequests.count("collected"));break}default:break}}setSessionReplayStatus(t){this.Kd=t}KP(t){let e=t.commands;for(let i of e)switch(!0){case csArray.prototype.indexOf.call(Of,i.name)>=0:bt.sendOptIn();break;case csArray.prototype.indexOf.call(Ml,i.name)>=0:this.w.emitOptout(),bt.sendOptOut();break;case csArray.prototype.indexOf.call(gn,i.name)>=0:this.JP(i);break;case csArray.prototype.indexOf.call(Oo,i.name)>=0:this.QP(i);break;case csArray.prototype.indexOf.call(mn,i.name)>=0:this.kE(i);break;case csArray.prototype.indexOf.call(Ar,i.name)>=0:break;case csArray.prototype.indexOf.call(yn,i.name)>=0:this.wa();break;case csArray.prototype.indexOf.call(vp,i.name)>=0:this.kE(i),this.wa();break;case csArray.prototype.indexOf.call(Td,i.name)>=0:this.Ct.addUrlMaskingPattern(i.params[0]);break;case csArray.prototype.indexOf.call(wl,i.name)>=0:this.Ct.addPartialUrlMaskingPattern(i.params[0]);break;case csArray.prototype.indexOf.call(kd,i.name)>=0:this.Ct.resetPartialUrlMaskingPatterns();break;case csArray.prototype.indexOf.call(Od,i.name)>=0:this.ZP(i);break;case csArray.prototype.indexOf.call(Uc,i.name)>=0:this.tO(i);break;case csArray.prototype.indexOf.call(Qf,i.name)>=0:this.eO();break;case csArray.prototype.indexOf.call(jc,i.name)>=0:this.sO(i);break;case csArray.prototype.indexOf.call(So,i.name)>=0:this.iO(i);break;case csArray.prototype.indexOf.call(_o,i.name)>=0:this.rO(i);break;case csArray.prototype.indexOf.call(qc,i.name)>=0:this.nO();break;case csArray.prototype.indexOf.call(Eo,i.name)>=0:this.oO(i);break;case csArray.prototype.indexOf.call(vo,i.name)>=0:this.aO(i);break;case csArray.prototype.indexOf.call(Gc,i.name)>=0:this.cO();break;default:Y.warn(`WebviewBridgeEventEmitter received an unknown command: ${csJSON.stringify(i)}`);break}}tO(t){if(t.params.length<1||t.params.length>2)return;let e=t.params[0],i=t.params[1];if(!su.isValidIdentity(e))throw new Ht(Uc[0]);let n=su.parseIdentityOptionsHash(i);bt.identify(e.toString(),{hash:n})}eO(){bt.resetIdentity()}sO(t){if(t.params.length!==1)return;let e=t.params[0];if(!iu.isValidProperties(e))throw new Ht(jc[0]);let i=iu.sanitizeProperties(e);bt.addUserProperties(i)}iO(t){if(t.params.length!==1)return;let e=t.params[0];if(!ut(e))throw new Ht(So[0]);let i=cn.sanitizeCustomEventProperties(e);i&&bt.addEventProperties(i)}rO(t){if(t.params.length!==1)return;let e=t.params[0];if(!e||!U(e))throw new Ht(_o[0]);bt.removeEventProperty(e)}nO(){bt.clearEventProperties()}oO(t){if(t.params.length!==1)return;let e=t.params[0];if(!ut(e))throw new Ht(Eo[0]);let i=cn.sanitizeCustomEventProperties(e);i&&bt.addPageviewProperties(i)}aO(t){if(t.params.length!==1)return;let e=t.params[0];if(!e||!U(e))throw new Ht(vo[0]);bt.removePageviewProperty(e)}cO(){bt.clearPageviewProperties()}JP(t){if(t.params.length!==1)return;let e=t.params[0];if(!(!qe(e)||!("key"in e)||!("value"in e))&&Kr.isKeyValid(e.key)&&Kr.isValueValid(e.value)){let i=this.DE.anonymizePII(e.key),n=fs(e.value)?e.value:this.DE.anonymizePII(e.value);bt.sendDynamicVariable(i,n)}}QP(t){if(t.params.length!==1)return;let e=t.params[0];if(U(e)){let i={type:xe.PAGE_VIEW,version:1,data:{url:e}};this.A.overridePath(e),this.w.emitArtificialPageViewEnd(),bt.sendAnalysisEvent(i),this.w.emitAfterArtificialPageView()}}kE(t){if(t.params.length!==1)return;let[e]=t.params;e.value&&(e.revenue=e.value),this.je.addTransaction(e)}wa(){let t=this.je.getTransaction();wc.isValid(t)&&(bt.sendTransaction(t.id?t.id:null,t.revenue,t.currency?t.currency:""),this.je.clear())}ZP(t){if(t.params.length<1)return;let e=t.params[0],i=t.params[1]||{};if(!(U(e)&&qe(i)))return;let n=NA.buildCustomErrorEvent(e,i),o=this.Kc.transformEvent(z.CustomError,n);o&&(this.Kd&&bt.sendNativeSREvent({...o,type:xe.CUSTOM_ERROR_SR}),bt.sendAnalysisEvent({...o,type:xe.CUSTOM_ERROR_AN}))}}return s})(),BT=(()=>{class s{constructor(t,e,i,n){this.A=t,this.Qe=e,this.Ue=i,this.Qr=n,this.ws=1}transformEvent(t,e){switch(t){case z.ApiError:case z.DetailedApiError:{let i=this.Ue.anonymize(e);return{version:this.ws,data:i}}case z.JavascriptError:{let i={...e,pageUrl:this.A.getAnonymizedUrl()},n=this.Qe.anonymize(i);return{version:this.ws,data:{...n,date:K.now()}}}case z.CustomError:{let i=e;return i.message=this.Qr.anonymize(i.message),{version:this.ws,data:{...i,date:K.now()}}}default:return null}}}return s})(),FT=(()=>{class s{constructor(t,e){this.Ii=t,this.xE=e}init(){this.Ii.onWebViewEvent((t,e)=>{this.xE.emitWebviewEventToBridge(t,e)})}onStartTracking(){this.Ii.start()}onOptout(){this.Ii.stop()}onStartAnalytics(){this.Ii.setAnalyticsStatus(!0)}onStopAnalytics(){this.Ii.setAnalyticsStatus(!1)}onParentRecordingContextChange(t){this.xE.setSessionReplayStatus(t.isRecording)}}return s})(),$T=(()=>{class s extends Xt{constructor(t,e,i,n,o,c,h,d){super(),this.Ti=t,this.zt=e,this.O=i,this.Bs=n,this.Fs=o,this.tr=c,this.er=h,this.ir=d,this.rr=[]}init(){var t,e,i,n,o;this.Ti.onEvent(c=>this.Ut(c)),this.zt.onEvent(c=>this.Ut(c)),(t=this.Bs)===null||t===void 0||t.onEvent(c=>this.Ut(c)),(e=this.Fs)===null||e===void 0||e.onEvent(c=>this.Ut(c)),(i=this.tr)===null||i===void 0||i.onEvent(c=>this.Ut(c)),(n=this.er)===null||n===void 0||n.onEvent(c=>this.we(c)),(o=this.ir)===null||o===void 0||o.onEvent(c=>this.we(c))}onStart(){var t,e,i,n,o;this.Ti.start(),this.zt.start(),(t=this.Bs)===null||t===void 0||t.start(),(e=this.Fs)===null||e===void 0||e.start(),(i=this.tr)===null||i===void 0||i.start(),(n=this.er)===null||n===void 0||n.start(),(o=this.ir)===null||o===void 0||o.start(),csArray.prototype.forEach.call(this.rr,c=>{this.we(c)}),this.rr=[]}onStop(){var t,e,i,n,o;this.Ti.stop(),this.zt.stop(),(t=this.Bs)===null||t===void 0||t.stop(),(e=this.Fs)===null||e===void 0||e.stop(),(i=this.tr)===null||i===void 0||i.stop(),(n=this.er)===null||n===void 0||n.stop(),(o=this.ir)===null||o===void 0||o.stop()}Ut(t){let e={isUserEvent:!0,event:t};this.Q(e)}we(t){let e={isUserEvent:!1,event:t};this.Q(e)}Q(t){!this.isStarted||t.event.type===at.RESIZE||this.O.sendToParent(z.AnalysisEvent,t)}pushCustomEvent(t,e,i){if(!(U(t)&&!wo(t))||i!==void 0&&!ut(i))throw new Ht(yr[0]);let n=cn.buildCustomEvent(t,e,i);this.isStarted?this.we(n):csArray.prototype.push.call(this.rr,n)}}return s})(),zT=["webview:analytics:start"],GT=["webview:analytics:stop"],qT=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g){this.E=t,this.it=e,this.qt=i,this.O=n,this.vt=o,this.mt=c,this.S=h,this.zt=d,this.$t=f,this.ot=g}init(){let t,e,i=sp(this.E,this.it,this.$t),n=[];this.E.collectSubmit||csArray.prototype.push.call(n,"submit");let o=new rp(i,this.it,this.qt,n),c=this.vt.isInWebViewContext()?{collectGestureVelocity:!0,collectGestureDistance:!0}:{collectGestureVelocity:!1,collectGestureDistance:!1},h=ip(this.E,this.it,this.$t),d=new np(h,this.zt,c),f,g,v;this.fr=new $T(o,d,this.O,t,e,g,v,f),this.fr.init(),this.vt.isInWebViewContext()&&this.lO(),this.S.register(yr,_=>{if(!ut(_))throw new Ht(yr[0]);this.fr.pushCustomEvent(_.name,_.source,_.properties)}),this.ot&&this.ot.register(bA,(_,b,M)=>{let x=cn.handleCustomEventCommandMisuse(_,M);this.fr.pushCustomEvent(_,x,b)})}onStartTracking(){this.fr.start()}onOptout(){this.fr.stop()}onStartAnalytics(){this.fr.start()}onStopAnalytics(){this.fr.stop()}lO(){this.S.register(zT,()=>this.mt.emitStartAnalytics(),{disableApplyPending:!0}),this.S.register(GT,()=>{this.mt.emitStopRecording(),this.mt.emitStopAnalytics()},{disableApplyPending:!0})}}return s})();var Ap=(()=>{class s{constructor(t){this.commandsService=t,this.mo=new bf}registerChildCommands(){this.commandsService.register(Cf,t=>this.mo.handleCommand(t,this.dn))}onParentRecordingContextChange(t){this.dn={isRecording:t.isRecording,recordingStartTimestamp:t.recordingStartTimestamp||0,etrState:t.etrState||Ve.ETR_OFF},this.mo.executeCallbacks(this.dn)}}return it([Fi({wait:0,mode:"trailing"})],s.prototype,"onParentRecordingContextChange",null),s})(),WT=(()=>{class s{constructor(t){this.O=t,this.he={}}handleCommand(t){Ce(t)&&this.po(t)}executeRegisteredCallbacks(t){let e=t.trackingContext;if(e)if(t.callbackId){let i=this.he[t.callbackId];i&&this.Ft(i,e)}else for(let i in this.he)this.Ft(this.he[i],e)}po(t){let e=ps.integer(),i={callbackId:e,initiator:pr.AfterPageView};this.he[e]=t,this.O.sendToParent(z.IntegrationCallback,i)}Ft(t,e){csSetTimeout(()=>{t(e)})}}return s})(),YT=(()=>{class s{constructor(t){this.O=t,this.Ki={}}handleCommand(t){qe(t)&&Ce(t.callback)&&this.go(t.callback)}executePendingCallbacks(t){let{trackingContext:e,callbackId:i}=t;if(!i||!e)return;let n=this.Ki[i];n&&(delete this.Ki[i],this.Ft(n,e.sessionKey))}go(t){let e=ps.integer(),i={callbackId:e,initiator:pr.GetSessionKey};this.Ki[e]=t,this.O.sendToParent(z.IntegrationCallback,i)}Ft(t,e){csSetTimeout(()=>{t(e)})}}return s})(),XT=(()=>{class s{constructor(t,e){this.O=t,this.Z=e,this.Qc={}}handleCommand(t,e){qe(t)&&Ce(e)&&this.go(t,e)}executePendingCommand(t){let{trackingContext:e,callbackId:i}=t;if(!(!i||!e))if(this.Qc[i]){let[n,o]=this.Qc[i];n&&(delete this.Qc[i],this.Ft(e,n,o))}else this.Z.sendToChildren(z.TrackingContextResultMessage,t)}go(t,e){let i=ps.integer();this.Qc[i]=[t,e],this.O.sendToParent(z.TrackingContextRequestMessage,{callbackId:i})}Ft(t,e,i){csSetTimeout(()=>{let n=Tf(t,e);i(n)})}}return s})(),KT=(()=>{class s extends Ap{constructor(t,e,i){super(t),this.commandsService=t,this.O=e,this.Z=i}init(){this.LE=new WT(this.O),this.VE=new YT(this.O),this.UE=new XT(this.O,this.Z),this.ft()}onAfterPageViewCallback(t){this.LE.executeRegisteredCallbacks(t)}onIntegrationSessionKeyCallback(t){this.VE.executePendingCallbacks(t)}onTrackingContextResultCallback(t){this.UE.executePendingCommand(t)}ft(){super.registerChildCommands(),this.commandsService.register(Lo,t=>{this.LE.handleCommand(t)}),this.commandsService.register(Rf,t=>this.VE.handleCommand(t)),this.commandsService.register(If,(t,e)=>{this.UE.handleCommand(t,e)})}}return s})();function JT(s,r){let t=Tl({...r,async:!1}),e;return t(s,i=>e=i),e}var Kc=(()=>{class s{static isWebViewLocalAssetsSupported(){return"URL"in window}}return s})(),QT=(()=>{class s{constructor(t,e){this.O=t,this.Jd=e,this.jE=new vf({maskingEnabled:!1})}fO(){let t=new Set;Re(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{t.has(i)||(this.jE.scanElement(i),t.add(i))})}handleCommand(t){let e=t&&t.withAssets,i=[],n=new Set,o=new Set,c=[];e&&Kc.isWebViewLocalAssetsSupported()?(this.jE.onScannedAsset(({type:f,asset:g})=>{f==="stylesheet"&&!o.has(g.assetId)&&(o.add(g.assetId),csArray.prototype.push.call(c,g)),n.has(g.assetId)||(n.add(g.assetId),csArray.prototype.push.call(i,g))}),this.fO()):Kc.isWebViewLocalAssetsSupported()||Y.warn("Local asset is not supported on this browser");let h=ZT(),d=csJSON.stringify(h);if(e){let f=xl.generate();return this.pO(i,c,f),csJSON.stringify({serializedDom:d,serializationId:f})}return d}pO(t,e,i){e.length===0?this.sa(t,i):this.gO(t,e,i,(n,o)=>this.sa(n,o))}gO(t,e,i,n){let o=0,c=0,h=new Set(csArray.prototype.map.call(t,_=>_.assetId)),d=_=>!h.has(_),f=_=>{h.has(_.assetId)||(h.add(_.assetId),csArray.prototype.push.call(e,_),csArray.prototype.push.call(t,_))},g=_=>{for(let b of _)h.has(b.assetId)||(h.add(b.assetId),csArray.prototype.push.call(t,b));o++,o+c===e.length&&n(t,i)},v=_=>{c++,Y.error("An error occurred while fetching a styleSheet: "+_),o+c===e.length&&n(t,i)};csArray.prototype.forEach.call(e,_=>{this.Jd.getStyleSheetAssets(_.assetId,g,v,d,f)})}sa(t,e){this.O.sendToParent(z.Assets,{assets:t,serializationId:e})}}return s})();function ZT(){return Bf(),Hf(JT(document))}function tb(s){var r=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return s.replace(r,function(t,e,i,n){if(e==="\\")return t.slice(1);if(n)return n;var o=parseInt(i,16),c=55296<=o&&o<=57343;return c||o===0||o>1114111?"\uFFFD":String.fromCodePoint(o)})}var eb=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function sb(s,r){var t=s.replace(eb,function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[3]||e[4],o=e[9]||e[10]||e[11],c=tb((n||o).trim()),h=n?"@import ":"",d=r(c)||c;return h+"url("+ib(d)+")"});return t}function ib(s){return s.indexOf('"')===-1?'"'+s+'"':s.indexOf("'")===-1?"'"+s+"'":s}function rb(s){var r=[];return sb(s,function(t){return r.push(t),t}),r}var Tp=(()=>{class s{constructor(t){this.mO=t}getStyleSheetAssets(t,e,i,n,o){let c=[];if(!ho(t)){i(`Not a recognized valid css file path ${t}`);return}let h=(d,f)=>{let g=this.yO(d,f);csArray.prototype.forEach.call(g,v=>{csArray.prototype.push.call(c,v),ho(v.assetId)&&n(v.assetId)&&(o==null||o(v),this.getStyleSheetAssets(v.assetId,e,i,n,o))}),e(c)};this.mO.getResourceContentText(t,h,i)}yO(t,e){return this.EO(t,rb(e))}EO(t,e){return csArray.prototype.map.call(csArray.prototype.filter.call(csArray.prototype.filter.call(e,i=>!ss(i)),i=>!Gu(i)),i=>({assetId:Hu(i,t),assetBasePath:t,assetRawPath:i}))}}return s})(),bp=(()=>{class s{getResourceContentText(t,e,i){let n=c=>{e(t,c.responseText)},o=this.vO(n,i);o.open("GET",t),o.send()}vO(t,e){let i=new XMLHttpRequest;return i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(i.status===200?t(i):e(i.statusText))},i}}return s})(),nb=(()=>{class s{constructor(t){this.E=t,this.Qd=null}isSdkTrackingContext(t){return Nt(t)&&qe(t)&&U(t.sessionKey)&&fs(t.pageNumber)&&U(t.pageViewType)&&en(t.isRecording)}update(t){if(!this.isSdkTrackingContext(t)){Y.warn(`webViewTrackingContext.service received wrong sdkTrackingContext, content:${csJSON.stringify(t)}`),this.Qd=null;return}this.Qd={...t,recordingConsentState:Wr.NOT_NEEDED,projectId:this.E.projectId,uxaDomain:this.E.uxaDomain,...this.E.smbConfig}}getTrackingContext(){return this.Qd}}return s})(),ob=(()=>{class s{constructor(t){this.Pi=t,this.he=[]}handleCommand(t){if(!Ce(t))return;this.po(t);let e=this.Pi.getTrackingContext();e!==null&&this.Ft(t,e)}executeRegisteredCallbacks(t){let e=t.trackingContext;e&&csArray.prototype.map.call(this.he,i=>this.Ft(i,e))}po(t){csArray.prototype.push.call(this.he,t)}Ft(t,e){csSetTimeout(()=>{t(e)})}}return s})(),ab=(()=>{class s{constructor(t,e){this.Z=t,this.Pi=e}onIframeIntegrationCallback(t){let e=this.Pi.getTrackingContext();e!==null&&(t.trackingContext=e,this.Z.sendToChildren(z.IntegrationCallback,t))}}return s})(),cb=["serializeWebView","webview:serializeWebView"],lb=["setAssetTransformerMode","webview:setAssetTransformerMode"],hb=["webview:onAfterScreenView"],ub=(()=>{class s extends Ap{constructor(t,e,i,n,o,c,h){super(t),this.commandsService=t,this.O=e,this.Z=i,this.un=n,this.SO=o,this.yt=c,this.E=h}init(){this.Pi=new nb(this.E),this._O=new ab(this.Z,this.Pi),this.yt.addListener(this._O),this.HE=new ob(this.Pi);let t=new Tp(new bp);this.wO=new QT(this.O,t),this.ft()}onAfterPageViewCallback(t){this.HE.executeRegisteredCallbacks(t)}ft(){super.registerChildCommands(),this.commandsService.register(Lo,t=>{this.HE.handleCommand(t)}),this.commandsService.register(hb,t=>{this.Pi.update(t);let e=this.Pi.getTrackingContext();e!==null&&this.SO.emitAfterPageViewCallback({initiator:pr.AfterPageView,trackingContext:e})}),this.commandsService.register(cb,t=>this.wO.handleCommand(t)),this.commandsService.register(lb,t=>{(t===Yc||t===wp||t===Xc)&&this.un.setAssetProcessingMode(t)})}}return s})(),db=(()=>{class s extends Xt{constructor(t,e,i,n,o=[],c){super(),this.E=t,this.ut=e,this.O=i,this.Fe=n,this.Be=o,this.$e=c,this.Zd=!1,this.$i=!1,this.yi=new Ol,this.z=[],this.Zc=!1,this.Vs=h=>this.we(h),this.io=h=>this.Ut(h)}init(){this.iu()}iu(){var t;this.Fe.onEvent(this.Vs,this.io),(t=this.ut)===null||t===void 0||t.onInputNodeToEncrypt(this.io)}setEnableOnlineAssets(t){this.Zd=t!=null?t:!1}setOnlineAssetsEnabledOnNextStart(t){this.$i=t}getStaticResourceManagerStatus(){return this.$e?{supported:qd.isSupported(),onlineAssets:{activated:this.Zd,enableOnNextStart:this.$i}}:null}we(t){this.AO(t),this.tl()}Ut(t){this.BE(t),this.tl()}BE(t){csArray.prototype.push.call(this.z,t),this.Zc=!0}AO(t){csArray.prototype.push.call(this.z,t)}tl(){dt(this.Be,e=>{var i;return(i=e.flushEvents)===null||i===void 0?void 0:i.call(e)});let t={containsUserEvent:this.Zc,events:this.z};this.O.sendToParent(z.RecordingEvent,t),this.z=[],this.Zc=!1}onStart(){this.$e&&this.Zd&&this.$e.enableOnlineAssets(),this.Fe.start(),this.E.emitDebugEvents&&this.yi.emit("replayRecordingStarted"),dt(this.Be,t=>{t.start&&t.start()})}onStop(){var t;this.Fe.stop(),(t=this.$e)===null||t===void 0||t.disableOnlineAssets(),dt(this.Be,e=>{e.stop&&e.stop()})}addInitialDom(t){for(let e=0;e<this.z.length;e+=1)if(this.z[e].date>=t.date){csArray.prototype.splice.call(this.z,e,0,t),this.Zc=!0,this.tl();return}this.BE(t),this.tl()}}return s})();var fb=["webview:replay:start"],pb=["webview:replay:stop"],gb=(()=>{class s{constructor(t,e,i,n,o,c,h,d){this.E=t,this.mt=e,this.FE=i,this.Ii=n,this.Jd=o,this.S=c,this.A=h,this.ne=d,this.tf=!1}init(){let t=new _p(this.E),e=new _r;if(this.Xt=new md(this.A),new pd(this.Xt,this.S).init(),this.nt=new Vo(this.E,this.A,e,t),this.nt.init(),Kc.isWebViewLocalAssetsSupported()){let n=f=>{this.sa(f)},o=f=>Y.error("An error occurred while fetching a styleSheet: "+f),c=new Set,h=f=>!c.has(f),d=f=>{c.add(f.assetId),this.sa([f])};this.FE.onAsset(f=>{this.TO(f)}),this.FE.onStyleSheetFound(f=>{this.Jd.getStyleSheetAssets(f.assetId,n,o,h,d)})}this.bO()}onStartRecording(){if(this.tf=!0,!this.Xt.isUrlExcludedForSessionReplay()){let t=this.ne.getSensitiveStatus();this.mt.emitParentRecordingContextChange({isRecording:!0,useAnonymization:t.useAnonymization})}}onStopRecording(){this.tf=!1,this.mt.emitParentRecordingContextChange({isRecording:!1})}onArtificialPageViewEnd(){this.mt.emitParentRecordingContextChange({isRecording:!1})}onAfterArtificialPageView(){if(this.B()&&!this.Xt.isUrlExcludedForSessionReplay()){let t=this.ne.getSensitiveStatus();this.mt.emitParentRecordingContextChange({isRecording:!0,useAnonymization:t.useAnonymization})}}B(){return this.tf}bO(){this.S.register(fb,()=>{this.mt.emitStartAnalytics(),this.mt.emitStartRecording()},{disableApplyPending:!0}),this.S.register(pb,()=>this.mt.emitStopRecording(),{disableApplyPending:!0})}TO(t){this.Ii.sendToParent(z.Assets,{assets:[t]})}sa(t){t.length!==0&&this.Ii.sendToParent(z.Assets,{assets:t})}}return s})(),mb=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g,v,_,b){this.E=t,this.D=e,this.ve=i,this.w=n,this.O=o,this.Js=c,this.S=h,this.Ci=d,this.vt=f,this.A=g,this.ne=v,this.et=_,this.ut=b}init(){var t;let e=[],i=this.Js.getRecordingContext();this.ho=new Gd(!!i.useAnonymization,this.E.whitelistedAttributes,this.D,this.E.anonymizeDigits);let n=[];csArray.prototype.push.call(n,new Fd),csArray.prototype.push.call(n,new Kd);let o=new _f;csArray.prototype.push.call(e,o),this.vt.isInWebViewContext(),csArray.prototype.push.call(n,this.ho),csArray.prototype.push.call(n,new Xd(this.et)),this.Xi=new Ef,this.Xi.init(),csArray.prototype.push.call(e,this.Xi),csArray.prototype.push.call(e,new yf(window.location,this.D));let c=!1,h=[this.ve,c?new Jd:new Bd,new pf(csArray.prototype.filter.call(e,g=>g)),...c?[]:[new rf,new ef(this.ut,(t=this.E.experimental)===null||t===void 0?void 0:t.trackedCustomInputProperties)],new nf,new cf],d=new uf(h,n),f=new ff(d,this.w,this.ks);if(this.Oi=new db(this.E,this.ut,this.O,f,e,this.$e),this.S.register(wf,()=>this.Js.getRecordingContext().isRecording),this.S.register(Af,()=>this.Oi.getStaticResourceManagerStatus()),this.Oi.init(),this.vt.isInWebViewContext()){let g=new Tp(new bp);this.ef=new gb(this.E,this.Ci,o,this.O,g,this.S,this.A,this.ne),this.Ci.addListener(this.ef),this.w.addListener(this.ef),this.ef.init()}}onParentRecordingContextChange(t){var e,i;t.useAnonymization!==void 0&&this.Yi(t.useAnonymization),t.enableOnlineResourcesOnNextPageview!==void 0&&this.Oi.setOnlineAssetsEnabledOnNextStart(t.enableOnlineResourcesOnNextPageview),t.isRecording?(this.yu(),this.Oi.setEnableOnlineAssets(t.enableOnlineResources),this.Oi.start(),(e=this.RO)===null||e===void 0||e.start()):(this.Oi.stop(),(i=this.RO)===null||i===void 0||i.stop())}onInitialDomStart(){}onInitialDomDone(t){this.Xi.start(),this.Oi.addInitialDom(t)}Yi(t){var e;this.ho.setAnonymization(t),(e=this.UT)===null||e===void 0||e.setAnonymization(t)}onOptout(){this.Oi.stop()}yu(){var t,e,i,n,o,c;if(!((i=(e=(t=this.E.experimental)===null||t===void 0?void 0:t.sessionReplay)===null||e===void 0?void 0:e.shadowRoot)===null||i===void 0)&&i.filterByHostSelector){let h=(c=(o=(n=this.E.experimental)===null||n===void 0?void 0:n.sessionReplay)===null||o===void 0?void 0:o.shadowRoot)===null||c===void 0?void 0:c.filterByHostSelector;dt(h,d=>{de(d)&&as.setShadowRootFilter(f=>{try{return Ie.call(f.host,d)}catch{return!1}})})}}}return s})(),yb=(()=>{class s{constructor(t,e,i,n,o,c,h){this.S=t,this.tt=e,this.ve=i,this.Jt=n,this.ut=o,this.ia=c,this.an=h}init(){var t,e;this.ia&&this.ut&&((t=this.ia)===null||t===void 0||t.addSelector((e=this.ut)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ft(),this.Kt=new Bl(this.ve,this.tt,this.Jt,this.ia,this.an)}Ur(){this.Kt.start()}eu(){this.Kt.stop()}onParentSensitiveStatusChange(t){var e,i;t.maskedElementSettings&&this.tt.setMaskedElementSettingsFromParent(t.maskedElementSettings),t.capturedElementSelector&&this.Jt.setWhitelistedElementsSelector(t.capturedElementSelector,!1),t.encryptionSelectors&&((e=this.ia)===null||e===void 0||e.addSelector(t.encryptionSelectors),(i=this.ut)===null||i===void 0||i.setEncryptionSelectors(t.encryptionSelectors,!1)),t.started?this.Ur():this.eu()}ft(){this.S.register(Mo,t=>{this.Jt.setWhitelistedElementsSelector(t)}),this.S.register(wr,t=>{this.tt.setMaskedElementSettingsFromCommand(t)}),this.S.register(_l,t=>{var e,i;(e=this.ut)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.ia)===null||i===void 0||i.addSelector(t)})}}return s})(),Eb=(()=>{class s{constructor(t,e,i,n,o,c,h,d){this.w=t,this.S=e,this.tt=i,this.ve=n,this.nt=o,this.Jt=c,this.ne=h,this.an=d,this.Kt=new Bl(this.ve,this.tt,this.Jt,void 0,this.an,this.nt)}init(){this.nt.init(),this.ft()}onStartAnalytics(){this.ln()}onAfterArtificialPageView(){this.$E(),this.ln()}onStopAnalytics(){this.$E()}ln(){this.Kt.start(),this.ne.setSensitiveStatus({started:!0,useAnonymization:this.nt.shouldUseAnonymization()}),this.w.emitSensitiveStatusChange()}$E(){this.Kt.stop(),this.ne.setSensitiveStatus({started:!1,useAnonymization:this.nt.shouldUseAnonymization()}),this.w.emitSensitiveStatusChange()}ft(){this.S.register(Mo,t=>{this.Jt.setWhitelistedElementsSelector(t),this.w.emitSensitiveStatusChange()}),this.S.register(wr,t=>{this.tt.setMaskedElementSettingsFromCommand(t),this.w.emitSensitiveStatusChange()})}}return s})(),vb=(()=>{class s{constructor(t,e,i,n,o,c,h,d,f,g){this.mt=t,this.w=e,this.E=i,this.O=n,this.Js=o,this.S=c,this.vt=h,this.M=d,this.ne=f,this.sf=g,this.Yo=()=>{var v;this.S.start(),(v=this.ot)===null||v===void 0||v.start(),this.zE.start()}}start(){let t,e,i,n,o,c,h,d,f,g,v,_,b,M,x,N;this.M.schedule(()=>{if(this.sf&&this.mt.addListener(this.sf),o=new Wf(this.sf),c=new Dl(()=>{}),b=new kl,N=new Yf,this.vt.isInIframeContext()){let C=new yb(this.S,o,c,b,M,x,N);C.init(),this.mt.addListener(C)}if(i=new Bi,g=new Yu(i),v=new qf(window.location,g),this.vt.isInWebViewContext()){let C=new _p(this.E),H=new _r,j=new Vo(this.E,v,H,C),O=new Eb(this.w,this.S,o,c,j,b,this.ne);O.init(),this.mt.addListener(O),this.w.addListener(O)}}),this.M.schedule(()=>{t=new cd($s,this.E),e=new Jf(t),n=new qT(this.E,t,e,this.O,this.vt,this.mt,this.S,new Xf(Y),this.ne,this.ot),this.mt.addListener(n)}),Er.isRecordingSupported()&&this.M.schedule(()=>{let C=new mb(this.E,i,c,this.w,this.O,this.Js,this.S,this.mt,this.vt,v,this.ne,g,M);this.w.addListener(C),this.mt.addListener(C),C.init()}),this.M.schedule(()=>{f=new Kf(this.E);let C=new Qu(t,this.E.isChild),H=new Zu(t),j=new td(t),O=new ed;d=new Ju(C,H,j,O),h=new kT(f,d,this.O,this.Js,this.ne)}),this.M.schedule(()=>{d.addListener(h),this.mt.addListener(h),this.w.addListener(h),this.w.addListener(n)}),this.M.schedule(()=>{let C;if(this.vt.isInWebViewContext()){let H=new xT;this.un=new jT(H),C=new ub(this.S,this.O,f,this.un,this.mt,d,this.E)}else C=new KT(this.S,this.O,f);this.mt.addListener(C),C.init()}),this.M.schedule(()=>{h.init(),n.init()}),this.M.schedule(()=>{var C,H,j,O;if(this.vt.isInWebViewContext()){let et=new LT,Z=new UA(i,v),lt=new dp,Vt=new OA(lt,g,!!(!((H=(C=this.E)===null||C===void 0?void 0:C.experimental)===null||H===void 0)&&H.anonymizeNameInUrls)),Kt=new LA(i,!((O=(j=this.E)===null||j===void 0?void 0:j.experimental)===null||O===void 0)&&O.anonymizeNameInUrls?g:void 0),he=new BT(v,Z,Vt,Kt),I=new HT(i,new Md(i,null,null),et,he,this.un,this.w,v,lt),X=new FT(this.O,I);X.init(),this.w.addListener(X),this.mt.addListener(X)}else{let et=new DT(this.O);this.w.addListener(et)}}),this.zE=new zf,this.M.schedule(()=>{this.zE.onLoad(()=>{this.w.emitStartTracking()}),this.Yo()})}}return s})();var Sb=(()=>{class s{constructor(){this.dn=null}getRecordingContext(){return this.dn===null?{isRecording:!1}:this.dn}setRecordingContext(t){this.dn=t}}return s})(),_b=(()=>{class s{constructor(t){this.Dn=t,this.En={started:!1,useAnonymization:!0},this.kn=Ro(this.Dn)}getSensitiveStatus(){return this.En}setSensitiveStatus(t){this.En=t}getElementSensitiveStatus(t){return this.En.started?$.isMaskedElement(t)||$.isMaskedElementChild(t)?kt.MASKED:zd.shouldEncrypt(t)?kt.ENCRYPTED:Hs.isEditableNode(t)?kt.ANONYMIZED:this.En.useAnonymization?$e.isWhitelistedElement(t)?kt.CAPTURED:kt.ANONYMIZED:kt.CAPTURED:kt.ANONYMIZED}getAttributeSensitiveStatus(t,e){return this.En.started?$.isMaskedAttribute(t,e)?kt.MASKED:this.En.useAnonymization?ji(t)||$e.isWhitelistedElement(t)||this.kn.has(e)?kt.CAPTURED:kt.ANONYMIZED:kt.CAPTURED:kt.ANONYMIZED}}return s})(),wb=2500,Ab=500,Tb=(()=>{class s extends Sp{constructor(t,e,i=Ab){super(wb),this.mt=t,this.E=e,this.CO=i,this.pr=!1,this.rl=void 0,this.of=!0}onStart(){this.IO()}onStop(){this.buffer.reset(),this.af&&window.csClearInterval(this.af)}sendToParent(t,e){var i;if(this.PO()){(i=this.cf)===null||i===void 0||i.call(this,t,e);return}if(this.OO(t)){let n=this.buildChildBaseMessage(t,e);this.buffer.addMessage(n)}}PO(){return this.pr&&this.of}OO(t){return!this.pr||t===z.Commands}onWebViewEvent(t){this.cf=t}setAnalyticsStatus(t){this.of=t,this.of&&this.MO()}sendAllMessagesFromBuffer(){var t;let e=this.buffer.getMessages();for(let i of e)(t=this.cf)===null||t===void 0||t.call(this,i.type,i.content);this.buffer.reset()}MO(){var t;if(!this.pr)return;let e=this.buffer.getMessages();for(let i of e)i.type===z.Commands&&((t=this.cf)===null||t===void 0||t.call(this,i.type,i.content));this.buffer.reset()}buildChildBaseMessage(t,e){return{type:t,content:e}}IO(){this.pr=bt.isCSJavascriptBridgeDefined(),this.pr?this.GE():this.af=window.csSetInterval(()=>{this.pr=bt.isCSJavascriptBridgeDefined(),this.pr&&(this.GE(),window.csClearInterval(this.af))},this.CO)}GE(){this.DO(),this.rl=bt.getBridgeVersion(),this.rl===null?this.sendAllMessagesFromBuffer():this.rl>=Em?(this.kO(),bt.notifyIsReadyForTracking()):Y.warn(`bridge version ${this.rl} is not supported`)}DO(){let t={message:csJSON.stringify(this.E),errorCode:"TAG_CONFIGURATION",level:Ot.critical};bt.sendLog(t)}kO(){this.mt.emitStopAnalytics()}}return s})(),bb=(()=>{class s{constructor(t,e,i){this.E=t,this.vt=e,this.M=i}init(){this.E.isChild=!0,Mi.isSupported()&&Mi.setDigestSalt(this.E.projectId.toString());let t,e,i,n,o,c,h,d,f,g;this.M.schedule(()=>{var v;t=new Ep(this.M),e=new RT,i=new Sb,n=new _b(this.E.whitelistedAttributes);let _=[mc.UXA];this.vt.isInWebViewContext()?(window.cs_wvt=window.cs_wvt||[],csArray.prototype.push.call(_,mc.WVT),o=new Tb(e,this.E)):(o=new MT(this.E,t,i,n,e),!((v=this.E.experimental)===null||v===void 0)&&v.checkPIIMigration&&(g=new od)),c=new ad(_,g)}),this.M.schedule(()=>{let v;h=new IT(c,o,v),d=new CT(h)}),this.M.schedule(()=>{d.init()}),this.M.schedule(()=>{this.E.implementations&&(f=new Pf(this.E.implementations,c,this.M,this.E.experimental.snippets),f.init(),t.addListener(f))}),this.M.schedule(()=>{}),this.M.schedule(()=>{t.addListener(d)}),this.M.schedule(()=>{t.emitInitTracking()}),this.M.schedule(()=>{new vb(e,t,this.E,o,i,c,this.vt,this.M,n,g).start()})}}return s})();var Rb=(()=>{class s{constructor(t,e,i){this.E=t,this.vt=e,this.mr=i}start(){var t,e,i,n,o;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.E.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new WA,h=new Sf(!!(!((t=this.E.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.E.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(i=this.E.taskSchedulerOptions)===null||i===void 0?void 0:i.waitDuration),d=new Um(this.vt,this.E);d.init();let f=new Hm(this.E,d);if(this.vt.isTopWindowTracker()&&f.canTrack()){if(!((n=window.CSProtectnativeFunctionsLogs)===null||n===void 0)&&n.Warning&&Y.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Critical){Y.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}Lm();let v=new Ep(h),_=new ET(this.E,d,this.mr,h,v,c);this.E.isQuotaEnabled()?_.initWithQuota():_.init()}else!this.vt.isTopWindowTracker()&&f.canTrackInChild()&&new bb(this.E,this.vt,h).init();let g=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(v){return $.isMaskedElement(v)||$.isMaskedElementChild(v)},isAttributeSensitive(v,_){return $.isMaskedAttribute(v,_)},getSensitiveAttributes(v){return no(v.attributes,_=>$.isMaskedAttribute(v,_.name))}},Console:{warn(v){g&&console.warn("cs.tracking.warning",v)},error(v){g&&console.error("cs.tracking.error",v)}},Version:Fu},window.CSFrameCommunication||(window.CSFrameCommunication=Qn,Qn.isActivable()&&Qn.waitForConnection(),this.E.isCsCrosswritingHeap()&&Qn.waitForHeapVisualLabeler(this.E.getHeapWebAppUri()))}}return it([le("main.start"),G("main.start")],s.prototype,"start",null),s})();function Cb(){csSetTimeout(()=>{let s=0;typeof CompressionStream!="undefined"&&(s|=1),typeof TransformStream!="undefined"&&(s|=2),typeof performance!="undefined"&&typeof performance.now=="function"&&(s|=4),typeof Worker!="undefined"&&(s|=8),typeof scheduler!="undefined"&&(typeof scheduler.yield=="function"&&(s|=16),typeof scheduler.postTask=="function"&&(s|=32)),rt.counters.availableFeatures.set(s)})}var Ib=(()=>{class s{constructor(t,e,i){this.J=t,this.D=e,this.HO=i,this.wt=[],this.BO=fl().v,Cb()}flush(){this.wt.length!==0&&(this.J.send({m:csArray.prototype.map.call(this.wt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.D.anonymizePII(window.location.pathname),pid:this.HO,v:this.BO}),this.wt=[])}push(t){csArray.prototype.push.call(this.wt,...t),this.flush()}}return s.THROTTLE_INTERVAL=5e3,it([Fi({wait:s.THROTTLE_INTERVAL,mode:"trailing"})],s.prototype,"flush",null),s})();function Pb(s,r){let t=s.validationRate/10,e=ps.boolean(t);if((s.environment==="staging"||!1||e)&&!r.isInWebViewContext())try{let o=Nf.create(r.isTopWindowTracker()),h=new Mf(o).create(s.getMetricsUri()),d=new Bi,f=new Ib(h,d,s.projectId);rt.setService(f)}catch(o){Y.warn(`Error initializing metrics: ${o.message}`)}}function Ob(){var s;Gp();let r=new Dm(window.CS_CONF);window._uxa=window._uxa||[],r.processOptionOverrides(window._uxa);let t=new Wg(window,r);t.init();let e=new Jg;if(Pp(Y),Gg(),Y.computeIsActive(r.validationRate),t.isTopWindowTracker()){let n=new ym(r,e);Y.setStrategy(n)}else if(t.isInIframeContext()){let n=new Kg(r);Y.setStrategy(n)}else if(t.isInWebViewContext()){let n=new vm;Y.setStrategy(n)}!((s=r==null?void 0:r.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=Vi(window,"MutationObserver")),Mg(),Pb(r,t),new Rb(r,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{qg(Ob)}catch{}});})();

// signature-78491251d1c4ba7b26ff0f706a2ceb8d637beb4c91c57da6c78d9ed7a0699cf1